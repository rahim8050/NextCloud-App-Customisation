{"version":3,"file":"memories-vendors-node_modules_nextcloud_upload_dist_chunks_ConflictPicker-DUp0Tl_A_mjs.js?v=ccd5f810ebf3d9e33d3b","mappings":"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","sources":["webpack:///memories/node_modules/@nextcloud/vue/dist/Composables/useFormatDateTime.mjs","webpack:///memories/node_modules/@nextcloud/vue/dist/chunks/NcDateTime-enXYuwj8.mjs","webpack:///memories/node_modules/@nextcloud/upload/dist/assets/ConflictPicker-IcnKp17n.css","webpack://memories/../node_modules/@nextcloud/upload/dist/assets/ConflictPicker-IcnKp17n.css?6b96","webpack:///memories/node_modules/@nextcloud/upload/dist/chunks/ConflictPicker-DUp0Tl_A.mjs"],"sourcesContent":["import { formatRelativeTime, getCanonicalLocale } from \"@nextcloud/l10n\";\nimport { toValue } from \"@vueuse/core\";\nimport { computed, ref, watchEffect, onUnmounted, readonly } from \"vue\";\nimport { r as register, e as t2, a as t } from \"../chunks/_l10n-BEfeU7gr.mjs\";\nregister(t2);\nconst FEW_SECONDS_AGO = {\n  long: t(\"a few seconds ago\"),\n  short: t(\"seconds ago\"),\n  // FOR TRANSLATORS: Shorter version of 'a few seconds ago'\n  narrow: t(\"sec. ago\")\n  // FOR TRANSLATORS: If possible in your language an even shorter version of 'a few seconds ago'\n};\nfunction useFormatRelativeTime(timestamp = Date.now(), opts = {}) {\n  let timeoutId;\n  const date = computed(() => new Date(toValue(timestamp)));\n  const options = computed(() => {\n    const { language, relativeTime: relativeTime2, ignoreSeconds } = toValue(opts);\n    return {\n      ...language && { language },\n      ...relativeTime2 && { relativeTime: relativeTime2 },\n      ignoreSeconds: ignoreSeconds ? FEW_SECONDS_AGO[relativeTime2 || \"long\"] : false\n    };\n  });\n  const relativeTime = ref(\"\");\n  watchEffect(() => updateRelativeTime());\n  function updateRelativeTime() {\n    relativeTime.value = formatRelativeTime(date.value, options.value);\n    if (toValue(opts).update !== false) {\n      const diff = Math.abs(Date.now() - new Date(toValue(timestamp)).getTime());\n      const interval = diff > 12e4 || options.value.ignoreSeconds ? Math.min(diff / 60, 18e5) : 1e3;\n      timeoutId = window.setTimeout(updateRelativeTime, interval);\n    }\n  }\n  onUnmounted(() => timeoutId && window.clearTimeout(timeoutId));\n  return readonly(relativeTime);\n}\nfunction useFormatTime(timestamp, opts) {\n  const options = computed(() => ({\n    locale: getCanonicalLocale(),\n    format: { dateStyle: \"short\", timeStyle: \"medium\" },\n    ...toValue(opts)\n  }));\n  const formatter = computed(() => new Intl.DateTimeFormat(options.value.locale, options.value.format));\n  return computed(() => formatter.value.format(toValue(timestamp)));\n}\nfunction useFormatDateTime(timestamp = Date.now(), opts = {}) {\n  const formattedFullTime = useFormatTime(timestamp, opts);\n  const relativeTime = useFormatRelativeTime(timestamp, computed(() => {\n    const options = toValue(opts);\n    return {\n      ...options,\n      relativeTime: typeof options.relativeTime === \"string\" ? options.relativeTime : \"long\"\n    };\n  }));\n  const formattedTime = computed(() => toValue(opts).relativeTime !== false ? relativeTime.value : formattedFullTime.value);\n  return {\n    formattedTime,\n    formattedFullTime\n  };\n}\nexport {\n  useFormatDateTime,\n  useFormatRelativeTime,\n  useFormatTime\n};\n//# sourceMappingURL=useFormatDateTime.mjs.map\n","import { computed, toRef } from \"vue\";\nimport { useFormatTime, useFormatRelativeTime } from \"../Composables/useFormatDateTime.mjs\";\nimport { n as normalizeComponent } from \"./_plugin-vue2_normalizer-DU4iP6Vu.mjs\";\nconst _sfc_main = {\n  name: \"NcDateTime\",\n  props: {\n    /**\n     * The timestamp to display, either an unix timestamp (in milliseconds) or a Date object\n     */\n    timestamp: {\n      type: [Date, Number],\n      required: true\n    },\n    /**\n     * The format used for displaying, or if relative time is used the format used for the title (optional)\n     *\n     * @type {Intl.DateTimeFormatOptions}\n     */\n    format: {\n      type: Object,\n      default: () => ({ timeStyle: \"medium\", dateStyle: \"short\" })\n    },\n    /**\n     * Wether to display the timestamp as time from now (optional)\n     *\n     * - `false`: Disable relative time\n     * - `'long'`: Long text, like *2 seconds ago* (default)\n     * - `'short'`: Short text, like *2 sec. ago*\n     * - `'narrow'`: Even shorter text (same as `'short'` on some languages)\n     */\n    relativeTime: {\n      type: [Boolean, String],\n      default: \"long\",\n      validator: (v) => v === false || [\"long\", \"short\", \"narrow\"].includes(v)\n    },\n    /**\n     * Ignore seconds when displaying the relative time and just show `a few seconds ago`\n     */\n    ignoreSeconds: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    const timeOptions = computed(() => ({ format: props.format }));\n    const relativeTimeOptions = computed(() => ({\n      ignoreSeconds: props.ignoreSeconds,\n      relativeTime: props.relativeTime || \"long\",\n      update: props.relativeTime !== false\n    }));\n    const title = useFormatTime(toRef(props, \"timestamp\"), timeOptions);\n    const relativeTime = useFormatRelativeTime(toRef(props, \"timestamp\"), relativeTimeOptions);\n    const formattedTime = computed(() => props.relativeTime ? relativeTime.value : title.value);\n    return {\n      formattedTime,\n      title\n    };\n  }\n};\nvar _sfc_render = function render() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", { staticClass: \"nc-datetime\", attrs: { \"dir\": \"auto\", \"data-timestamp\": _vm.timestamp, \"title\": _vm.title }, domProps: { \"textContent\": _vm._s(_vm.formattedTime) } });\n};\nvar _sfc_staticRenderFns = [];\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  _sfc_main,\n  _sfc_render,\n  _sfc_staticRenderFns,\n  false,\n  null,\n  null\n);\nconst NcDateTime = __component__.exports;\nexport {\n  NcDateTime as N\n};\n//# sourceMappingURL=NcDateTime-enXYuwj8.mjs.map\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.node-picker__wrapper[data-v-555717a9]:not(:last-of-type){border-bottom:1px solid var(--color-border)}.node-picker[data-v-555717a9]{display:flex;align-items:center;height:64px}.node-picker__icon[data-v-555717a9],.node-picker__preview[data-v-555717a9]{height:64px;width:64px;margin:0 var(--secondary-margin);display:block;flex:0 0 64px}.node-picker__icon[data-v-555717a9]{color:var(--color-text-maxcontrast)}.node-picker__icon.folder-icon[data-v-555717a9]{color:var(--color-primary-element)}.node-picker__preview[data-v-555717a9]{overflow:hidden;border-radius:calc(var(--border-radius)*2);object-fit:cover}.node-picker__desc[data-v-555717a9]{display:flex;flex-direction:column}.node-picker__desc span[data-v-555717a9]{white-space:nowrap}[data-v-d96ae170] .modal-container__content{display:flex;overflow:visible;flex-direction:column}.conflict-picker[data-v-d96ae170]{--margin: 36px;--secondary-margin: 18px}.conflict-picker__header[data-v-d96ae170]{position:sticky;z-index:10;top:0;padding:0 var(--margin);padding-bottom:var(--secondary-margin);background-color:var(--color-main-background)}.conflict-picker__form[data-v-d96ae170]{position:relative;overflow:auto;padding:0 var(--margin);margin-top:calc(-1*var(--secondary-margin))}.conflict-picker fieldset[data-v-d96ae170]{display:grid;width:100%;margin-top:calc(var(--secondary-margin)*1.5);padding-bottom:var(--secondary-margin);grid-template-columns:1fr 1fr}.conflict-picker fieldset[data-v-d96ae170] legend{display:flex;align-items:center;width:100%;margin-bottom:calc(var(--secondary-margin)/2)}.conflict-picker fieldset.conflict-picker__all[data-v-d96ae170]{position:sticky;top:0;margin:0;padding:var(--secondary-margin) 0;background-image:linear-gradient(to top, transparent, var(--color-main-background-blur) 10%, var(--color-main-background) 15%)}.conflict-picker fieldset.conflict-picker__all+fieldset[data-v-d96ae170]{margin-top:0}.conflict-picker fieldset.conflict-picker__all[data-v-d96ae170] label{font-weight:bold}.conflict-picker .button-vue--disabled[data-v-d96ae170]{cursor:default;opacity:.5;filter:saturate(0.7)}.conflict-picker[data-v-d96ae170] .dialog__actions{width:auto;margin-inline:12px}.conflict-picker[data-v-d96ae170] .dialog__actions span.dialog__actions-separator{margin-left:auto}@media screen and (max-width: 768px){.conflict-picker[data-v-d96ae170]{--margin: var(--secondary-margin) !important}.conflict-picker__description[data-v-d96ae170]{display:none !important}.conflict-picker fieldset[data-v-d96ae170]{grid-template-columns:1fr !important}.conflict-picker fieldset.conflict-picker__all[data-v-d96ae170]{position:static}}@media screen and (max-width: 512px){.conflict-picker[data-v-d96ae170] .dialog__actions{flex-wrap:wrap}.conflict-picker[data-v-d96ae170] .dialog__actions span.dialog__actions-separator{width:100%}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./../node_modules/@nextcloud/upload/dist/assets/ConflictPicker-IcnKp17n.css\"],\"names\":[],\"mappings\":\"AAAA,0DACE,2CAAA,CAEF,8BACE,YAAA,CACA,kBAAA,CACA,WAAA,CAEF,2EACE,WAAA,CACA,UAAA,CACA,gCAAA,CACA,aAAA,CACA,aAAA,CAEF,oCACE,mCAAA,CAEF,gDACE,kCAAA,CAEF,uCACE,eAAA,CACA,0CAAA,CACA,gBAAA,CAEF,oCACE,YAAA,CACA,qBAAA,CAEF,yCACE,kBAAA,CACD,4CACC,YAAA,CACA,gBAAA,CACA,qBAAA,CAEF,kCACE,cAAA,CACA,wBAAA,CAEF,0CACE,eAAA,CACA,UAAA,CACA,KAAA,CACA,uBAAA,CACA,sCAAA,CACA,6CAAA,CAEF,wCACE,iBAAA,CACA,aAAA,CACA,uBAAA,CACA,2CAAA,CAEF,2CACE,YAAA,CACA,UAAA,CACA,4CAAA,CACA,sCAAA,CACA,6BAAA,CAEF,kDACE,YAAA,CACA,kBAAA,CACA,UAAA,CACA,6CAAA,CAEF,gEACE,eAAA,CACA,KAAA,CACA,QAAA,CACA,iCAAA,CACA,8HAAA,CAEF,yEACE,YAAA,CAEF,sEACE,gBAAA,CAEF,wDACE,cAAA,CACA,UAAA,CACA,oBAAA,CAEF,mDACE,UAAA,CACA,kBAAA,CAEF,kFACE,gBAAA,CAEF,qCACA,kCACI,4CAAA,CAEJ,+CACI,uBAAA,CAEJ,2CACI,oCAAA,CAEJ,gEACI,eAAA,CAAA,CAGJ,qCACA,mDACI,cAAA,CAEJ,kFACI,UAAA,CAAA\",\"sourcesContent\":[\".node-picker__wrapper[data-v-555717a9]:not(:last-of-type) {\\n  border-bottom: 1px solid var(--color-border);\\n}\\n.node-picker[data-v-555717a9] {\\n  display: flex;\\n  align-items: center;\\n  height: 64px;\\n}\\n.node-picker__icon[data-v-555717a9], .node-picker__preview[data-v-555717a9] {\\n  height: 64px;\\n  width: 64px;\\n  margin: 0 var(--secondary-margin);\\n  display: block;\\n  flex: 0 0 64px;\\n}\\n.node-picker__icon[data-v-555717a9] {\\n  color: var(--color-text-maxcontrast);\\n}\\n.node-picker__icon.folder-icon[data-v-555717a9] {\\n  color: var(--color-primary-element);\\n}\\n.node-picker__preview[data-v-555717a9] {\\n  overflow: hidden;\\n  border-radius: calc(var(--border-radius) * 2);\\n  object-fit: cover;\\n}\\n.node-picker__desc[data-v-555717a9] {\\n  display: flex;\\n  flex-direction: column;\\n}\\n.node-picker__desc span[data-v-555717a9] {\\n  white-space: nowrap;\\n}[data-v-d96ae170] .modal-container__content {\\n  display: flex;\\n  overflow: visible;\\n  flex-direction: column;\\n}\\n.conflict-picker[data-v-d96ae170] {\\n  --margin: 36px;\\n  --secondary-margin: 18px;\\n}\\n.conflict-picker__header[data-v-d96ae170] {\\n  position: sticky;\\n  z-index: 10;\\n  top: 0;\\n  padding: 0 var(--margin);\\n  padding-bottom: var(--secondary-margin);\\n  background-color: var(--color-main-background);\\n}\\n.conflict-picker__form[data-v-d96ae170] {\\n  position: relative;\\n  overflow: auto;\\n  padding: 0 var(--margin);\\n  margin-top: calc(-1 * var(--secondary-margin));\\n}\\n.conflict-picker fieldset[data-v-d96ae170] {\\n  display: grid;\\n  width: 100%;\\n  margin-top: calc(var(--secondary-margin) * 1.5);\\n  padding-bottom: var(--secondary-margin);\\n  grid-template-columns: 1fr 1fr;\\n}\\n.conflict-picker fieldset[data-v-d96ae170] legend {\\n  display: flex;\\n  align-items: center;\\n  width: 100%;\\n  margin-bottom: calc(var(--secondary-margin) / 2);\\n}\\n.conflict-picker fieldset.conflict-picker__all[data-v-d96ae170] {\\n  position: sticky;\\n  top: 0;\\n  margin: 0;\\n  padding: var(--secondary-margin) 0;\\n  background-image: linear-gradient(to top, transparent, var(--color-main-background-blur) 10%, var(--color-main-background) 15%);\\n}\\n.conflict-picker fieldset.conflict-picker__all + fieldset[data-v-d96ae170] {\\n  margin-top: 0;\\n}\\n.conflict-picker fieldset.conflict-picker__all[data-v-d96ae170] label {\\n  font-weight: bold;\\n}\\n.conflict-picker .button-vue--disabled[data-v-d96ae170] {\\n  cursor: default;\\n  opacity: 0.5;\\n  filter: saturate(0.7);\\n}\\n.conflict-picker[data-v-d96ae170] .dialog__actions {\\n  width: auto;\\n  margin-inline: 12px;\\n}\\n.conflict-picker[data-v-d96ae170] .dialog__actions span.dialog__actions-separator {\\n  margin-left: auto;\\n}\\n@media screen and (max-width: 768px) {\\n.conflict-picker[data-v-d96ae170] {\\n    --margin: var(--secondary-margin) !important;\\n}\\n.conflict-picker__description[data-v-d96ae170] {\\n    display: none !important;\\n}\\n.conflict-picker fieldset[data-v-d96ae170] {\\n    grid-template-columns: 1fr !important;\\n}\\n.conflict-picker fieldset.conflict-picker__all[data-v-d96ae170] {\\n    position: static;\\n}\\n}\\n@media screen and (max-width: 512px) {\\n.conflict-picker[data-v-d96ae170] .dialog__actions {\\n    flex-wrap: wrap;\\n}\\n.conflict-picker[data-v-d96ae170] .dialog__actions span.dialog__actions-separator {\\n    width: 100%;\\n}\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./ConflictPicker-IcnKp17n.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../css-loader/dist/cjs.js!../../../../sass-loader/dist/cjs.js!./ConflictPicker-IcnKp17n.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import '../assets/ConflictPicker-IcnKp17n.css';\nimport { defineComponent } from \"vue\";\nimport { showError } from \"@nextcloud/dialogs\";\nimport { FileType, formatFileSize, getUniqueName } from \"@nextcloud/files\";\nimport { n as normalizeComponent, t, i as isFileSystemEntry, a as isFileSystemFileEntry, l as logger, b as n } from \"./index-DEeHBxbo.mjs\";\nimport NcCheckboxRadioSwitch from \"@nextcloud/vue/dist/Components/NcCheckboxRadioSwitch.js\";\nimport NcDialog from \"@nextcloud/vue/dist/Components/NcDialog.js\";\nimport NcButton from \"@nextcloud/vue/dist/Components/NcButton.js\";\nimport { generateUrl } from \"@nextcloud/router\";\nimport NcDateTime from \"@nextcloud/vue/dist/Components/NcDateTime.js\";\nconst _sfc_main$5 = {\n  name: \"ArrowRightIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$5 = function render() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon arrow-right-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$5 = [];\nvar __component__$5 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$5,\n  _sfc_render$5,\n  _sfc_staticRenderFns$5,\n  false,\n  null,\n  null\n);\nconst ArrowRight = __component__$5.exports;\nconst _sfc_main$4 = {\n  name: \"CloseIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$4 = function render2() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon close-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$4 = [];\nvar __component__$4 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$4,\n  _sfc_render$4,\n  _sfc_staticRenderFns$4,\n  false,\n  null,\n  null\n);\nconst Close = __component__$4.exports;\nconst _sfc_main$3 = {\n  name: \"FileIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$3 = function render3() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon file-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$3 = [];\nvar __component__$3 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$3,\n  _sfc_render$3,\n  _sfc_staticRenderFns$3,\n  false,\n  null,\n  null\n);\nconst FileSvg = __component__$3.exports;\nconst _sfc_main$2 = {\n  name: \"FolderIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nvar _sfc_render$2 = function render4() {\n  var _vm = this, _c = _vm._self._c;\n  return _c(\"span\", _vm._b({ staticClass: \"material-design-icon folder-icon\", attrs: { \"aria-hidden\": _vm.title ? null : \"true\", \"aria-label\": _vm.title, \"role\": \"img\" }, on: { \"click\": function($event) {\n    return _vm.$emit(\"click\", $event);\n  } } }, \"span\", _vm.$attrs, false), [_c(\"svg\", { staticClass: \"material-design-icon__svg\", attrs: { \"fill\": _vm.fillColor, \"width\": _vm.size, \"height\": _vm.size, \"viewBox\": \"0 0 24 24\" } }, [_c(\"path\", { attrs: { \"d\": \"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z\" } }, [_vm.title ? _c(\"title\", [_vm._v(_vm._s(_vm.title))]) : _vm._e()])])]);\n};\nvar _sfc_staticRenderFns$2 = [];\nvar __component__$2 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$2,\n  _sfc_render$2,\n  _sfc_staticRenderFns$2,\n  false,\n  null,\n  null\n);\nconst FolderSvg = __component__$2.exports;\nconst PREVIEW_SIZE = 64;\nconst _sfc_main$1 = defineComponent({\n  name: \"NodesPicker\",\n  components: {\n    FileSvg,\n    FolderSvg,\n    NcCheckboxRadioSwitch,\n    NcDateTime\n  },\n  props: {\n    incoming: {\n      type: [File, Object],\n      required: true\n    },\n    existing: {\n      type: Object,\n      required: true\n    },\n    newSelected: {\n      type: Array,\n      required: true\n    },\n    oldSelected: {\n      type: Array,\n      required: true\n    }\n  },\n  data() {\n    return {\n      asyncPreview: null,\n      incomingFile: null\n    };\n  },\n  computed: {\n    /**\n     * Whether the incoming or existing file is selected.\n     * This is used by the parent component to ensure\n     * that the user has selected at least one of the two files.\n     */\n    isEnoughSelected() {\n      return this.isChecked(this.incoming, this.newSelected) || this.isChecked(this.existing, this.oldSelected);\n    },\n    incomingPreview() {\n      if (!this.incomingFile) {\n        return null;\n      }\n      const preview = this.previewUrl(this.incomingFile);\n      return preview ?? this.asyncPreview;\n    },\n    incomingLastModified() {\n      if (!this.incomingFile) {\n        return null;\n      }\n      return this.lastModified(this.incomingFile);\n    },\n    incomingSize() {\n      if (!this.incomingFile) {\n        return t(\"Unknown size\");\n      }\n      return this.size(this.incomingFile);\n    },\n    existingPreview() {\n      return this.previewUrl(this.existing);\n    },\n    existingLastModified() {\n      return this.lastModified(this.existing);\n    }\n  },\n  watch: {\n    /**\n     * Watch \"incoming\" to update \"incomingFile\"\n     */\n    incoming: {\n      // Run the watcher also on mount with initial \"incoming\" value\n      immediate: true,\n      async handler() {\n        if (this.incoming instanceof File) {\n          this.incomingFile = this.incoming;\n        } else if (isFileSystemFileEntry(this.incoming)) {\n          this.incomingFile = await new Promise((resolve, reject) => this.incoming.file(resolve, reject));\n        } else {\n          this.incomingFile = null;\n        }\n      }\n    }\n  },\n  methods: {\n    lastModified(node) {\n      const lastModified = node instanceof File ? new Date(node.lastModified) : node.mtime;\n      return lastModified ?? null;\n    },\n    size(node) {\n      if (node.size) {\n        return formatFileSize(node.size, true);\n      }\n      return t(\"Unknown size\");\n    },\n    previewUrl(node) {\n      if (node instanceof File) {\n        this.previewImage(node).then((url) => {\n          this.asyncPreview = url;\n        });\n        return null;\n      }\n      if (node.type === FileType.Folder) {\n        return null;\n      }\n      try {\n        const previewUrl = node.attributes.previewUrl || generateUrl(\"/core/preview?fileId={fileid}\", {\n          fileid: node.fileid\n        });\n        const url = new URL(window.location.origin + previewUrl);\n        url.searchParams.set(\"x\", PREVIEW_SIZE.toString());\n        url.searchParams.set(\"y\", PREVIEW_SIZE.toString());\n        url.searchParams.set(\"mimeFallback\", \"true\");\n        const etag = node.attributes?.etag || \"\";\n        url.searchParams.set(\"v\", etag.slice(0, 6));\n        return url.href;\n      } catch (e) {\n        return null;\n      }\n    },\n    isFolder(node) {\n      if (isFileSystemEntry(node)) {\n        return node.isDirectory;\n      }\n      node = node;\n      return node.type === FileType.Folder || node.type === \"httpd/unix-directory\";\n    },\n    isChecked(node, selected) {\n      return selected.includes(node);\n    },\n    onUpdateIncomingChecked(checked) {\n      if (checked) {\n        this.$emit(\"update:newSelected\", [this.incoming, ...this.newSelected]);\n      } else {\n        this.$emit(\"update:newSelected\", this.newSelected.filter((node) => node !== this.incoming));\n      }\n    },\n    onUpdateExistingChecked(checked) {\n      if (checked) {\n        this.$emit(\"update:oldSelected\", [this.existing, ...this.oldSelected]);\n      } else {\n        this.$emit(\"update:oldSelected\", this.oldSelected.filter((node) => node !== this.existing));\n      }\n    },\n    /**\n     * Get the preview Image of a file\n     * @param file the soon-to-be-uploaded File\n     */\n    async previewImage(file) {\n      return new Promise((resolve) => {\n        if (file instanceof File && file.type.startsWith(\"image/\")) {\n          const reader = new FileReader();\n          reader.onload = async (e) => {\n            const result = e?.target?.result;\n            if (result instanceof ArrayBuffer) {\n              const blob = new Blob([result], { type: file.type });\n              const url = URL.createObjectURL(blob);\n              resolve(url);\n              return;\n            }\n            resolve(null);\n          };\n          reader.readAsArrayBuffer(file);\n        } else {\n          resolve(null);\n        }\n      });\n    },\n    t\n  }\n});\nvar _sfc_render$1 = function render5() {\n  var _vm = this, _c = _vm._self._c;\n  _vm._self._setupProxy;\n  return _c(\"fieldset\", { staticClass: \"node-picker__wrapper\", attrs: { \"data-cy-conflict-picker-fieldset\": _vm.existing.basename } }, [_c(\"legend\", [_vm._v(_vm._s(_vm.existing.basename))]), _c(\"NcCheckboxRadioSwitch\", { attrs: { \"checked\": _vm.isChecked(_vm.incoming, _vm.newSelected), \"required\": !_vm.isEnoughSelected, \"data-cy-conflict-picker-input-incoming\": _vm.existing.basename }, on: { \"update:checked\": _vm.onUpdateIncomingChecked } }, [_c(\"span\", { staticClass: \"node-picker node-picker--incoming\" }, [!_vm.incomingPreview ? [_vm.isFolder(_vm.incoming) ? _c(\"FolderSvg\", { staticClass: \"node-picker__icon\", attrs: { \"size\": 48 } }) : _c(\"FileSvg\", { staticClass: \"node-picker__icon\", attrs: { \"size\": 48 } })] : _c(\"img\", { staticClass: \"node-picker__preview\", attrs: { \"src\": _vm.incomingPreview, \"alt\": _vm.t(\"Preview image\"), \"loading\": \"lazy\" } }), _c(\"span\", { staticClass: \"node-picker__desc\" }, [_c(\"span\", { staticClass: \"node-picker__name\" }, [_vm._v(_vm._s(_vm.t(\"New version\")))]), _vm.incomingLastModified ? _c(\"NcDateTime\", { staticClass: \"node-picker__mtime\", attrs: { \"timestamp\": _vm.incomingLastModified, \"relative-time\": false, \"format\": { timeStyle: \"short\", dateStyle: \"medium\" } } }) : _c(\"span\", { staticClass: \"node-picker__mtime\" }, [_vm._v(\" \" + _vm._s(_vm.t(\"Last modified date unknown\")) + \" \")]), _c(\"span\", { staticClass: \"node-picker__size\" }, [_vm._v(_vm._s(_vm.incomingSize))])], 1)], 2)]), _c(\"NcCheckboxRadioSwitch\", { attrs: { \"checked\": _vm.isChecked(_vm.existing, _vm.oldSelected), \"required\": !_vm.isEnoughSelected, \"data-cy-conflict-picker-input-existing\": _vm.existing.basename }, on: { \"update:checked\": _vm.onUpdateExistingChecked } }, [_c(\"span\", { staticClass: \"node-picker node-picker--existing\" }, [!_vm.existingPreview ? [_vm.isFolder(_vm.existing) ? _c(\"FolderSvg\", { staticClass: \"node-picker__icon\", attrs: { \"size\": 48 } }) : _c(\"FileSvg\", { staticClass: \"node-picker__icon\", attrs: { \"size\": 48 } })] : _c(\"img\", { staticClass: \"node-picker__preview\", attrs: { \"src\": _vm.existingPreview, \"alt\": _vm.t(\"Preview image\"), \"loading\": \"lazy\" } }), _c(\"span\", { staticClass: \"node-picker__desc\" }, [_c(\"span\", { staticClass: \"node-picker__name\" }, [_vm._v(_vm._s(_vm.t(\"Existing version\")))]), _vm.existingLastModified ? _c(\"NcDateTime\", { staticClass: \"node-picker__mtime\", attrs: { \"timestamp\": _vm.existingLastModified, \"relative-time\": false, \"format\": { timeStyle: \"short\", dateStyle: \"medium\" } } }) : _c(\"span\", { staticClass: \"node-picker__mtime\" }, [_vm._v(\" \" + _vm._s(_vm.t(\"Last modified date unknown\")) + \" \")]), _c(\"span\", { staticClass: \"node-picker__size\" }, [_vm._v(_vm._s(_vm.size(_vm.existing)))])], 1)], 2)])], 1);\n};\nvar _sfc_staticRenderFns$1 = [];\nvar __component__$1 = /* @__PURE__ */ normalizeComponent(\n  _sfc_main$1,\n  _sfc_render$1,\n  _sfc_staticRenderFns$1,\n  false,\n  null,\n  \"555717a9\"\n);\nconst NodesPicker = __component__$1.exports;\nconst _sfc_main = defineComponent({\n  name: \"ConflictPicker\",\n  components: {\n    ArrowRight,\n    Close,\n    NcButton,\n    NcCheckboxRadioSwitch,\n    NcDialog,\n    NodesPicker\n  },\n  props: {\n    /** Directory/context file name */\n    dirname: {\n      type: String,\n      default: \"\"\n    },\n    /** All the existing files in the current directory */\n    content: {\n      type: Array,\n      required: true\n    },\n    /** New files being moved/uploaded */\n    conflicts: {\n      type: Array,\n      required: true\n    },\n    /**\n     * If set to true no hint about overwriting directory content will be shown\n     */\n    recursiveUpload: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: [\"cancel\", \"submit\"],\n  setup() {\n    return {\n      blockedTitle: t(\"You need to select at least one version of each file to continue.\")\n    };\n  },\n  data() {\n    return {\n      // computed list of conflicting files already present in the directory\n      files: [],\n      opened: true,\n      newSelected: [],\n      oldSelected: []\n    };\n  },\n  computed: {\n    name() {\n      if (this?.dirname?.trim?.() !== \"\") {\n        return n(\"{count} file conflict in {dirname}\", \"{count} file conflicts in {dirname}\", this.conflicts.length, {\n          count: this.conflicts.length,\n          dirname: this.dirname\n        });\n      }\n      return n(\"{count} file conflict\", \"{count} files conflict\", this.conflicts.length, { count: this.conflicts.length });\n    },\n    skipButtonLabel() {\n      if (this.conflicts.length === 1) {\n        return t(\"Skip this file\");\n      }\n      return n(\"Skip {count} file\", \"Skip {count} files\", this.conflicts.length, { count: this.conflicts.length });\n    },\n    // Select all incoming files\n    selectAllNewBind() {\n      const label = this.isNoneNewSelected || this.isSomeNewSelected ? this.t(\"Select all\") : this.t(\"Unselect all\");\n      return {\n        \"aria-label\": label,\n        checked: this.isAllNewSelected,\n        indeterminate: this.isSomeNewSelected,\n        title: label\n      };\n    },\n    isAllNewSelected() {\n      return this.newSelected.length === this.conflicts.length;\n    },\n    isNoneNewSelected() {\n      return this.newSelected.length === 0;\n    },\n    isSomeNewSelected() {\n      return !this.isAllNewSelected && !this.isNoneNewSelected;\n    },\n    // Select all existing files\n    selectAllOldBind() {\n      const label = this.isNoneOldSelected || this.isSomeOldSelected ? this.t(\"Select all\") : this.t(\"Unselect all\");\n      return {\n        \"aria-label\": label,\n        checked: this.isAllOldSelected,\n        indeterminate: this.isSomeOldSelected,\n        title: label\n      };\n    },\n    isAllOldSelected() {\n      return this.oldSelected.length === this.files.length;\n    },\n    isNoneOldSelected() {\n      return this.oldSelected.length === 0;\n    },\n    isSomeOldSelected() {\n      return !this.isAllOldSelected && !this.isNoneOldSelected;\n    },\n    // Global handlings\n    isEnoughSelected() {\n      if (this.isAllOldSelected || this.isAllNewSelected) {\n        return true;\n      }\n      return this.$refs?.nodesPicker?.every?.((picker) => picker.isEnoughSelected);\n    }\n  },\n  mounted() {\n    this.files = this.conflicts.map((conflict) => {\n      const name = conflict instanceof File || isFileSystemEntry(conflict) ? conflict.name : conflict.basename;\n      return this.content.find((node) => node.basename === name);\n    }).filter(Boolean);\n    if (this.conflicts.length === 0 || this.files.length === 0) {\n      const error = new Error(\"ConflictPicker: files and conflicts must not be empty\");\n      this.onCancel(error);\n      throw error;\n    }\n    if (this.conflicts.length !== this.files.length) {\n      const error = new Error(\"ConflictPicker: files and conflicts must have the same length. Make sure you filter out non conflicting files from the conflicts array.\");\n      this.onCancel(error);\n      throw error;\n    }\n    logger.debug(\"ConflictPicker initialised\", { files: this.files, conflicts: this.conflicts, content: this.content });\n  },\n  methods: {\n    onCancel(error) {\n      this.opened = false;\n      this.$emit(\"cancel\", error);\n    },\n    onSkip() {\n      logger.debug(\"Conflict skipped. Ignoring all conflicting files\");\n      this.opened = false;\n      this.$emit(\"submit\", {\n        selected: [],\n        renamed: []\n      });\n    },\n    onSubmit() {\n      if (!this.isEnoughSelected) {\n        this.scrollValidityInputIntoView();\n        this.$refs.form.reportValidity();\n        showError(this.blockedTitle);\n        return;\n      }\n      const selectedOldNames = this.oldSelected.map((node) => node.basename);\n      const directoryContent = this.content.map((node) => node.basename);\n      const renamed = [];\n      const toRename = this.newSelected.filter((node) => {\n        const name = node instanceof File || isFileSystemEntry(node) ? node.name : node.basename;\n        return selectedOldNames.includes(name);\n      });\n      if (toRename.length > 0) {\n        toRename.forEach((file) => {\n          const name = file instanceof File || isFileSystemEntry(file) ? file.name : file.basename;\n          const newName = getUniqueName(name, directoryContent);\n          if (file instanceof File || isFileSystemEntry(file)) {\n            Object.defineProperty(file, \"name\", { value: newName });\n            renamed.push(file);\n            return;\n          }\n          file.rename(newName);\n          renamed.push(file);\n        });\n      }\n      const selected = this.newSelected.filter((node) => {\n        const name = node instanceof File || isFileSystemEntry(node) ? node.name : node.basename;\n        return !selectedOldNames.includes(name) && !toRename.includes(node);\n      });\n      logger.debug(\"Conflict resolved\", { selected, renamed });\n      this.opened = false;\n      this.$emit(\"submit\", {\n        selected,\n        renamed\n      });\n    },\n    /**\n     * Scroll the first invalid input into view.\n     * This is needed because the browser uses behavior: \"nearest\" by default.\n     */\n    scrollValidityInputIntoView() {\n      const selector = '.checkbox-radio-switch input[type=\"checkbox\"]';\n      const checkboxes = Array.from(this.$el.querySelectorAll(selector));\n      checkboxes.forEach((input) => input?.setCustomValidity?.(\"\"));\n      const invalidInput = this.$el.querySelector(selector + \":invalid\");\n      if (invalidInput) {\n        invalidInput.setCustomValidity(this.blockedTitle);\n        invalidInput.scrollIntoView({ behavior: \"instant\", block: \"center\" });\n      }\n    },\n    onSelectAllNew(selected) {\n      if (selected) {\n        logger.debug(\"Selected all new files\");\n        this.newSelected = this.conflicts;\n      } else {\n        logger.debug(\"Cleared new selection\");\n        this.newSelected = [];\n      }\n    },\n    onSelectAllOld(selected) {\n      if (selected) {\n        logger.debug(\"Selected all existing files\");\n        this.oldSelected = this.files;\n      } else {\n        logger.debug(\"Cleared old selection\");\n        this.oldSelected = [];\n      }\n    },\n    t\n  }\n});\nvar _sfc_render = function render6() {\n  var _vm = this, _c = _vm._self._c;\n  _vm._self._setupProxy;\n  return _c(\"NcDialog\", { staticClass: \"conflict-picker\", attrs: { \"can-close\": \"\", \"data-cy-conflict-picker\": \"\", \"close-on-click-outside\": false, \"show\": _vm.opened, \"name\": _vm.name, \"size\": \"large\" }, on: { \"closing\": _vm.onCancel }, scopedSlots: _vm._u([{ key: \"actions\", fn: function() {\n    return [_c(\"NcButton\", { attrs: { \"aria-label\": _vm.t(\"Cancel\"), \"title\": _vm.t(\"Cancel the entire operation\"), \"data-cy-conflict-picker-cancel\": \"\", \"type\": \"tertiary\" }, on: { \"click\": _vm.onCancel }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n      return [_c(\"Close\", { attrs: { \"size\": 20 } })];\n    }, proxy: true }]) }, [_vm._v(\" \" + _vm._s(_vm.t(\"Cancel\")) + \" \")]), _c(\"span\", { staticClass: \"dialog__actions-separator\" }), _c(\"NcButton\", { attrs: { \"aria-label\": _vm.skipButtonLabel, \"data-cy-conflict-picker-skip\": \"\" }, on: { \"click\": _vm.onSkip }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n      return [_c(\"Close\", { attrs: { \"size\": 20 } })];\n    }, proxy: true }]) }, [_vm._v(\" \" + _vm._s(_vm.skipButtonLabel) + \" \")]), _c(\"NcButton\", { class: { \"button-vue--disabled\": !_vm.isEnoughSelected }, attrs: { \"aria-label\": _vm.t(\"Continue\"), \"title\": _vm.isEnoughSelected ? \"\" : _vm.blockedTitle, \"data-cy-conflict-picker-submit\": \"\", \"native-type\": \"submit\", \"type\": \"primary\" }, on: { \"click\": function($event) {\n      $event.stopPropagation();\n      $event.preventDefault();\n      return _vm.onSubmit.apply(null, arguments);\n    } }, scopedSlots: _vm._u([{ key: \"icon\", fn: function() {\n      return [_c(\"ArrowRight\", { attrs: { \"size\": 20 } })];\n    }, proxy: true }]) }, [_vm._v(\" \" + _vm._s(_vm.t(\"Continue\")) + \" \")])];\n  }, proxy: true }]) }, [_c(\"div\", { staticClass: \"conflict-picker__header\" }, [_c(\"p\", { staticClass: \"conflict-picker__description\", attrs: { \"id\": \"conflict-picker-description\" } }, [_vm._v(\" \" + _vm._s(_vm.t(\"Which files do you want to keep?\"))), _c(\"br\"), _vm._v(\" \" + _vm._s(_vm.t(\"If you select both versions, the incoming file will have a number added to its name.\"))), _c(\"br\"), _vm.recursiveUpload ? [_vm._v(\" \" + _vm._s(_vm.t(\"When an incoming folder is selected, the content is written into the existing folder and a recursive conflict resolution is performed.\")) + \" \")] : [_vm._v(\" \" + _vm._s(_vm.t(\"When an incoming folder is selected, any conflicting files within it will also be overwritten.\")) + \" \")]], 2)]), _c(\"form\", { ref: \"form\", staticClass: \"conflict-picker__form\", attrs: { \"aria-labelledby\": \"conflict-picker-description\", \"data-cy-conflict-picker-form\": \"\" }, on: { \"submit\": function($event) {\n    $event.preventDefault();\n    $event.stopPropagation();\n    return _vm.onSubmit.apply(null, arguments);\n  } } }, [_c(\"fieldset\", { staticClass: \"conflict-picker__all\", attrs: { \"data-cy-conflict-picker-fieldset\": \"all\" } }, [_c(\"legend\", { staticClass: \"hidden-visually\" }, [_vm._v(\" \" + _vm._s(_vm.t(\"Select all checkboxes\")) + \" \")]), _c(\"NcCheckboxRadioSwitch\", _vm._b({ attrs: { \"data-cy-conflict-picker-input-incoming\": \"all\" }, on: { \"update:checked\": _vm.onSelectAllNew } }, \"NcCheckboxRadioSwitch\", _vm.selectAllNewBind, false), [_vm._v(\" \" + _vm._s(_vm.t(\"Select all new files\")) + \" \")]), _c(\"NcCheckboxRadioSwitch\", _vm._b({ attrs: { \"data-cy-conflict-picker-input-existing\": \"all\" }, on: { \"update:checked\": _vm.onSelectAllOld } }, \"NcCheckboxRadioSwitch\", _vm.selectAllOldBind, false), [_vm._v(\" \" + _vm._s(_vm.t(\"Select all existing files\")) + \" \")])], 1), _vm._l(_vm.files, function(node, index) {\n    return _c(\"NodesPicker\", { key: node.fileid, ref: \"nodesPicker\", refInFor: true, attrs: { \"incoming\": _vm.conflicts[index], \"existing\": _vm.files[index], \"new-selected\": _vm.newSelected, \"old-selected\": _vm.oldSelected }, on: { \"update:newSelected\": function($event) {\n      _vm.newSelected = $event;\n    }, \"update:new-selected\": function($event) {\n      _vm.newSelected = $event;\n    }, \"update:oldSelected\": function($event) {\n      _vm.oldSelected = $event;\n    }, \"update:old-selected\": function($event) {\n      _vm.oldSelected = $event;\n    } } });\n  })], 2)]);\n};\nvar _sfc_staticRenderFns = [];\nvar __component__ = /* @__PURE__ */ normalizeComponent(\n  _sfc_main,\n  _sfc_render,\n  _sfc_staticRenderFns,\n  false,\n  null,\n  \"d96ae170\"\n);\nconst ConflictPicker = __component__.exports;\nexport {\n  ConflictPicker as default\n};\n"],"names":["r","FEW_SECONDS_AGO","long","short","narrow","useFormatRelativeTime","timestamp","Date","now","opts","timeoutId","date","options","language","relativeTime","relativeTime2","ignoreSeconds","updateRelativeTime","value","update","diff","Math","abs","getTime","interval","min","window","setTimeout","clearTimeout","useFormatTime","locale","format","dateStyle","timeStyle","formatter","Intl","DateTimeFormat","_sfc_main","name","props","type","Number","required","Object","default","Boolean","String","validator","v","includes","setup","timeOptions","relativeTimeOptions","title","formattedTime","_sfc_render","_vm","this","_c","_self","staticClass","attrs","domProps","_s","_sfc_staticRenderFns","NcDateTime","n","exports","___CSS_LOADER_EXPORT___","push","module","id","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","_sfc_main$5","emits","fillColor","size","_sfc_render$5","_b","on","$event","$emit","$attrs","_v","_e","_sfc_staticRenderFns$5","ArrowRight","_sfc_main$4","_sfc_render$4","_sfc_staticRenderFns$4","Close","_sfc_main$3","_sfc_render$3","_sfc_staticRenderFns$3","FileSvg","_sfc_main$2","_sfc_render$2","_sfc_staticRenderFns$2","FolderSvg","_sfc_main$1","components","NcCheckboxRadioSwitch","incoming","File","existing","newSelected","Array","oldSelected","data","asyncPreview","incomingFile","computed","isEnoughSelected","isChecked","incomingPreview","previewUrl","incomingLastModified","lastModified","incomingSize","t","existingPreview","existingLastModified","watch","immediate","handler","Promise","resolve","reject","file","methods","node","mtime","previewImage","then","url","Folder","attributes","fileid","URL","location","origin","searchParams","set","toString","etag","slice","href","e","isFolder","i","isDirectory","selected","onUpdateIncomingChecked","checked","filter","onUpdateExistingChecked","async","startsWith","reader","FileReader","onload","result","target","ArrayBuffer","blob","Blob","createObjectURL","readAsArrayBuffer","_sfc_render$1","_setupProxy","basename","_sfc_staticRenderFns$1","NodesPicker","NcButton","NcDialog","dirname","content","conflicts","recursiveUpload","blockedTitle","files","opened","trim","length","count","skipButtonLabel","selectAllNewBind","label","isNoneNewSelected","isSomeNewSelected","isAllNewSelected","indeterminate","selectAllOldBind","isNoneOldSelected","isSomeOldSelected","isAllOldSelected","$refs","nodesPicker","every","picker","mounted","map","conflict","find","error","Error","onCancel","l","debug","onSkip","renamed","onSubmit","scrollValidityInputIntoView","form","reportValidity","selectedOldNames","directoryContent","toRename","forEach","newName","defineProperty","rename","selector","from","$el","querySelectorAll","input","setCustomValidity","invalidInput","querySelector","scrollIntoView","behavior","block","onSelectAllNew","onSelectAllOld","scopedSlots","_u","key","fn","proxy","class","stopPropagation","preventDefault","apply","arguments","ref","_l","index","refInFor","ConflictPicker"],"sourceRoot":""}