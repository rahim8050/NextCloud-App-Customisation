{"version":3,"file":"deck-node_modules_moment_locale_sync_recursive_-src_views_BoardReferenceWidget_vue-data_image_svg_-373c63.js?v=ac0b70f130f9e63f895d","mappings":"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","sources":["webpack:///deck/src/components/cards/AvatarList.vue","webpack://deck/./src/components/cards/AvatarList.vue?cfa7","webpack:///deck/src/mixins/labelStyle.js","webpack:///deck/src/components/ActivityEntry.vue?vue&type=style&index=0&id=1d402ed0&prod&scoped=true&lang=scss","webpack:///deck/src/components/Controls.vue?vue&type=style&index=0&id=7e3b2804&prod&lang=scss&scoped=true","webpack:///deck/src/components/Controls.vue?vue&type=style&index=1&id=7e3b2804&prod&lang=scss","webpack:///deck/src/components/SessionList.vue?vue&type=style&index=0&id=3a1cc12a&prod&scoped=true&lang=scss","webpack:///deck/src/components/board/Board.vue?vue&type=style&index=0&id=046cdef2&prod&lang=scss&scoped=true","webpack:///deck/src/components/board/Stack.vue?vue&type=style&index=0&id=0ed0df77&prod&lang=scss&scoped=true","webpack:///deck/src/components/card/CardSidebar.vue?vue&type=style&index=0&id=2ceb750a&prod&lang=scss","webpack:///deck/src/components/card/CardSidebarTabComments.vue?vue&type=style&index=0&id=cd53af20&prod&scoped=true&lang=scss","webpack:///deck/src/components/card/CardSidebarTabDetails.vue?vue&type=style&index=0&id=1f76018f&prod&lang=scss&scoped=true","webpack:///deck/src/components/card/CommentForm.vue?vue&type=style&index=0&id=d37c026e&prod&scoped=true&lang=scss","webpack:///deck/src/components/card/CommentItem.vue?vue&type=style&index=0&id=1d83c972&prod&scoped=true&lang=scss","webpack:///deck/src/components/cards/AvatarList.vue?vue&type=style&index=0&id=38fe6495&prod&scoped=true&lang=scss","webpack:///deck/src/components/cards/CardBadges.vue?vue&type=style&index=0&id=e258e654&prod&lang=scss&scoped=true","webpack:///deck/src/components/cards/CardCover.vue?vue&type=style&index=0&id=888cbd62&prod&lang=scss&scoped=true","webpack:///deck/src/components/cards/CardItem.vue?vue&type=style&index=0&id=703e00a8&prod&lang=scss&scoped=true","webpack:///deck/src/components/cards/badges/CardId.vue?vue&type=style&index=0&id=4f03dbb8&prod&lang=scss&scoped=true","webpack:///deck/src/components/cards/badges/DueDate.vue?vue&type=style&index=0&id=537ebc3f&prod&lang=scss&scoped=true","webpack:///deck/src/components/search/GlobalSearchResults.vue?vue&type=style&index=0&id=7711a4ae&prod&lang=scss&scoped=true","webpack:///deck/src/components/search/Placeholder.vue?vue&type=style&index=0&id=2ec8f4d4&prod&lang=scss&scoped=true","webpack:///deck/src/views/BoardReferenceWidget.vue?vue&type=style&index=0&id=5ea0696f&prod&scoped=true&lang=scss","webpack:///deck/src/components/ActivityEntry.vue?vue&type=style&index=1&id=1d402ed0&prod&lang=css","webpack:///deck/src/components/ActivityList.vue?vue&type=style&index=0&id=832405a6&prod&scoped=true&lang=css","webpack:///deck/node_modules/moment/locale|sync|/^\\.\\/.*$","webpack://deck/./src/components/cards/AvatarList.vue?34d3","webpack://deck/./src/components/cards/AvatarList.vue?41a1","webpack://deck/./src/views/BoardReferenceWidget.vue?5cf6","webpack:///deck/src/components/SessionList.vue","webpack:///deck/src/components/SessionList.vue?vue&type=script&lang=js","webpack://deck/./src/components/SessionList.vue?2561","webpack://deck/./src/components/SessionList.vue?8f30","webpack://deck/./src/components/SessionList.vue?a91b","webpack:///deck/src/services/SessionApi.js","webpack:///deck/src/store/actions.js","webpack:///deck/src/services/StackApi.js","webpack:///deck/src/helpers/applyOrderToArray.js","webpack:///deck/src/store/stack.js","webpack:///deck/src/store/card.js","webpack:///deck/src/store/comment.js","webpack:///deck/src/services/CommentApi.js","webpack:///deck/src/store/trashbin.js","webpack:///deck/src/store/attachment.js","webpack:///deck/src/services/AttachmentApi.js","webpack:///deck/src/store/overview.js","webpack:///deck/src/services/OverviewApi.js","webpack:///deck/src/store/main.js","webpack:///deck/src/sessions.js","webpack:///deck/src/components/Controls.vue","webpack:///deck/src/components/Controls.vue?vue&type=script&lang=js","webpack://deck/./src/components/Controls.vue?9ba2","webpack://deck/./src/components/Controls.vue?ac72","webpack://deck/./src/components/Controls.vue?dd9d","webpack://deck/./src/components/Controls.vue?c75a","webpack:///deck/src/components/cards/badges/CardId.vue","webpack:///deck/src/components/cards/badges/CardId.vue?vue&type=script&lang=js","webpack://deck/./src/components/cards/badges/CardId.vue?a0a8","webpack://deck/./src/components/cards/badges/CardId.vue?60d3","webpack://deck/./src/components/cards/badges/CardId.vue?5b8a","webpack:///deck/src/components/cards/badges/DueDate.vue","webpack:///deck/src/components/cards/badges/DueDate.vue?vue&type=script&lang=js","webpack://deck/./src/components/cards/badges/DueDate.vue?bb06","webpack://deck/./src/components/cards/badges/DueDate.vue?d84d","webpack://deck/./src/components/cards/badges/DueDate.vue?d8e0","webpack:///deck/src/components/cards/CardBadges.vue?vue&type=script&lang=js","webpack:///deck/src/components/cards/CardBadges.vue","webpack://deck/./src/components/cards/CardBadges.vue?784e","webpack://deck/./src/components/cards/CardBadges.vue?c0f4","webpack://deck/./src/components/cards/CardBadges.vue?151a","webpack:///deck/src/components/cards/CardMenuEntries.vue","webpack:///deck/src/components/cards/CardMenuEntries.vue?vue&type=script&lang=js","webpack://deck/./src/components/cards/CardMenuEntries.vue?316b","webpack://deck/./src/components/cards/CardMenuEntries.vue?8852","webpack:///deck/src/components/cards/CardMenu.vue?vue&type=script&lang=js","webpack:///deck/src/components/cards/CardMenu.vue","webpack://deck/./src/components/cards/CardMenu.vue?c2df","webpack://deck/./src/components/cards/CardMenu.vue?194d","webpack:///deck/src/components/cards/CardCover.vue","webpack:///deck/src/components/cards/CardCover.vue?vue&type=script&lang=js","webpack://deck/./src/components/cards/CardCover.vue?02ac","webpack://deck/./src/components/cards/CardCover.vue?4181","webpack://deck/./src/components/cards/CardCover.vue?545a","webpack:///deck/src/components/cards/CardItem.vue","webpack:///deck/src/components/cards/CardItem.vue?vue&type=script&lang=js","webpack://deck/./src/components/cards/CardItem.vue?2dbb","webpack://deck/./src/components/cards/CardItem.vue?3fc9","webpack://deck/./src/components/cards/CardItem.vue?c235","webpack:///deck/src/components/board/Stack.vue","webpack:///deck/src/components/board/Stack.vue?vue&type=script&lang=js","webpack://deck/./src/components/board/Stack.vue?0830","webpack://deck/./src/components/board/Stack.vue?6b66","webpack://deck/./src/components/board/Stack.vue?5935","webpack://deck/./src/components/search/GlobalSearchResults.vue?3c40","webpack:///deck/src/components/search/Placeholder.vue","webpack:///deck/src/components/search/Placeholder.vue?vue&type=script&lang=js","webpack://deck/./src/components/search/Placeholder.vue?b8b9","webpack://deck/./src/components/search/Placeholder.vue?e780","webpack://deck/./src/components/search/Placeholder.vue?d187","webpack:///deck/src/components/search/GlobalSearchResults.vue","webpack:///deck/src/components/search/GlobalSearchResults.vue?vue&type=script&lang=js","webpack://deck/./src/components/search/GlobalSearchResults.vue?0bd3","webpack://deck/./src/components/search/GlobalSearchResults.vue?f1cf","webpack:///deck/src/components/card/CardSidebarTabDetails.vue","webpack:///deck/src/components/card/CardSidebarTabDetails.vue?vue&type=script&lang=js","webpack://deck/./src/components/card/CardSidebarTabDetails.vue?c9a1","webpack://deck/./src/components/card/CardSidebarTabDetails.vue?bca5","webpack://deck/./src/components/card/CardSidebarTabDetails.vue?bdf5","webpack:///deck/src/components/card/CardSidebarTabAttachments.vue","webpack:///deck/src/components/card/CardSidebarTabAttachments.vue?vue&type=script&lang=js","webpack://deck/./src/components/card/CardSidebarTabAttachments.vue?cad2","webpack://deck/./src/components/card/CardSidebarTabAttachments.vue?9e0c","webpack://deck/./src/components/card/CardSidebarTabComments.vue?d02c","webpack:///deck/src/helpers/mentions.js","webpack:///deck/src/components/card/CommentForm.vue?vue&type=script&lang=js","webpack:///deck/src/components/card/CommentForm.vue","webpack://deck/./src/components/card/CommentForm.vue?c512","webpack://deck/./src/components/card/CommentForm.vue?e107","webpack://deck/./src/components/card/CommentForm.vue?32ab","webpack:///deck/src/components/card/CommentItem.vue","webpack:///deck/src/components/card/CommentItem.vue?vue&type=script&lang=js","webpack://deck/./src/components/card/CommentItem.vue?f853","webpack://deck/./src/components/card/CommentItem.vue?7213","webpack://deck/./src/components/card/CommentItem.vue?0964","webpack:///deck/src/components/card/CardSidebarTabComments.vue?vue&type=script&lang=js","webpack:///deck/src/components/card/CardSidebarTabComments.vue","webpack://deck/./src/components/card/CardSidebarTabComments.vue?4cf1","webpack://deck/./src/components/card/CardSidebarTabComments.vue?454d","webpack://deck/./src/components/card/CardSidebarTabActivity.vue?3a31","webpack:///deck/src/components/ActivityEntry.vue","webpack:///deck/src/components/ActivityEntry.vue?vue&type=script&lang=js","webpack://deck/./src/components/ActivityEntry.vue?39ee","webpack://deck/./src/components/ActivityEntry.vue?cc2e","webpack://deck/./src/components/ActivityEntry.vue?a0a4","webpack://deck/./src/components/ActivityEntry.vue?3a91","webpack:///deck/src/components/ActivityList.vue?vue&type=script&lang=js","webpack:///deck/src/components/ActivityList.vue","webpack://deck/./src/components/ActivityList.vue?1ed3","webpack://deck/./src/components/ActivityList.vue?011f","webpack:///deck/src/components/card/CardSidebarTabActivity.vue?vue&type=script&lang=js","webpack:///deck/src/components/card/CardSidebarTabActivity.vue","webpack://deck/./src/components/ActivityList.vue?7342","webpack://deck/./src/components/card/CardSidebarTabActivity.vue?9b0e","webpack:///deck/src/components/card/CardSidebar.vue","webpack:///deck/src/components/card/CardSidebar.vue?vue&type=script&lang=js","webpack://deck/./src/components/card/CardSidebar.vue?ade6","webpack://deck/./src/components/card/CardSidebar.vue?ebb2","webpack://deck/./src/components/card/CardSidebar.vue?beff","webpack:///deck/src/components/board/Board.vue?vue&type=script&lang=js","webpack:///deck/src/components/board/Board.vue","webpack://deck/./src/components/board/Board.vue?7878","webpack://deck/./src/components/board/Board.vue?2041","webpack://deck/./src/components/board/Board.vue?b5a9","webpack:///deck/src/views/BoardReferenceWidget.vue","webpack:///deck/src/views/BoardReferenceWidget.vue?vue&type=script&lang=js","webpack://deck/./src/views/BoardReferenceWidget.vue?9ae2","webpack://deck/./src/views/BoardReferenceWidget.vue?29e5","webpack:///deck/src/components/cards/AvatarList.vue?vue&type=script&lang=js"],"sourcesContent":["<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"avatars\">\n\t\t<div>\n\t\t\t<NcPopover>\n\t\t\t\t<template #trigger=\"{ attrs }\">\n\t\t\t\t\t<button class=\"avatar-list\" v-bind=\"attrs\" @click.stop>\n\t\t\t\t\t\t<div v-if=\"popover.length > 0\">\n\t\t\t\t\t\t\t<AccountMultiple class=\"avatardiv more-avatars\" :size=\"24\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-for=\"user in firstUsers\" :key=\"user.id\">\n\t\t\t\t\t\t\t<NcAvatar v-if=\"user.type === 0\"\n\t\t\t\t\t\t\t\t:user=\"user.participant.uid\"\n\t\t\t\t\t\t\t\t:display-name=\"user.participant.displayname\"\n\t\t\t\t\t\t\t\t:disable-menu=\"true\"\n\t\t\t\t\t\t\t\t:show-user-status=\"false\"\n\t\t\t\t\t\t\t\t:size=\"32\" />\n\t\t\t\t\t\t\t<NcAvatar v-if=\"user.type === 1\"\n\t\t\t\t\t\t\t\t:user=\"user.participant.uid\"\n\t\t\t\t\t\t\t\t:display-name=\"user.participant.displayname\"\n\t\t\t\t\t\t\t\t:tooltip-message=\"user.participant.displayname + ' ' + t('deck', '(Group)')\"\n\t\t\t\t\t\t\t\t:is-no-user=\"true\"\n\t\t\t\t\t\t\t\t:disable-=\"true\"\n\t\t\t\t\t\t\t\t:size=\"32\" />\n\t\t\t\t\t\t\t<NcAvatar v-if=\"user.type === 7\"\n\t\t\t\t\t\t\t\t:user=\"user.participant.uid\"\n\t\t\t\t\t\t\t\t:display-name=\"user.participant.displayname\"\n\t\t\t\t\t\t\t\t:tooltip-message=\"user.participant.displayname + ' ' + t('deck', '(Team)')\"\n\t\t\t\t\t\t\t\t:is-no-user=\"true\"\n\t\t\t\t\t\t\t\t:disable-=\"true\"\n\t\t\t\t\t\t\t\t:size=\"32\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t</template>\n\t\t\t\t<div>\n\t\t\t\t\t<div v-for=\"user in users\"\n\t\t\t\t\t\t:key=\"user.id\"\n\t\t\t\t\t\tclass=\"avatar-list-entry\">\n\t\t\t\t\t\t<NcAvatar :user=\"user.participant.uid\"\n\t\t\t\t\t\t\t:display-name=\"user.participant.displayname\"\n\t\t\t\t\t\t\t:disable-menu=\"true\"\n\t\t\t\t\t\t\t:is-no-user=\"user.type !== 0\"\n\t\t\t\t\t\t\t:size=\"32\" />\n\t\t\t\t\t\t<div class=\"avatar-list-entry__label\">\n\t\t\t\t\t\t\t{{ user.participant.displayname }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</NcPopover>\n\t\t</div>\n\n\t\t<div class=\"avatar-print-list\">\n\t\t\t<div v-for=\"user in avatarUsers\" :key=\"user.id\" class=\"avatar-print-list-item\">\n\t\t\t\t<NcAvatar class=\"avatar-print-list-avatar\"\n\t\t\t\t\t:user=\"user.participant.uid\"\n\t\t\t\t\t:display-name=\"user.participant.displayname\"\n\t\t\t\t\t:disable-menu=\"true\"\n\t\t\t\t\t:is-no-user=\"user.type !== 0\"\n\t\t\t\t\t:size=\"24\" />\n\t\t\t\t{{ user.participant.displayname }}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { NcAvatar, NcPopover } from '@nextcloud/vue'\nimport { generateUrl } from '@nextcloud/router'\nimport AccountMultiple from 'vue-material-design-icons/AccountMultipleOutline.vue'\n\nexport default {\n\tname: 'AvatarList',\n\tcomponents: {\n\t\tNcAvatar,\n\t\tNcPopover,\n\t\tAccountMultiple,\n\t},\n\tprops: {\n\t\tusers: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => ([]),\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpopoverVisible: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tfirstUsers() {\n\t\t\tif (!this.users || this.users.length === 0) {\n\t\t\t\treturn []\n\t\t\t}\n\t\t\treturn this.users.slice(0, 3)\n\t\t},\n\t\tavatarUrl() {\n\t\t\treturn (assignable) => {\n\t\t\t\tif (assignable.type === 1) {\n\t\t\t\t\treturn 'icon-group'\n\t\t\t\t}\n\t\t\t\tconst user = assignable.participant.uid\n\t\t\t\tconst size = 32\n\t\t\t\tconst avatarUrl = generateUrl('/avatar/{user}/{size}',\n\t\t\t\t\t{\n\t\t\t\t\t\tuser,\n\t\t\t\t\t\tsize,\n\t\t\t\t\t})\n\t\t\t\treturn window.location.protocol + '//' + window.location.host + avatarUrl\n\t\t\t}\n\t\t},\n\t\tpopover() {\n\t\t\tif (!this.users || this.users.length === 0) {\n\t\t\t\treturn []\n\t\t\t}\n\t\t\treturn [\n\t\t\t\t...this.users.slice(3).map((session) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\thref: '#',\n\t\t\t\t\t\ticon: this.avatarUrl(session),\n\t\t\t\t\t\ttext: session.participant.displayname + (session.type === 1 ? ' ' + t('deck', '(group)') : ''),\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t]\n\t\t},\n\t\tavatarUsers() {\n\t\t\tif (!this.users) {\n\t\t\t\treturn []\n\t\t\t}\n\n\t\t\treturn this.users.filter((user) => {\n\t\t\t\treturn [0, 1, 7].includes(user.type)\n\t\t\t})\n\t\t},\n\t},\n\tmethods: {\n\t\ttogglePopover() {\n\t\t\tif (this.popover.length > 0) {\n\t\t\t\tthis.popoverVisible = !this.popoverVisible\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t.avatars {\n\t\tposition: relative;\n\t\tflex-grow: 1;\n\t\t:deep(.popovermenu) {\n\t\t\tmargin-right: -4px;\n\t\t\timg {\n\t\t\t\tpadding: 0;\n\t\t\t\twidth: 32px !important;\n\t\t\t\theight: 32px !important;\n\t\t\t\tmargin: 6px;\n\t\t\t\tborder-radius: 50%;\n\t\t\t}\n\t\t}\n\t}\n\n\t$avatar-offset: 12px;\n\n\t.avatar-list {\n\t\tfloat: right;\n\t\tdisplay: inline-flex;\n\t\tflex-direction: row-reverse;\n\t\tpadding: 0;\n\t\tpadding-right: $avatar-offset;\n\t\tmargin: 0;\n\t\tborder: 0;\n\t\tbackground: transparent;\n\n\t\t& > div {\n\t\t\theight: 32px;\n\t\t}\n\n\t\t.avatardiv,\n\t\t:deep(.avatardiv) {\n\t\t\twidth: 32px;\n\t\t\theight: 32px;\n\t\t\tbox-sizing: content-box !important;\n\t\t\tmargin-right: -$avatar-offset;\n\t\t\ttransition: margin-right 0.2s ease-in-out;\n\t\t\tborder: 2px solid var(--color-main-background);\n\t\t}\n\n\t\t.more-avatars {\n\t\t\twidth: 32px;\n\t\t\theight: 32px;\n\t\t\tbackground-color: var(--color-background-dark) !important;\n\t\t\tcursor: pointer;\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t}\n\n\t}\n\n\t.avatar-list-entry {\n\t\tdisplay: flex;\n\t\tpadding: 6px 12px;\n\n\t\t&__label {\n\t\t\tpadding: 4px 12px;\n\t\t}\n\t}\n\n\t.popovermenu {\n\t\tdisplay: block;\n\t\tmargin: 40px -6px;\n\t}\n\n\t.avatar-print-list {\n\t\tdisplay: none;\n\t}\n\n\t@media print {\n\t\t.avatar-list {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t.avatar-print-list-item {\n\t\t\talign-items: center;\n\t\t\tdisplay: flex;\n\t\t\tgap: 10px;\n\t\t\tmargin-bottom: 10px;\n\t\t}\n\n\t\t.avatar-print-list {\n\t\t\tdisplay: block;\n\t\t\tpadding-top: 5px;\n\t\t}\n\t}\n</style>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"avatars\"},[_c('div',[_c('NcPopover',{scopedSlots:_vm._u([{key:\"trigger\",fn:function({ attrs }){return [_c('button',_vm._b({staticClass:\"avatar-list\",on:{\"click\":function($event){$event.stopPropagation();}}},'button',attrs,false),[(_vm.popover.length > 0)?_c('div',[_c('AccountMultiple',{staticClass:\"avatardiv more-avatars\",attrs:{\"size\":24}})],1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.firstUsers),function(user){return _c('div',{key:user.id},[(user.type === 0)?_c('NcAvatar',{attrs:{\"user\":user.participant.uid,\"display-name\":user.participant.displayname,\"disable-menu\":true,\"show-user-status\":false,\"size\":32}}):_vm._e(),_vm._v(\" \"),(user.type === 1)?_c('NcAvatar',{attrs:{\"user\":user.participant.uid,\"display-name\":user.participant.displayname,\"tooltip-message\":user.participant.displayname + ' ' + _vm.t('deck', '(Group)'),\"is-no-user\":true,\"disable-\":true,\"size\":32}}):_vm._e(),_vm._v(\" \"),(user.type === 7)?_c('NcAvatar',{attrs:{\"user\":user.participant.uid,\"display-name\":user.participant.displayname,\"tooltip-message\":user.participant.displayname + ' ' + _vm.t('deck', '(Team)'),\"is-no-user\":true,\"disable-\":true,\"size\":32}}):_vm._e()],1)})],2)]}}])},[_vm._v(\" \"),_c('div',_vm._l((_vm.users),function(user){return _c('div',{key:user.id,staticClass:\"avatar-list-entry\"},[_c('NcAvatar',{attrs:{\"user\":user.participant.uid,\"display-name\":user.participant.displayname,\"disable-menu\":true,\"is-no-user\":user.type !== 0,\"size\":32}}),_vm._v(\" \"),_c('div',{staticClass:\"avatar-list-entry__label\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(user.participant.displayname)+\"\\n\\t\\t\\t\\t\\t\")])],1)}),0)])],1),_vm._v(\" \"),_c('div',{staticClass:\"avatar-print-list\"},_vm._l((_vm.avatarUsers),function(user){return _c('div',{key:user.id,staticClass:\"avatar-print-list-item\"},[_c('NcAvatar',{staticClass:\"avatar-print-list-avatar\",attrs:{\"user\":user.participant.uid,\"display-name\":user.participant.displayname,\"disable-menu\":true,\"is-no-user\":user.type !== 0,\"size\":24}}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(user.participant.displayname)+\"\\n\\t\\t\")],1)}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport Color from './color.js'\n\nexport default {\n\tmixins: [Color],\n\tcomputed: {\n\t\tlabelStyle() {\n\t\t\treturn (label) => {\n\t\t\t\treturn {\n\t\t\t\t\tbackgroundColor: '#' + label.color,\n\t\t\t\t\tcolor: this.textColor(label.color),\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.activity .activity--header[data-v-1d402ed0]{display:flex;padding:10px}.activity .activity--icon[data-v-1d402ed0]{width:16px;height:16px;flex-shrink:0;flex-grow:0}.activity .activity--icon.monochrome[data-v-1d402ed0]{opacity:.8;filter:var(--background-invert-if-dark)}.activity .activity--subject[data-v-1d402ed0]{margin-left:10px}.activity .activity--message[data-v-1d402ed0]{margin-left:var(--default-clickable-area);color:var(--color-text-light);margin-bottom:10px}.activity .activity--timestamp[data-v-1d402ed0]{flex-grow:1;color:var(--color-text-maxcontrast);text-align:right;font-size:.8em;padding:1px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ActivityEntry.vue\"],\"names\":[],\"mappings\":\"AAGC,6CACC,YAAA,CACA,YAAA,CAGD,2CACC,UAAA,CACA,WAAA,CACA,aAAA,CACA,WAAA,CAGA,sDACC,UAAA,CACA,uCAAA,CAGF,8CACC,gBAAA,CAED,8CACC,yCAAA,CACA,6BAAA,CACA,kBAAA,CAED,gDACC,WAAA,CACA,mCAAA,CACA,gBAAA,CACA,cAAA,CACA,WAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.controls[data-v-7e3b2804]{display:flex;margin:calc(var(--default-grid-baseline)*2);height:var(--default-clickable-area);padding-left:var(--default-clickable-area)}.controls .board-title[data-v-7e3b2804]{display:flex;align-items:center}.controls .board-title h2[data-v-7e3b2804]{margin:0;margin-right:10px;font-size:18px}.controls .board-title .board-bullet[data-v-7e3b2804]{display:inline-block;width:16px;height:16px;border:none;border-radius:50%;background-color:rgba(0,0,0,0);margin:var(--default-grid-baseline)}.controls #stack-add form[data-v-7e3b2804]{display:flex}.controls #stack-add form #new-stack-input-main[data-v-7e3b2804]{margin-right:8px}.controls #stack-add form .icon-confirm[data-v-7e3b2804]{border:2px solid var(--color-border-maxcontrast) !important;border-left:none !important}.controls #stack-add form:focus-within .icon-confirm[data-v-7e3b2804],.controls #stack-add form:focus .icon-confirm[data-v-7e3b2804],.controls #stack-add form:focus-visible .icon-confirm[data-v-7e3b2804],.controls #stack-add form:hover .icon-confirm[data-v-7e3b2804]{border-color:var(--color-main-text) !important}#app-navigation-toggle-custom[data-v-7e3b2804]{position:static;width:var(--default-clickable-area);height:var(--default-clickable-area);cursor:pointer;opacity:1;display:inline-block !important}.board-actions[data-v-7e3b2804]{flex-grow:1;order:100;display:flex;justify-content:flex-end}.board-action-buttons[data-v-7e3b2804]{display:flex}.deck-search[data-v-7e3b2804]{display:flex;align-items:center;justify-content:center}.deck-search input[type=search][data-v-7e3b2804]{background-position:5px;padding-left:24px !important}.filter--item input+label[data-v-7e3b2804]{display:block;padding:var(--default-grid-baseline) 0}.filter--item input+label .avatardiv[data-v-7e3b2804]{vertical-align:middle;margin-bottom:2px;margin-right:3px}.filter--item input+label .label[data-v-7e3b2804]{padding:5px;border-radius:3px}.filter[data-v-7e3b2804]{width:240px;max-height:calc(100vh - 150px);position:relative;overflow:auto;padding:8px}.filter h3[data-v-7e3b2804]{margin-top:0px;margin-bottom:5px}.filter-button[data-v-7e3b2804]{padding:0;border-radius:50%;width:var(--default-clickable-area);height:var(--default-clickable-area)}.filter-button[data-popper-shown][data-v-7e3b2804]{background-color:var(--color-background-hover)}.filter-button[data-popper-shown].button-vue--vue-primary[data-v-7e3b2804]{background-color:var(--color-primary-element)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Controls.vue\"],\"names\":[],\"mappings\":\"AACA,2BACC,YAAA,CACA,2CAAA,CACA,oCAAA,CACA,0CAAA,CAEA,wCACC,YAAA,CACA,kBAAA,CAEA,2CACC,QAAA,CACA,iBAAA,CACA,cAAA,CAGD,sDACC,oBAAA,CACA,UAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CACA,8BAAA,CACA,mCAAA,CAIF,2CACC,YAAA,CAEA,iEACC,gBAAA,CAED,yDACC,2DAAA,CACA,2BAAA,CAIA,2QACC,8CAAA,CAMJ,+CACC,eAAA,CACA,mCAAA,CACA,oCAAA,CACA,cAAA,CACA,SAAA,CACA,+BAAA,CAGD,gCACC,WAAA,CACA,SAAA,CACA,YAAA,CACA,wBAAA,CAGD,uCACC,YAAA,CAGD,8BACC,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,iDACC,uBAAA,CACA,4BAAA,CAKD,2CACC,aAAA,CACA,sCAAA,CACA,sDACC,qBAAA,CACA,iBAAA,CACA,gBAAA,CAED,kDACC,WAAA,CACA,iBAAA,CAKH,yBACC,WAAA,CACA,8BAAA,CACA,iBAAA,CACA,aAAA,CACA,WAAA,CAGD,4BACC,cAAA,CACA,iBAAA,CAGD,gCACC,SAAA,CACA,iBAAA,CACA,mCAAA,CACA,oCAAA,CAEA,mDACC,8CAAA,CACA,2EACC,6CAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.popover:focus{outline:2px solid var(--color-main-text)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Controls.vue\"],\"names\":[],\"mappings\":\"AACA,eACC,wCAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.avatar-list[data-v-3a1cc12a]{min-height:var(--default-clickable-area);align-items:center;padding-right:.5em;border:none;background-color:var(--color-main-background);margin:0;padding-left:6px;display:inline-flex;flex-direction:row-reverse}.avatar-list[data-v-3a1cc12a]:focus{background-color:#eee}.avatar-wrapper[data-v-3a1cc12a]{background-color:#b9b9b9;border-radius:50%;border:1px solid var(--color-border-dark);width:var(--size);height:var(--size);text-align:center;color:#fff;line-height:var(--size);font-size:var(--font-size);font-weight:normal;z-index:1;overflow:hidden;box-sizing:content-box !important;margin-left:-8px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/SessionList.vue\"],\"names\":[],\"mappings\":\"AAEA,8BACC,wCAAA,CACA,kBAAA,CACA,kBAAA,CACA,WAAA,CACA,6CAAA,CACA,QAAA,CACA,gBAAA,CACA,mBAAA,CACA,0BAAA,CAEA,oCACC,qBAAA,CAKF,iCACC,wBAAA,CACA,iBAAA,CACA,yCAAA,CACA,iBAAA,CACA,kBAAA,CACA,iBAAA,CACA,UAAA,CACA,uBAAA,CACA,0BAAA,CACA,kBAAA,CACA,SAAA,CACA,eAAA,CACA,iCAAA,CACA,gBAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.fade-enter-active[data-v-046cdef2]{transition:opacity 250ms}.fade-enter[data-v-046cdef2],.fade-leave-to[data-v-046cdef2]{opacity:0}.zoom-appear-active-class[data-v-046cdef2],.zoom-enter-active[data-v-046cdef2]{animation:zoom-in-046cdef2 var(--animation-quick)}.zoom-leave-active[data-v-046cdef2]{animation:zoom-in-046cdef2 var(--animation-quick) reverse;will-change:transform}@keyframes zoom-in-046cdef2{0%{transform:scale(0);opacity:0}100%{transform:scale(1);opacity:1}}/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */form[data-v-046cdef2]{text-align:center;display:flex;width:100%;margin:auto;margin-top:calc(var(--default-grid-baseline)*4);gap:var(--default-grid-baseline)}form input[type=text][data-v-046cdef2]{flex-grow:1}form button[type=submit][data-v-046cdef2]{flex-shrink:0}.board-wrapper[data-v-046cdef2]{position:relative;width:100%;height:100%;max-height:calc(100vh - 50px);display:flex;flex-direction:column}.board[data-v-046cdef2]{padding-left:16px;position:relative;max-height:calc(100% - var(--default-clickable-area));overflow:hidden;overflow-x:auto;flex-grow:1}.smooth-dnd-container.horizontal[data-v-046cdef2]{display:flex;align-items:stretch;height:100%}.smooth-dnd-container.horizontal[data-v-046cdef2] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper{display:flex;height:auto}.smooth-dnd-container.horizontal[data-v-046cdef2] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper .stack{display:flex;flex-direction:column;position:relative}.smooth-dnd-container.horizontal[data-v-046cdef2] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper .stack .smooth-dnd-container.vertical{flex-grow:1;display:flex;flex-direction:column;margin-left:12px;padding-right:12px;overflow-x:hidden;overflow-y:auto;padding-top:15px;margin-top:-10px;scrollbar-gutter:stable}.smooth-dnd-container.horizontal[data-v-046cdef2] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper .stack .smooth-dnd-container.vertical>.smooth-dnd-draggable-wrapper{overflow:initial}.smooth-dnd-container.horizontal[data-v-046cdef2] .stack-draggable-wrapper.smooth-dnd-draggable-wrapper .stack .smooth-dnd-container.vertical .smooth-dnd-draggable-wrapper{height:auto}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/animations.scss\",\"webpack://./src/css/variables.scss\",\"webpack://./src/components/board/Board.vue\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CAIA,oCACC,wBAAA,CAGD,6DACC,SAAA,CAGD,+EAEC,iDAAA,CAGD,oCACC,yDAAA,CACA,qBAAA,CAED,4BACC,GACC,kBAAA,CACA,SAAA,CAED,KACC,kBAAA,CACA,SAAA,CAAA,CC5BF;;;EAAA,CCIA,sBACC,iBAAA,CACA,YAAA,CACA,UAAA,CACA,WAAA,CACA,+CAAA,CACA,gCAAA,CAEA,uCACC,WAAA,CAED,0CACC,aAAA,CAIF,gCACC,iBAAA,CACA,UAAA,CACA,WAAA,CACA,6BAAA,CACA,YAAA,CACA,qBAAA,CAGD,wBACC,iBDtBgB,CCuBhB,iBAAA,CACA,qDAAA,CACA,eAAA,CACA,eAAA,CACA,WAAA,CAOD,kDACC,YAAA,CACA,mBAAA,CACA,WAAA,CAEA,wGACC,YAAA,CACA,WAAA,CAEA,+GACC,YAAA,CACA,qBAAA,CACA,iBAAA,CAEA,8IACC,WAAA,CACA,YAAA,CACA,qBAAA,CAEA,gBDvDa,CCwDb,kBDxDa,CCyDb,iBAAA,CACA,eAAA,CACA,gBAAA,CACA,gBAAA,CACA,uBAAA,CAGD,4KACC,gBAAA,CAGD,4KACC,WAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.stack[data-v-0ed0df77]{width:316px}.stack__header[data-v-0ed0df77]{display:flex;position:sticky;top:0;z-index:100;padding-left:8px;padding-right:8px;margin:6px;margin-top:0;cursor:grab;background-color:var(--color-main-background)}.stack__header[data-v-0ed0df77]:before{content:\" \";display:block;position:absolute;width:calc(100% - 16px);height:20px;top:30px;left:0px;z-index:99;transition:top var(--animation-slow);background-image:linear-gradient(180deg, var(--color-main-background) 3px, rgba(255, 255, 255, 0) 100%)}body.theme--dark .stack__header[data-v-0ed0df77]:before{background-image:linear-gradient(180deg, var(--color-main-background) 3px, rgba(0, 0, 0, 0) 100%)}.stack__header>*[data-v-0ed0df77]{position:relative;z-index:100}.stack__header h3[data-v-0ed0df77],.stack__header form[data-v-0ed0df77]{flex-grow:1;display:flex;cursor:inherit;margin:0}.stack__header h3 input[type=text][data-v-0ed0df77],.stack__header form input[type=text][data-v-0ed0df77]{flex-grow:1}.stack__header h3.stack__title[data-v-0ed0df77]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:220px;border-radius:3px;padding:4px 4px;font-size:var(--default-font-size)}.stack__header h3.stack__title[data-v-0ed0df77]:focus-visible{outline:2px solid var(--color-border-dark);border-radius:3px}.stack__header form[data-v-0ed0df77]{margin:-4px}.stack__header form input[data-v-0ed0df77]{font-weight:bold;padding:0 6px}.stack__header form input[type=submit][data-v-0ed0df77]{border-style:solid;border-left-style:none}.stack__header[data-v-0ed0df77] .action-item,.stack__header[data-v-0ed0df77] .v-popper--theme-dropdown{display:flex}.stack__card-add[data-v-0ed0df77]{flex-shrink:0;z-index:100;display:flex;margin-bottom:5px;padding-top:var(--default-grid-baseline);background-color:var(--color-main-background)}.stack__card-add form[data-v-0ed0df77]{display:flex;margin-left:12px;margin-right:12px;width:100%;border:2px solid var(--color-border-maxcontrast);border-radius:var(--border-radius-large);overflow:hidden;padding:2px}.stack__card-add.icon-loading-small[data-v-0ed0df77]:after,.stack__card-add.icon-loading-small-dark[data-v-0ed0df77]:after{margin-left:calc(50% - 25px)}.stack__card-add input[type=text][data-v-0ed0df77]{flex-grow:1;padding-right:16px}.stack__card-add input[data-v-0ed0df77]{border:none;margin:0;padding:4px}.slide-top-enter-active[data-v-0ed0df77],.slide-top-leave-active[data-v-0ed0df77]{transition:all 100ms ease}.slide-top-enter[data-v-0ed0df77],.slide-top-leave-to[data-v-0ed0df77]{transform:translateY(-10px);opacity:0}.slide-bottom-enter-active[data-v-0ed0df77],.slide-bottom-leave-active[data-v-0ed0df77]{transition:all 100ms ease}.slide-bottom-enter[data-v-0ed0df77],.slide-bottom-leave-to[data-v-0ed0df77]{transform:translateY(20px);opacity:0}.modal__content[data-v-0ed0df77]{width:25vw;min-width:250px;min-height:100px;text-align:center;margin:20px 20px 20px 20px}.modal__content button[data-v-0ed0df77]{float:right}progress[data-v-0ed0df77]{margin-top:3px;margin-bottom:30px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/variables.scss\",\"webpack://./src/components/board/Stack.vue\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CCMA,wBACC,WAAA,CAGD,gCACC,YAAA,CACA,eAAA,CACA,KAAA,CACA,WAAA,CACA,gBDXe,CCYf,iBDZe,CCaf,UAAA,CACA,YAAA,CACA,WAAA,CACA,6CAAA,CAGA,uCACC,WAAA,CACA,aAAA,CACA,iBAAA,CACA,uBAAA,CACA,WAAA,CACA,QAAA,CACA,QAAA,CACA,UAAA,CACA,oCAAA,CAEA,uGAAA,CACA,wDACC,iGAAA,CAIF,kCACC,iBAAA,CACA,WAAA,CAGD,wEACC,WAAA,CACA,YAAA,CACA,cAAA,CACA,QAAA,CAEA,0GACC,WAAA,CAIF,gDACC,kBAAA,CACA,eAAA,CACA,sBAAA,CACA,eAAA,CACA,iBAAA,CACA,eAAA,CACA,kCAAA,CAEA,8DACC,0CAAA,CACA,iBAAA,CAIF,qCACC,WAAA,CACA,2CACC,gBAAA,CACA,aAAA,CAED,wDACC,kBAAA,CACA,sBAAA,CAKD,uGAEC,YAAA,CAKH,kCACC,aAAA,CACA,WAAA,CACA,YAAA,CACA,iBAAA,CACA,wCAAA,CACA,6CAAA,CAEA,uCACC,YAAA,CACA,gBD/Fe,CCgGf,iBDhGe,CCiGf,UAAA,CACA,gDAAA,CACA,wCAAA,CACA,eAAA,CACA,WAAA,CAGD,2HAEC,4BAAA,CAGD,mDACC,WAAA,CACA,kBAAA,CAGD,wCACC,WAAA,CACA,QAAA,CACA,WAAA,CAQF,kFAEC,yBAAA,CAGD,uEACC,2BAAA,CACA,SAAA,CAGD,wFAEC,yBAAA,CAGD,6EACC,0BAAA,CACA,SAAA,CAGD,iCACC,UAAA,CACA,eAAA,CACA,gBAAA,CACA,iBAAA,CACA,0BAAA,CAGD,wCACC,WAAA,CAGD,0BACC,cAAA,CACA,kBAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `section.app-sidebar__tab--active{min-height:auto;display:flex;flex-direction:column;height:100%}.modal-container{overflow:hidden}.modal__card .app-sidebar{box-sizing:unset;border:0;min-width:calc(100% - 28px);position:relative;top:0;left:0;right:0;max-width:calc(100% - 28px);min-height:calc(100vh - var(--header-height)*4);padding:0 14px;height:97%;overflow:hidden !important;user-select:text;-webkit-user-select:text}.modal__card .app-sidebar .app-sidebar-header__mainname-container{padding-top:calc(var(--default-grid-baseline, 4px)*2)}.modal__card .app-sidebar .app-sidebar-tabs{max-height:90%}.modal__card .app-sidebar .app-sidebar__tab{min-height:calc(100% - 20px);max-height:calc(100% - 20px)}.modal__card .app-sidebar:deep .app-sidebar-header{position:sticky;top:0;z-index:100;background-color:var(--color-main-background)}.modal__card .app-sidebar:deep .app-sidebar-tabs__nav{position:sticky;top:87px;margin:0;z-index:100;background-color:var(--color-main-background)}.modal__card .app-sidebar:deep .app-sidebar__tab{overflow:initial}.modal__card .app-sidebar:deep #emptycontent,.modal__card .app-sidebar:deep .emptycontent{margin-top:88px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/card/CardSidebar.vue\"],\"names\":[],\"mappings\":\"AAEA,iCACC,eAAA,CACA,YAAA,CACA,qBAAA,CACA,WAAA,CAGD,iBACC,eAAA,CAKD,0BACC,gBAAA,CAEA,QAAA,CACA,2BAAA,CACA,iBAAA,CACA,KAAA,CACA,MAAA,CACA,OAAA,CACA,2BAAA,CACA,+CAAA,CACA,cAAA,CACA,UAAA,CACA,0BAAA,CACA,gBAAA,CACA,wBAAA,CAEA,kEACC,qDAAA,CAGD,4CACC,cAAA,CAGD,4CACC,4BAAA,CACA,4BAAA,CAKA,mDACC,eAAA,CACA,KAAA,CACA,WAAA,CACA,6CAAA,CAED,sDACC,eAAA,CACA,QAAA,CACA,QAAA,CACA,WAAA,CACA,6CAAA,CAGD,iDACC,gBAAA,CAGD,0FACC,eAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.comment-form form[data-v-cd53af20]{display:flex;flex-grow:1;position:relative}.comment-form form .editor__content[data-v-cd53af20]{flex-grow:1;margin-left:var(--default-clickable-area)}.comment-form form .editor__content[data-v-cd53af20] .ProseMirror{width:100%}.comment-form form input[type=submit][data-v-cd53af20]{width:var(--default-clickable-area);height:var(--default-clickable-area);margin:0;padding:13px;background-color:rgba(0,0,0,0);border:none;position:absolute;bottom:var(--default-grid-baseline);right:var(--default-grid-baseline)}.comment-form form input[type=submit][data-v-cd53af20]:disabled{opacity:.7}.comment[data-v-cd53af20]{margin-bottom:10px}.comment--header[data-v-cd53af20]{display:flex;align-items:center;color:var(--color-text-light)}.comment--header .username[data-v-cd53af20]{padding:10px}.comment--header .spacer[data-v-cd53af20]{flex-grow:1}.comment--header .timestamp[data-v-cd53af20]{color:var(--color-text-maxcontrast)}.comment--content[data-v-cd53af20]{margin-left:var(--default-clickable-area);word-break:break-word}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/comments.scss\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CAIA,oCACC,YAAA,CACA,WAAA,CACA,iBAAA,CAEA,qDACC,WAAA,CACA,yCAAA,CAEA,kEACC,UAAA,CAIF,uDACC,mCAAA,CACA,oCAAA,CACA,QAAA,CACA,YAAA,CACA,8BAAA,CACA,WAAA,CACA,iBAAA,CACA,mCAAA,CACA,kCAAA,CAEA,gEACC,UAAA,CAKH,0BACC,kBAAA,CAGD,kCACC,YAAA,CACA,kBAAA,CACA,6BAAA,CAEA,4CACC,YAAA,CAED,0CACC,WAAA,CAED,6CACC,mCAAA,CAIF,mCACC,yCAAA,CACA,qBAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.section-wrapper[data-v-1f76018f]{display:flex;max-width:100%;margin-top:10px}.section-wrapper .section-label[data-v-1f76018f]{background-position:0px center;width:28px;margin-left:9px;flex-shrink:0}.section-wrapper .section-details[data-v-1f76018f]{flex-grow:1;display:flex;flex-wrap:wrap}.section-wrapper .section-details .remove-due-button[data-v-1f76018f]{margin-top:-2px;margin-left:6px}.button-group[data-v-1f76018f]{width:100%;display:flex}.button-group button[data-v-1f76018f]{width:100%}.done[data-v-1f76018f]{display:flex}.tag[data-v-1f76018f]{flex-grow:0;flex-shrink:1;overflow:hidden;padding:0px 5px;border-radius:15px;font-size:85%;margin-right:3px}.avatarLabel[data-v-1f76018f]{padding:6px}.section-details[data-v-1f76018f] .multiselect__tags-wrap{flex-wrap:wrap}.avatar-list--readonly .avatardiv[data-v-1f76018f]{margin-right:3px}.avatarlist--inline[data-v-1f76018f]{display:flex;align-items:center;margin-right:3px}.avatarlist--inline .avatarLabel[data-v-1f76018f]{padding:0}.multiselect[data-v-1f76018f] .multiselect__tags-wrap{z-index:2}.multiselect.multiselect--active[data-v-1f76018f] .multiselect__tags-wrap{z-index:0}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/card/CardSidebarTabDetails.vue\"],\"names\":[],\"mappings\":\"AACA,kCACC,YAAA,CACA,cAAA,CACA,eAAA,CAEA,iDACC,8BAAA,CACA,UAAA,CACA,eAAA,CACA,aAAA,CAGD,mDACC,WAAA,CACA,YAAA,CACA,cAAA,CAEA,sEACC,eAAA,CACA,eAAA,CAKH,+BACC,UAAA,CACA,YAAA,CAEA,sCACC,UAAA,CAIF,uBACC,YAAA,CAGD,sBACC,WAAA,CACA,aAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,aAAA,CACA,gBAAA,CAGD,8BACC,WAAA,CAGD,0DACC,cAAA,CAGD,mDACC,gBAAA,CAGD,qCACC,YAAA,CACA,kBAAA,CACA,gBAAA,CACA,kDACC,SAAA,CAIF,sDACC,SAAA,CAGD,0EACC,SAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.comment-form form[data-v-d37c026e]{display:flex;flex-grow:1;position:relative}.comment-form form .editor__content[data-v-d37c026e]{flex-grow:1;margin-left:var(--default-clickable-area)}.comment-form form .editor__content[data-v-d37c026e] .ProseMirror{width:100%}.comment-form form input[type=submit][data-v-d37c026e]{width:var(--default-clickable-area);height:var(--default-clickable-area);margin:0;padding:13px;background-color:rgba(0,0,0,0);border:none;position:absolute;bottom:var(--default-grid-baseline);right:var(--default-grid-baseline)}.comment-form form input[type=submit][data-v-d37c026e]:disabled{opacity:.7}.comment[data-v-d37c026e]{margin-bottom:10px}.comment--header[data-v-d37c026e]{display:flex;align-items:center;color:var(--color-text-light)}.comment--header .username[data-v-d37c026e]{padding:10px}.comment--header .spacer[data-v-d37c026e]{flex-grow:1}.comment--header .timestamp[data-v-d37c026e]{color:var(--color-text-maxcontrast)}.comment--content[data-v-d37c026e]{margin-left:var(--default-clickable-area);word-break:break-word}.comment-form__contenteditable[data-v-d37c026e]{word-break:break-word;border-radius:var(--border-radius-large);padding:var(--default-grid-baseline);max-height:200px;overflow:auto}.atwho-wrap[data-v-d37c026e]{width:100%}.atwho-wrap>div[contenteditable][data-v-d37c026e]{width:100%}.atwho-wrap>div[contenteditable][data-v-d37c026e]>span>div{vertical-align:middle}.comment-form[data-v-d37c026e] .atwho-li{height:32px}.atwho-li--avatar[data-v-d37c026e]{margin-right:10px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/comments.scss\",\"webpack://./src/components/card/CommentForm.vue\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CAIA,oCACC,YAAA,CACA,WAAA,CACA,iBAAA,CAEA,qDACC,WAAA,CACA,yCAAA,CAEA,kEACC,UAAA,CAIF,uDACC,mCAAA,CACA,oCAAA,CACA,QAAA,CACA,YAAA,CACA,8BAAA,CACA,WAAA,CACA,iBAAA,CACA,mCAAA,CACA,kCAAA,CAEA,gEACC,UAAA,CAKH,0BACC,kBAAA,CAGD,kCACC,YAAA,CACA,kBAAA,CACA,6BAAA,CAEA,4CACC,YAAA,CAED,0CACC,WAAA,CAED,6CACC,mCAAA,CAIF,mCACC,yCAAA,CACA,qBAAA,CCtDD,gDACC,qBAAA,CACA,wCAAA,CACA,oCAAA,CACA,gBAAA,CACA,aAAA,CAGD,6BACC,UAAA,CACA,kDACC,UAAA,CAEA,2DACC,qBAAA,CAKH,yCACC,WAAA,CAGD,mCACC,iBAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.comment-form form[data-v-1d83c972]{display:flex;flex-grow:1;position:relative}.comment-form form .editor__content[data-v-1d83c972]{flex-grow:1;margin-left:var(--default-clickable-area)}.comment-form form .editor__content[data-v-1d83c972] .ProseMirror{width:100%}.comment-form form input[type=submit][data-v-1d83c972]{width:var(--default-clickable-area);height:var(--default-clickable-area);margin:0;padding:13px;background-color:rgba(0,0,0,0);border:none;position:absolute;bottom:var(--default-grid-baseline);right:var(--default-grid-baseline)}.comment-form form input[type=submit][data-v-1d83c972]:disabled{opacity:.7}.comment[data-v-1d83c972]{margin-bottom:10px}.comment--header[data-v-1d83c972]{display:flex;align-items:center;color:var(--color-text-light)}.comment--header .username[data-v-1d83c972]{padding:10px}.comment--header .spacer[data-v-1d83c972]{flex-grow:1}.comment--header .timestamp[data-v-1d83c972]{color:var(--color-text-maxcontrast)}.comment--content[data-v-1d83c972]{margin-left:var(--default-clickable-area);word-break:break-word}.reply[data-v-1d83c972]{margin:0 0 0 var(--default-clickable-area)}.reply.reply--preview[data-v-1d83c972]{margin:4px 0;padding:8px;background-color:var(--color-background-hover);border-radius:var(--border-radius-large)}.reply.reply--preview .reply--wrapper[data-v-1d83c972]{margin:8px}.reply.reply--preview .reply--cancel[data-v-1d83c972]{margin-right:-12px;margin-top:-12px}.reply .reply--wrapper[data-v-1d83c972]{border-left:4px solid var(--color-border-dark);padding-left:8px}.reply[data-v-1d83c972] .rich-text--wrapper{margin-top:-3px;color:var(--color-text-lighter)}.reply .reply--header[data-v-1d83c972]{display:flex}.reply .reply--hint[data-v-1d83c972]{color:var(--color-text-lighter);flex-grow:1}.reply .comment--content[data-v-1d83c972]{margin:0}.comment--content[data-v-1d83c972] a{text-decoration:underline}.comment--content[data-v-1d83c972] p{margin-bottom:1em}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/comments.scss\",\"webpack://./src/components/card/CommentItem.vue\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CAIA,oCACC,YAAA,CACA,WAAA,CACA,iBAAA,CAEA,qDACC,WAAA,CACA,yCAAA,CAEA,kEACC,UAAA,CAIF,uDACC,mCAAA,CACA,oCAAA,CACA,QAAA,CACA,YAAA,CACA,8BAAA,CACA,WAAA,CACA,iBAAA,CACA,mCAAA,CACA,kCAAA,CAEA,gEACC,UAAA,CAKH,0BACC,kBAAA,CAGD,kCACC,YAAA,CACA,kBAAA,CACA,6BAAA,CAEA,4CACC,YAAA,CAED,0CACC,WAAA,CAED,6CACC,mCAAA,CAIF,mCACC,yCAAA,CACA,qBAAA,CCtDD,wBACC,0CAAA,CAEA,uCACC,YAAA,CACA,WAAA,CACA,8CAAA,CACA,wCAAA,CAEA,uDACC,UAAA,CAGD,sDACC,kBAAA,CACA,gBAAA,CAIF,wCACC,8CAAA,CACA,gBAAA,CAGD,4CACC,eAAA,CACA,+BAAA,CAGD,uCACC,YAAA,CAGD,qCACC,+BAAA,CACA,WAAA,CAGD,0CACC,QAAA,CAKD,qCACC,yBAAA,CAGD,qCACC,iBAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.avatars[data-v-38fe6495]{position:relative;flex-grow:1}.avatars[data-v-38fe6495] .popovermenu{margin-right:-4px}.avatars[data-v-38fe6495] .popovermenu img{padding:0;width:32px !important;height:32px !important;margin:6px;border-radius:50%}.avatar-list[data-v-38fe6495]{float:right;display:inline-flex;flex-direction:row-reverse;padding:0;padding-right:12px;margin:0;border:0;background:rgba(0,0,0,0)}.avatar-list>div[data-v-38fe6495]{height:32px}.avatar-list .avatardiv[data-v-38fe6495],.avatar-list[data-v-38fe6495] .avatardiv{width:32px;height:32px;box-sizing:content-box !important;margin-right:-12px;transition:margin-right .2s ease-in-out;border:2px solid var(--color-main-background)}.avatar-list .more-avatars[data-v-38fe6495]{width:32px;height:32px;background-color:var(--color-background-dark) !important;cursor:pointer;color:var(--color-text-maxcontrast)}.avatar-list-entry[data-v-38fe6495]{display:flex;padding:6px 12px}.avatar-list-entry__label[data-v-38fe6495]{padding:4px 12px}.popovermenu[data-v-38fe6495]{display:block;margin:40px -6px}.avatar-print-list[data-v-38fe6495]{display:none}@media print{.avatar-list[data-v-38fe6495]{display:none}.avatar-print-list-item[data-v-38fe6495]{align-items:center;display:flex;gap:10px;margin-bottom:10px}.avatar-print-list[data-v-38fe6495]{display:block;padding-top:5px}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/cards/AvatarList.vue\"],\"names\":[],\"mappings\":\"AACA,0BACC,iBAAA,CACA,WAAA,CACA,uCACC,iBAAA,CACA,2CACC,SAAA,CACA,qBAAA,CACA,sBAAA,CACA,UAAA,CACA,iBAAA,CAOH,8BACC,WAAA,CACA,mBAAA,CACA,0BAAA,CACA,SAAA,CACA,kBAPe,CAQf,QAAA,CACA,QAAA,CACA,wBAAA,CAEA,kCACC,WAAA,CAGD,kFAEC,UAAA,CACA,WAAA,CACA,iCAAA,CACA,kBAAA,CACA,uCAAA,CACA,6CAAA,CAGD,4CACC,UAAA,CACA,WAAA,CACA,wDAAA,CACA,cAAA,CACA,mCAAA,CAKF,oCACC,YAAA,CACA,gBAAA,CAEA,2CACC,gBAAA,CAIF,8BACC,aAAA,CACA,gBAAA,CAGD,oCACC,YAAA,CAGD,aACC,8BACC,YAAA,CAGD,yCACC,kBAAA,CACA,YAAA,CACA,QAAA,CACA,kBAAA,CAGD,oCACC,aAAA,CACA,eAAA,CAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.badges[data-v-e258e654]{display:flex;width:100%;flex-grow:1;flex-direction:row;gap:3px}.badges .icon-badge[data-v-e258e654]{color:var(--color-text-maxcontrast);display:flex;margin-right:2px}.badges .icon-badge span[data-v-e258e654],.badges .icon-badge[data-v-e258e654] span{padding:2px}.inline-badges[data-v-e258e654]{display:flex;flex-direction:row;flex-wrap:wrap;gap:3px}.badge-left[data-v-e258e654],.badge-right[data-v-e258e654]{display:flex}.badge-left[data-v-e258e654]{flex-basis:auto;flex-grow:1;flex-shrink:1;flex-wrap:wrap;align-content:flex-end;align-items:center;align-self:center;gap:3px}.badge-right[data-v-e258e654]{align-items:center;align-self:flex-end;display:flex;justify-items:center;max-width:165px;flex-grow:0;flex-shrink:0}.fade-enter-active[data-v-e258e654],.fade-leave-active[data-v-e258e654]{transition:opacity .125s}.fade-enter[data-v-e258e654],.fade-leave-to[data-v-e258e654]{opacity:0}.avatars[data-v-e258e654] button{margin:0}@media print{.badges[data-v-e258e654]{align-items:flex-start;max-height:none !important}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/cards/CardBadges.vue\"],\"names\":[],\"mappings\":\"AACA,yBACC,YAAA,CACA,UAAA,CACA,WAAA,CACA,kBAAA,CACA,OAAA,CAEA,qCACC,mCAAA,CACA,YAAA,CACA,gBAAA,CAEA,oFAEC,WAAA,CAKH,gCACC,YAAA,CACA,kBAAA,CACA,cAAA,CACA,OAAA,CAGD,2DACC,YAAA,CAGD,6BACC,eAAA,CACA,WAAA,CACA,aAAA,CACA,cAAA,CACA,sBAAA,CACA,kBAAA,CACA,iBAAA,CACA,OAAA,CAGD,8BACC,kBAAA,CACA,mBAAA,CACA,YAAA,CACA,oBAAA,CACA,eAAA,CACA,WAAA,CACA,aAAA,CAGD,wEACC,wBAAA,CAGD,6DACC,SAAA,CAGD,iCACC,QAAA,CAGD,aACC,yBACC,sBAAA,CACA,0BAAA,CAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.card-cover[data-v-888cbd62]{height:90px;display:flex;margin-top:-4px;margin-left:-4px;margin-right:-4px}.card-cover .image-wrapper[data-v-888cbd62]{flex:1;position:relative;background-size:cover;background-repeat:no-repeat;background-position:center center}.card-cover .image-wrapper.rounded-left[data-v-888cbd62]{border-top-left-radius:calc(var(--border-radius-large) - 1px)}.card-cover .image-wrapper.rounded-right[data-v-888cbd62]{border-top-right-radius:calc(var(--border-radius-large) - 1px)}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/variables.scss\",\"webpack://./src/components/cards/CardCover.vue\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CCGA,6BACC,WAAA,CACA,YAAA,CACA,eAAA,CACA,gBAAA,CACA,iBAAA,CAEA,4CACC,MAAA,CACA,iBAAA,CACA,qBAAA,CACA,2BAAA,CACA,iCAAA,CACA,yDACC,6DAAA,CAED,0DACC,8DAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.fade-enter-active[data-v-703e00a8]{transition:opacity 250ms}.fade-enter[data-v-703e00a8],.fade-leave-to[data-v-703e00a8]{opacity:0}.zoom-appear-active-class[data-v-703e00a8],.zoom-enter-active[data-v-703e00a8]{animation:zoom-in-703e00a8 var(--animation-quick)}.zoom-leave-active[data-v-703e00a8]{animation:zoom-in-703e00a8 var(--animation-quick) reverse;will-change:transform}@keyframes zoom-in-703e00a8{0%{transform:scale(0);opacity:0}100%{transform:scale(1);opacity:1}}/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.card[data-v-703e00a8]{transition:border .1s ease-in-out;border-radius:var(--border-radius-large);font-size:100%;background-color:var(--color-main-background);margin-bottom:8px;padding:var(--default-grid-baseline) 4px;border:2px solid var(--color-border-dark);width:100%;display:flex;flex-direction:column;/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */}.card[data-v-703e00a8] *:not(.dragDisabled){cursor:pointer}.card.current-card[data-v-703e00a8]{border:2px solid var(--color-primary-element)}.card[data-v-703e00a8]:focus,.card[data-v-703e00a8]:focus-visible,.card[data-v-703e00a8]:focus-within{outline:none;border:2px solid var(--color-border-maxcontrast)}.card:focus.current-card[data-v-703e00a8],.card:focus-visible.current-card[data-v-703e00a8],.card:focus-within.current-card[data-v-703e00a8]{border:2px solid var(--color-primary-element)}.card .card-upper[data-v-703e00a8]{display:flex}.card .card-upper h4[data-v-703e00a8]{font-weight:normal;margin:0;padding:var(--default-grid-baseline);flex-grow:1;font-size:100%;overflow:hidden;word-wrap:break-word;padding-left:4px;align-self:center}.card .card-upper h4[data-v-703e00a8] a{text-decoration:underline}.card .card-upper h4.editable span[data-v-703e00a8]{cursor:text;padding-right:8px;padding-top:3px;padding-bottom:3px}.card .card-upper h4.editable span[data-v-703e00a8]:focus,.card .card-upper h4.editable span[data-v-703e00a8]:focus-visible{outline:none}.card .card-upper h4.editable[data-v-703e00a8]:focus-within{outline:2px solid var(--color-border-dark);border-radius:3px}.card .card-upper .card-menu[data-v-703e00a8]{height:var(--default-clickable-area);align-self:end}.card .labels[data-v-703e00a8]{flex-grow:1;flex-shrink:1;min-width:0;display:flex;flex-direction:row;gap:3px}.card .labels li[data-v-703e00a8]{flex-grow:0;flex-shrink:1;display:flex;flex-direction:row;overflow:hidden;padding:1px 8px;border-radius:15px;font-size:13px}.card .labels li[data-v-703e00a8]:hover{overflow:unset}.card .labels li span[data-v-703e00a8]{flex-grow:0;flex-shrink:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.card .card-controls[data-v-703e00a8]{display:flex}.card.card__editable .card-controls[data-v-703e00a8]{margin-right:0}.card.card__archived[data-v-703e00a8]{background-color:var(--color-background-dark)}@keyframes highlight-703e00a8{0%{border-color:var(--color-border-dark)}20%{border-color:var(--color-primary-element)}70%{border-color:var(--color-primary-element)}100%{border-color:var(--color-border-dark)}}.card.card__highlight[data-v-703e00a8]{animation:highlight-703e00a8 2s}.card .card-labels[data-v-703e00a8]{display:flex;align-items:end;padding-left:var(--default-grid-baseline);padding-top:var(--default-grid-baseline)}.card .card-labels .labels[data-v-703e00a8]{flex-wrap:wrap;align-self:flex-start}.right[data-v-703e00a8]{display:flex;align-items:flex-start}.card-related[data-v-703e00a8]{display:flex;padding:12px;padding-bottom:0px;color:var(--color-text-maxcontrast)}.card-related .board-bullet[data-v-703e00a8]{display:inline-block;width:12px;height:12px;border:none;border-radius:50%;background-color:rgba(0,0,0,0);margin-top:4px;margin-right:4px}.compact[data-v-703e00a8]{min-height:var(--default-clickable-area)}.compact .duedate[data-v-703e00a8]{margin-right:0;display:flex;height:32px;width:32px}.compact.has-labels[data-v-703e00a8]{padding-bottom:4px}.compact .labels[data-v-703e00a8]{height:6px;margin-top:-7px;margin-bottom:3px}.compact .labels li[data-v-703e00a8]{width:30px;height:6px;font-size:0;color:rgba(0,0,0,0)}.compact .card-menu[data-v-703e00a8]{align-self:start !important}@media(prefers-color-scheme: dark){.card[data-v-703e00a8]{border:2px solid var(--color-border-dark);box-shadow:none}}@media print{.card-menu[data-v-703e00a8]{display:none}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/animations.scss\",\"webpack://./src/css/variables.scss\",\"webpack://./src/components/cards/CardItem.vue\",\"webpack://./src/css/labels.scss\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CAIA,oCACC,wBAAA,CAGD,6DACC,SAAA,CAGD,+EAEC,iDAAA,CAGD,oCACC,yDAAA,CACA,qBAAA,CAED,4BACC,GACC,kBAAA,CACA,SAAA,CAED,KACC,kBAAA,CACA,SAAA,CAAA,CC5BF;;;EAAA,CCSC,uBACC,iCAAA,CACA,wCAAA,CACA,cAAA,CACA,6CAAA,CACA,iBDVc,CCWd,wCAAA,CACA,yCAAA,CACA,UAAA,CACA,YAAA,CACA,qBAAA,CCnBF;;;EAAA,CAAA,CDqBE,4CACU,cAAA,CAGV,oCACC,6CAAA,CAGD,sGACC,YAAA,CACA,gDAAA,CACA,6IACC,6CAAA,CAIF,mCACC,YAAA,CACA,sCACC,kBAAA,CACA,QAAA,CACA,oCAAA,CACA,WAAA,CACA,cAAA,CACA,eAAA,CACA,oBAAA,CACA,gBAAA,CACA,iBAAA,CAEA,wCACC,yBAAA,CAIA,oDACC,WAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CAEA,4HACC,YAAA,CAIF,4DACC,0CAAA,CACA,iBAAA,CAIH,8CACC,oCAAA,CACA,cAAA,CCnEJ,+BACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,YAAA,CACA,kBAAA,CACA,OAAA,CAEA,kCACC,WAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,cAAA,CAEA,wCACC,cAAA,CAGD,uCACC,WAAA,CACA,aAAA,CACA,WAAA,CACA,eAAA,CACA,sBAAA,CACA,kBAAA,CD8CD,sCACC,YAAA,CAED,qDACC,cAAA,CAED,sCACC,6CAAA,CAED,8BACC,GACC,qCAAA,CAED,IACC,yCAAA,CAED,IACC,yCAAA,CAED,KACC,qCAAA,CAAA,CAGF,uCACC,+BAAA,CAED,oCACC,YAAA,CACA,eAAA,CACA,yCAAA,CACA,wCAAA,CAEA,4CACC,cAAA,CACA,qBAAA,CAKH,wBACC,YAAA,CACA,sBAAA,CAGD,+BACC,YAAA,CACA,YAAA,CACA,kBAAA,CACA,mCAAA,CAEA,6CACC,oBAAA,CACA,UAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CACA,8BAAA,CACA,cAAA,CACA,gBAAA,CAIF,0BACC,wCAAA,CAEA,mCACC,cAAA,CACA,YAAA,CACA,WAAA,CACA,UAAA,CAED,qCACC,kBDpJa,CCsJd,kCACC,UAAA,CACA,eAAA,CACA,iBAAA,CAED,qCACC,UAAA,CACA,UAAA,CACA,WAAA,CACA,mBAAA,CAED,qCACC,2BAAA,CAIF,mCACC,uBAvKA,yCAAA,CACA,eAAA,CAAA,CA2KD,aACC,4BACC,YAAA,CAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.cardid[data-v-4f03dbb8]{font-size:.9em}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/cards/badges/CardId.vue\"],\"names\":[],\"mappings\":\"AACA,yBACC,cAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.due[data-v-537ebc3f]{background-position:4px center;border-radius:var(--border-radius-pill);padding:1px 8px;font-size:90%;display:flex;align-items:center;flex-shrink:1;z-index:2}[data-due-state=Overdue] .due[data-v-537ebc3f]{color:var(--color-element-error, var(--color-error-text));background-color:rgba(var(--color-error-rgb), 0.5)}[data-due-state=Now] .due[data-v-537ebc3f]{color:var(--color-element-warning, var(--color-warning-text));background-color:rgba(var(--color-warning-rgb), 0.5)}[data-due-state=Done] .due[data-v-537ebc3f]{color:var(--color-element-success, var(--color-success-text));background-color:rgba(var(--color-success-rgb), 0.5)}.due .due--label[data-v-537ebc3f]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin-left:4px;font-size:13px}@media print{.icon.due[data-v-537ebc3f]{background-color:rgba(0,0,0,0) !important}.icon.due span[data-v-537ebc3f]{display:none}.icon.due[data-v-537ebc3f]::before{content:attr(title)}}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/cards/badges/DueDate.vue\"],\"names\":[],\"mappings\":\"AACA,sBACC,8BAAA,CACA,uCAAA,CACA,eAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,aAAA,CACA,SAAA,CAEA,+CACC,yDAAA,CACA,kDAAA,CAED,2CACC,6DAAA,CACA,oDAAA,CAED,4CACC,6DAAA,CACA,oDAAA,CAGD,kCACC,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,eAAA,CACA,cAAA,CAIF,aACC,2BACC,yCAAA,CAEA,gCACC,YAAA,CAGD,mCACC,mBAAA,CAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.global-search[data-v-7711a4ae]{width:100%;padding:28px;padding-bottom:0;overflow:hidden;min-height:35vh;max-height:50vh;flex-shrink:1;flex-grow:1;border-top:1px solid var(--color-border);z-index:1010;position:relative}.global-search .action-item.icon-close[data-v-7711a4ae]{position:absolute;top:10px;right:10px}.global-search .search-wrapper[data-v-7711a4ae]{overflow:scroll;height:100%;position:relative;padding:10px}.global-search h2>div[data-v-7711a4ae]{display:inline-block}.global-search h2>div.icon-loading-small[data-v-7711a4ae]{margin-right:20px}.global-search h2[data-v-7711a4ae] span{background-color:var(--color-background-dark);padding:3px;border-radius:var(--border-radius)}.global-search .search-results[data-v-7711a4ae]{display:flex;flex-wrap:wrap}.global-search .search-results>div[data-v-7711a4ae]{flex-grow:0}.global-search[data-v-7711a4ae] .card{width:280px;margin-right:12px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/variables.scss\",\"webpack://./src/components/search/GlobalSearchResults.vue\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CCGA,gCACC,UAAA,CACA,YAAA,CACA,gBAAA,CACA,eAAA,CACA,eAAA,CACA,eAAA,CACA,aAAA,CACA,WAAA,CACA,wCAAA,CACA,YAAA,CACA,iBAAA,CAEA,wDACC,iBAAA,CACA,QAAA,CACA,UAAA,CAED,gDACC,eAAA,CACA,WAAA,CACA,iBAAA,CACA,YAAA,CAGD,uCACC,oBAAA,CAEA,0DACC,iBAAA,CAGF,wCACC,6CAAA,CACA,WAAA,CACA,kCAAA,CAGD,gDACC,YAAA,CACA,cAAA,CAEA,oDACC,WAAA,CAGF,sCACC,WD3Ca,CC4Cb,iBD7Ce\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/*!\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */.card--placeholder[data-v-2ec8f4d4]{width:280px;margin-right:12px;padding:4px;transition:box-shadow .1s ease-in-out;box-shadow:0 0 2px 0 var(--color-box-shadow);border-radius:var(--border-radius-large);font-size:100%;margin-bottom:8px;height:100px}.card-placeholder__gradient[data-v-2ec8f4d4]{position:fixed;height:0;width:0;z-index:-1}.card-placeholder__placeholder[data-v-2ec8f4d4]{width:100%}.card-placeholder__placeholder-line-header[data-v-2ec8f4d4],.card-placeholder__placeholder-line-one[data-v-2ec8f4d4],.card-placeholder__placeholder-line-two[data-v-2ec8f4d4]{width:100%;height:1em;x:0}.card-placeholder__placeholder-line-header[data-v-2ec8f4d4]{visibility:hidden}.card-placeholder__placeholder-line-one[data-v-2ec8f4d4]{y:5px}.card-placeholder__placeholder-line-two[data-v-2ec8f4d4]{y:25px}.card-placeholder__placeholder.standalone .card-placeholder__placeholder-line-header[data-v-2ec8f4d4]{visibility:visible;y:5px}.card-placeholder__placeholder.standalone .card-placeholder__placeholder-line-one[data-v-2ec8f4d4]{y:40px}.card-placeholder__placeholder.standalone .card-placeholder__placeholder-line-two[data-v-2ec8f4d4]{y:60px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/css/variables.scss\",\"webpack://./src/components/search/Placeholder.vue\"],\"names\":[],\"mappings\":\"AAAA;;;EAAA,CCIA,oCACC,WDEc,CCDd,iBAAA,CACA,WDFe,CCGf,qCAAA,CACA,4CAAA,CACA,wCAAA,CACA,cAAA,CACA,iBDRe,CCSf,YAAA,CAGD,6CACC,cAAA,CACA,QAAA,CACA,OAAA,CACA,UAAA,CAGD,gDACC,UAAA,CACA,8KAGC,UAAA,CACA,UAAA,CACA,GAAA,CAED,4DACC,iBAAA,CAED,yDACC,KAAA,CAGD,yDACC,MAAA,CAIA,sGACC,kBAAA,CACA,KAAA,CAED,mGACC,MAAA,CAGD,mGACC,MAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.deck-board-reference[data-v-5ea0696f]{width:100%;white-space:normal;padding:12px}.editor__content .deck-board-reference[data-v-5ea0696f]{width:calc(100% - 24px)}.deck-board-reference .link[data-v-5ea0696f]{text-decoration:underline;color:var(--color-main-text) !important;padding:0 !important}.deck-board-reference .line[data-v-5ea0696f]{display:flex;align-items:center}.deck-board-reference .line .icon[data-v-5ea0696f]{margin-right:4px}.deck-board-reference .line .title-icon[data-v-5ea0696f]{margin-right:8px}.deck-board-reference-interactive[data-v-5ea0696f]{width:100%;min-height:min(50vh,100vh - 100px);max-height:calc(100vh - 120px)}.deck-board-reference-interactive[data-v-5ea0696f] .controls{padding-left:12px}.deck-board-reference-interactive[data-v-5ea0696f] .board{padding-left:0}.deck-board-reference-interactive[data-v-5ea0696f] *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/BoardReferenceWidget.vue\"],\"names\":[],\"mappings\":\"AACA,uCACC,UAAA,CAKA,kBAAA,CACA,YAAA,CAJA,wDACC,uBAAA,CAKD,6CACC,yBAAA,CACA,uCAAA,CACA,oBAAA,CAGD,6CACC,YAAA,CACA,kBAAA,CACA,mDACC,gBAAA,CAED,yDACC,gBAAA,CAKH,mDACC,UAAA,CACA,kCAAA,CACA,8BAAA,CACA,6DACC,iBAAA,CAED,0DACC,cAAA,CAED,qDACC,6BAAA,CACA,0BAAA,CACA,qBAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.visualdiff ins {\n\tcolor: green;\n}\n.visualdiff del {\n\tcolor: darkred;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ActivityEntry.vue\"],\"names\":[],\"mappings\":\";AAgKA;CACA,YAAA;AACA;AAEA;CACA,cAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\\n  - SPDX-License-Identifier: AGPL-3.0-or-later\\n-->\\n\\n<template>\\n\\t<div v-if=\\\"activity\\\" class=\\\"activity\\\">\\n\\t\\t<div class=\\\"activity--header\\\">\\n\\t\\t\\t<img :src=\\\"activity.icon\\\" class=\\\"activity--icon\\\" :class=\\\"applyMonochromeIconColor\\\">\\n\\t\\t\\t<NcRichText class=\\\"activity--subject\\\" :text=\\\"message.subject\\\" :arguments=\\\"message.parameters\\\" />\\n\\t\\t\\t<div class=\\\"activity--timestamp\\\" :name=\\\"formatReadableDate(activity.datetime)\\\">\\n\\t\\t\\t\\t{{ relativeDate(activity.datetime) }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<!-- FIXME ins/del tags do no longer work with activity so we should get rid of that -->\\n\\t\\t<p v-if=\\\"activity.message\\\" class=\\\"activity--message\\\" v-html=\\\"sanitizedMessage\\\" />\\n\\t</div>\\n</template>\\n\\n<script>\\nimport { NcRichText, NcUserBubble } from '@nextcloud/vue'\\nimport moment from '@nextcloud/moment'\\nimport DOMPurify from 'dompurify'\\nimport relativeDate from '../mixins/relativeDate.js'\\nimport formatReadableDate from '../mixins/readableDate.js'\\n\\nconst InternalLink = {\\n\\tname: 'InternalLink',\\n\\tfunctional: true,\\n\\tprops: {\\n\\t\\thref: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\tdefault: '',\\n\\t\\t},\\n\\t\\tname: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\tdefault: '',\\n\\t\\t},\\n\\t},\\n\\trender(createElement, context) {\\n\\t\\treturn createElement('a', { attrs: { href: context.props.href }, style: { 'font-weight': 600 } }, context.props.name)\\n\\t},\\n}\\nexport default {\\n\\tname: 'ActivityEntry',\\n\\tcomponents: {\\n\\t\\tNcRichText,\\n\\t},\\n\\tmixins: [relativeDate, formatReadableDate],\\n\\tprops: {\\n\\t\\tactivity: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\tdefault: null,\\n\\t\\t},\\n\\t},\\n\\tcomputed: {\\n\\t\\tmessage() {\\n\\t\\t\\tconst subject = this.activity.subject_rich[0]\\n\\t\\t\\tconst parameters = JSON.parse(JSON.stringify(this.activity.subject_rich[1]))\\n\\t\\t\\tif (parameters.after && typeof parameters.after.id === 'string' && parameters.after.id.startsWith('dt:')) {\\n\\t\\t\\t\\tconst dateTime = parameters.after.id.slice(3)\\n\\t\\t\\t\\tparameters.after.name = moment(dateTime).format('L LTS')\\n\\t\\t\\t}\\n\\n\\t\\t\\tObject.keys(parameters).forEach(function(key, index) {\\n\\t\\t\\t\\tconst { type } = parameters[key]\\n\\t\\t\\t\\tswitch (type) {\\n\\t\\t\\t\\tcase 'highlight':\\n\\t\\t\\t\\t\\tparameters[key] = {\\n\\t\\t\\t\\t\\t\\tcomponent: InternalLink,\\n\\t\\t\\t\\t\\t\\tprops: {\\n\\t\\t\\t\\t\\t\\t\\thref: parameters[key].link,\\n\\t\\t\\t\\t\\t\\t\\tname: parameters[key].name,\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tbreak\\n\\t\\t\\t\\tcase 'user':\\n\\t\\t\\t\\t\\tparameters[key] = {\\n\\t\\t\\t\\t\\t\\tcomponent: NcUserBubble,\\n\\t\\t\\t\\t\\t\\tprops: {\\n\\t\\t\\t\\t\\t\\t\\tuser: parameters[key].id,\\n\\t\\t\\t\\t\\t\\t\\tdisplayName: parameters[key].name,\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tbreak\\n\\t\\t\\t\\tdefault:\\n\\t\\t\\t\\t\\tparameters[key] = `{${key}}`\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t})\\n\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tsubject, parameters,\\n\\t\\t\\t}\\n\\t\\t},\\n\\n\\t\\tapplyMonochromeIconColor() {\\n\\t\\t\\t// copied from https://github.com/nextcloud/activity/blob/db919d45c45356082b17104614018e2c7e691996/js/script.js#L225\\n\\t\\t\\tconst monochromeIcon = this.activity.type !== 'file_created' && this.activity.type !== 'file_deleted' && this.activity.type !== 'favorite' && !this.activity.icon.endsWith('-color.svg')\\n\\t\\t\\tif (monochromeIcon) {\\n\\t\\t\\t\\treturn 'monochrome'\\n\\t\\t\\t}\\n\\t\\t\\treturn ''\\n\\t\\t},\\n\\n\\t\\tsanitizedMessage() {\\n\\t\\t\\treturn DOMPurify.sanitize(this.activity.message, { ALLOWED_TAGS: ['ins', 'del'], ALLOWED_ATTR: ['class'] })\\n\\t\\t},\\n\\n\\t},\\n}\\n</script>\\n\\n<style scoped lang=\\\"scss\\\">\\n\\t.activity {\\n\\n\\t\\t.activity--header {\\n\\t\\t\\tdisplay: flex;\\n\\t\\t\\tpadding: 10px;\\n\\t\\t}\\n\\n\\t\\t.activity--icon {\\n\\t\\t\\twidth: 16px;\\n\\t\\t\\theight: 16px;\\n\\t\\t\\tflex-shrink: 0;\\n\\t\\t\\tflex-grow: 0;\\n\\n\\t\\t\\t/* colored icons, in addition to core ones */\\n\\t\\t\\t&.monochrome {\\n\\t\\t\\t\\topacity: 0.8;\\n\\t\\t\\t\\tfilter: var(--background-invert-if-dark);\\n\\t\\t\\t}\\n\\t\\t}\\n\\t\\t.activity--subject {\\n\\t\\t\\tmargin-left: 10px;\\n\\t\\t}\\n\\t\\t.activity--message {\\n\\t\\t\\tmargin-left: var(--default-clickable-area);\\n\\t\\t\\tcolor: var(--color-text-light);\\n\\t\\t\\tmargin-bottom: 10px;\\n\\t\\t}\\n\\t\\t.activity--timestamp {\\n\\t\\t\\tflex-grow: 1;\\n\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t\\ttext-align: right;\\n\\t\\t\\tfont-size: 0.8em;\\n\\t\\t\\tpadding: 1px;\\n\\t\\t}\\n\\t}\\n</style>\\n<style>\\n\\t.visualdiff ins {\\n\\t\\tcolor: green;\\n\\t}\\n\\n\\t.visualdiff del {\\n\\t\\tcolor: darkred;\\n\\t}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.activity-list[data-v-832405a6] {\n\tmargin-bottom: 100px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ActivityList.vue\"],\"names\":[],\"mappings\":\";AA2HA;CACA,oBAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\\n  - SPDX-License-Identifier: AGPL-3.0-or-later\\n-->\\n\\n<template>\\n\\t<div class=\\\"activity-list\\\">\\n\\t\\t<div v-if=\\\"isLoading\\\" class=\\\"icon icon-loading\\\" />\\n\\t\\t<ActivityEntry v-for=\\\"activity in activities\\\"\\n\\t\\t\\t:key=\\\"activity.activity_id\\\"\\n\\t\\t\\t:activity=\\\"activity\\\" />\\n\\t\\t<InfiniteLoading :identifier=\\\"objectId\\\" @infinite=\\\"infiniteHandler\\\" @change=\\\"changeObject\\\">\\n\\t\\t\\t<div slot=\\\"spinner\\\" class=\\\"icon-loading\\\" />\\n\\t\\t\\t<div slot=\\\"no-more\\\" />\\n\\t\\t\\t<div slot=\\\"no-results\\\" />\\n\\t\\t</InfiniteLoading>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport axios from '@nextcloud/axios'\\nimport { generateOcsUrl } from '@nextcloud/router'\\nimport ActivityEntry from './ActivityEntry.vue'\\nimport InfiniteLoading from 'vue-infinite-loading'\\n\\nconst ACTIVITY_FETCH_LIMIT = 50\\n\\nexport default {\\n\\tname: 'ActivityList',\\n\\tcomponents: {\\n\\t\\tActivityEntry,\\n\\t\\tInfiniteLoading,\\n\\t},\\n\\tprops: {\\n\\t\\tfilter: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\tdefault: 'deck',\\n\\t\\t},\\n\\t\\ttype: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tobjectId: {\\n\\t\\t\\ttype: Number,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tobjectType: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tactivities: [],\\n\\t\\t\\tisLoading: false,\\n\\t\\t\\tsince: 0,\\n\\t\\t\\tendReached: false,\\n\\t\\t}\\n\\t},\\n\\tmethods: {\\n\\t\\tasync loadActivity() {\\n\\t\\t\\tconst params = new URLSearchParams()\\n\\t\\t\\tparams.append('format', 'json')\\n\\t\\t\\tparams.append('type', this.type)\\n\\t\\t\\tparams.append('since', this.since)\\n\\t\\t\\tparams.append('object_type', this.objectType)\\n\\t\\t\\tparams.append('object_id', '' + this.objectId)\\n\\t\\t\\tparams.append('limit', ACTIVITY_FETCH_LIMIT)\\n\\n\\t\\t\\tconst response = await axios.get(\\n\\t\\t\\t\\tgenerateOcsUrl(`apps/activity/api/v2/activity/${this.filter}`) + '?' + params,\\n\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\tvalidateStatus: (status) => {\\n\\t\\t\\t\\t\\t\\treturn (status >= 200 && status < 300) || status === 304\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t},\\n\\t\\t\\t)\\n\\n\\t\\t\\tif (response.status === 304) {\\n\\t\\t\\t\\tthis.endReached = true\\n\\t\\t\\t\\treturn []\\n\\t\\t\\t}\\n\\n\\t\\t\\tlet activities = response.data.ocs.data\\n\\t\\t\\tif (this.filter === 'deck') {\\n\\t\\t\\t\\t// We need to manually filter activities here, since currently we use two different types and there is no way\\n\\t\\t\\t\\t// to tell the backend to fetch all activites related to cards of a given board\\n\\t\\t\\t\\tactivities = activities.filter((activity) => {\\n\\t\\t\\t\\t\\treturn (activity.object_type === 'deck_board' && activity.object_id === this.objectId)\\n\\t\\t\\t\\t\\t\\t\\t|| (activity.object_type === 'deck_card' && activity.subject_rich[1].board.id === this.objectId.toString())\\n\\t\\t\\t\\t})\\n\\t\\t\\t}\\n\\t\\t\\tthis.activities.push(...activities)\\n\\t\\t\\tif (activities.length === 0) {\\n\\t\\t\\t\\tthis.endReached = true\\n\\t\\t\\t\\treturn []\\n\\t\\t\\t}\\n\\t\\t\\tthis.since = (activities[activities.length - 1].activity_id)\\n\\t\\t\\treturn activities\\n\\t\\t},\\n\\t\\tasync infiniteHandler($state) {\\n\\t\\t\\tawait this.loadActivity()\\n\\t\\t\\tif (!this.endReached) {\\n\\t\\t\\t\\t$state.loaded()\\n\\t\\t\\t} else {\\n\\t\\t\\t\\t$state.complete()\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tchangeObject() {\\n\\t\\t\\tthis.since = 0\\n\\t\\t\\tthis.activities = []\\n\\t\\t\\tthis.endReached = false\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n\\t.activity-list {\\n\\t\\tmargin-bottom: 100px;\\n\\t}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var map = {\n\t\"./af\": 25177,\n\t\"./af.js\": 25177,\n\t\"./ar\": 61509,\n\t\"./ar-dz\": 41488,\n\t\"./ar-dz.js\": 41488,\n\t\"./ar-kw\": 58676,\n\t\"./ar-kw.js\": 58676,\n\t\"./ar-ly\": 42353,\n\t\"./ar-ly.js\": 42353,\n\t\"./ar-ma\": 24496,\n\t\"./ar-ma.js\": 24496,\n\t\"./ar-ps\": 6947,\n\t\"./ar-ps.js\": 6947,\n\t\"./ar-sa\": 82682,\n\t\"./ar-sa.js\": 82682,\n\t\"./ar-tn\": 89756,\n\t\"./ar-tn.js\": 89756,\n\t\"./ar.js\": 61509,\n\t\"./az\": 95533,\n\t\"./az.js\": 95533,\n\t\"./be\": 28959,\n\t\"./be.js\": 28959,\n\t\"./bg\": 47777,\n\t\"./bg.js\": 47777,\n\t\"./bm\": 54903,\n\t\"./bm.js\": 54903,\n\t\"./bn\": 61290,\n\t\"./bn-bd\": 17357,\n\t\"./bn-bd.js\": 17357,\n\t\"./bn.js\": 61290,\n\t\"./bo\": 31545,\n\t\"./bo.js\": 31545,\n\t\"./br\": 11470,\n\t\"./br.js\": 11470,\n\t\"./bs\": 44429,\n\t\"./bs.js\": 44429,\n\t\"./ca\": 7306,\n\t\"./ca.js\": 7306,\n\t\"./cs\": 56464,\n\t\"./cs.js\": 56464,\n\t\"./cv\": 73635,\n\t\"./cv.js\": 73635,\n\t\"./cy\": 64226,\n\t\"./cy.js\": 64226,\n\t\"./da\": 93601,\n\t\"./da.js\": 93601,\n\t\"./de\": 77853,\n\t\"./de-at\": 26111,\n\t\"./de-at.js\": 26111,\n\t\"./de-ch\": 54697,\n\t\"./de-ch.js\": 54697,\n\t\"./de.js\": 77853,\n\t\"./dv\": 60708,\n\t\"./dv.js\": 60708,\n\t\"./el\": 54691,\n\t\"./el.js\": 54691,\n\t\"./en-au\": 53872,\n\t\"./en-au.js\": 53872,\n\t\"./en-ca\": 28298,\n\t\"./en-ca.js\": 28298,\n\t\"./en-gb\": 56195,\n\t\"./en-gb.js\": 56195,\n\t\"./en-ie\": 66584,\n\t\"./en-ie.js\": 66584,\n\t\"./en-il\": 65543,\n\t\"./en-il.js\": 65543,\n\t\"./en-in\": 9033,\n\t\"./en-in.js\": 9033,\n\t\"./en-nz\": 79402,\n\t\"./en-nz.js\": 79402,\n\t\"./en-sg\": 43004,\n\t\"./en-sg.js\": 43004,\n\t\"./eo\": 32934,\n\t\"./eo.js\": 32934,\n\t\"./es\": 97650,\n\t\"./es-do\": 20838,\n\t\"./es-do.js\": 20838,\n\t\"./es-mx\": 17730,\n\t\"./es-mx.js\": 17730,\n\t\"./es-us\": 56575,\n\t\"./es-us.js\": 56575,\n\t\"./es.js\": 97650,\n\t\"./et\": 3035,\n\t\"./et.js\": 3035,\n\t\"./eu\": 3508,\n\t\"./eu.js\": 3508,\n\t\"./fa\": 119,\n\t\"./fa.js\": 119,\n\t\"./fi\": 90527,\n\t\"./fi.js\": 90527,\n\t\"./fil\": 95995,\n\t\"./fil.js\": 95995,\n\t\"./fo\": 52477,\n\t\"./fo.js\": 52477,\n\t\"./fr\": 85498,\n\t\"./fr-ca\": 26435,\n\t\"./fr-ca.js\": 26435,\n\t\"./fr-ch\": 37892,\n\t\"./fr-ch.js\": 37892,\n\t\"./fr.js\": 85498,\n\t\"./fy\": 37071,\n\t\"./fy.js\": 37071,\n\t\"./ga\": 41734,\n\t\"./ga.js\": 41734,\n\t\"./gd\": 70217,\n\t\"./gd.js\": 70217,\n\t\"./gl\": 77329,\n\t\"./gl.js\": 77329,\n\t\"./gom-deva\": 32124,\n\t\"./gom-deva.js\": 32124,\n\t\"./gom-latn\": 93383,\n\t\"./gom-latn.js\": 93383,\n\t\"./gu\": 95050,\n\t\"./gu.js\": 95050,\n\t\"./he\": 11713,\n\t\"./he.js\": 11713,\n\t\"./hi\": 43861,\n\t\"./hi.js\": 43861,\n\t\"./hr\": 26308,\n\t\"./hr.js\": 26308,\n\t\"./hu\": 90609,\n\t\"./hu.js\": 90609,\n\t\"./hy-am\": 17160,\n\t\"./hy-am.js\": 17160,\n\t\"./id\": 74063,\n\t\"./id.js\": 74063,\n\t\"./is\": 89374,\n\t\"./is.js\": 89374,\n\t\"./it\": 88383,\n\t\"./it-ch\": 21827,\n\t\"./it-ch.js\": 21827,\n\t\"./it.js\": 88383,\n\t\"./ja\": 23827,\n\t\"./ja.js\": 23827,\n\t\"./jv\": 89722,\n\t\"./jv.js\": 89722,\n\t\"./ka\": 41794,\n\t\"./ka.js\": 41794,\n\t\"./kk\": 27088,\n\t\"./kk.js\": 27088,\n\t\"./km\": 96870,\n\t\"./km.js\": 96870,\n\t\"./kn\": 84451,\n\t\"./kn.js\": 84451,\n\t\"./ko\": 63164,\n\t\"./ko.js\": 63164,\n\t\"./ku\": 98174,\n\t\"./ku-kmr\": 6181,\n\t\"./ku-kmr.js\": 6181,\n\t\"./ku.js\": 98174,\n\t\"./ky\": 78474,\n\t\"./ky.js\": 78474,\n\t\"./lb\": 79680,\n\t\"./lb.js\": 79680,\n\t\"./lo\": 15867,\n\t\"./lo.js\": 15867,\n\t\"./lt\": 45766,\n\t\"./lt.js\": 45766,\n\t\"./lv\": 69532,\n\t\"./lv.js\": 69532,\n\t\"./me\": 58076,\n\t\"./me.js\": 58076,\n\t\"./mi\": 41848,\n\t\"./mi.js\": 41848,\n\t\"./mk\": 30306,\n\t\"./mk.js\": 30306,\n\t\"./ml\": 73739,\n\t\"./ml.js\": 73739,\n\t\"./mn\": 99053,\n\t\"./mn.js\": 99053,\n\t\"./mr\": 86169,\n\t\"./mr.js\": 86169,\n\t\"./ms\": 73386,\n\t\"./ms-my\": 92297,\n\t\"./ms-my.js\": 92297,\n\t\"./ms.js\": 73386,\n\t\"./mt\": 77075,\n\t\"./mt.js\": 77075,\n\t\"./my\": 72264,\n\t\"./my.js\": 72264,\n\t\"./nb\": 22274,\n\t\"./nb.js\": 22274,\n\t\"./ne\": 8235,\n\t\"./ne.js\": 8235,\n\t\"./nl\": 92572,\n\t\"./nl-be\": 43784,\n\t\"./nl-be.js\": 43784,\n\t\"./nl.js\": 92572,\n\t\"./nn\": 54566,\n\t\"./nn.js\": 54566,\n\t\"./oc-lnc\": 69330,\n\t\"./oc-lnc.js\": 69330,\n\t\"./pa-in\": 29849,\n\t\"./pa-in.js\": 29849,\n\t\"./pl\": 94418,\n\t\"./pl.js\": 94418,\n\t\"./pt\": 79834,\n\t\"./pt-br\": 48303,\n\t\"./pt-br.js\": 48303,\n\t\"./pt.js\": 79834,\n\t\"./ro\": 24457,\n\t\"./ro.js\": 24457,\n\t\"./ru\": 82271,\n\t\"./ru.js\": 82271,\n\t\"./sd\": 1221,\n\t\"./sd.js\": 1221,\n\t\"./se\": 33478,\n\t\"./se.js\": 33478,\n\t\"./si\": 17538,\n\t\"./si.js\": 17538,\n\t\"./sk\": 5784,\n\t\"./sk.js\": 5784,\n\t\"./sl\": 46637,\n\t\"./sl.js\": 46637,\n\t\"./sq\": 86794,\n\t\"./sq.js\": 86794,\n\t\"./sr\": 45719,\n\t\"./sr-cyrl\": 3322,\n\t\"./sr-cyrl.js\": 3322,\n\t\"./sr.js\": 45719,\n\t\"./ss\": 56000,\n\t\"./ss.js\": 56000,\n\t\"./sv\": 41011,\n\t\"./sv.js\": 41011,\n\t\"./sw\": 40748,\n\t\"./sw.js\": 40748,\n\t\"./ta\": 11025,\n\t\"./ta.js\": 11025,\n\t\"./te\": 11885,\n\t\"./te.js\": 11885,\n\t\"./tet\": 28861,\n\t\"./tet.js\": 28861,\n\t\"./tg\": 86571,\n\t\"./tg.js\": 86571,\n\t\"./th\": 55802,\n\t\"./th.js\": 55802,\n\t\"./tk\": 59527,\n\t\"./tk.js\": 59527,\n\t\"./tl-ph\": 29231,\n\t\"./tl-ph.js\": 29231,\n\t\"./tlh\": 31052,\n\t\"./tlh.js\": 31052,\n\t\"./tr\": 85096,\n\t\"./tr.js\": 85096,\n\t\"./tzl\": 79846,\n\t\"./tzl.js\": 79846,\n\t\"./tzm\": 81765,\n\t\"./tzm-latn\": 97711,\n\t\"./tzm-latn.js\": 97711,\n\t\"./tzm.js\": 81765,\n\t\"./ug-cn\": 48414,\n\t\"./ug-cn.js\": 48414,\n\t\"./uk\": 16618,\n\t\"./uk.js\": 16618,\n\t\"./ur\": 57777,\n\t\"./ur.js\": 57777,\n\t\"./uz\": 57609,\n\t\"./uz-latn\": 72475,\n\t\"./uz-latn.js\": 72475,\n\t\"./uz.js\": 57609,\n\t\"./vi\": 21135,\n\t\"./vi.js\": 21135,\n\t\"./x-pseudo\": 64051,\n\t\"./x-pseudo.js\": 64051,\n\t\"./yo\": 82218,\n\t\"./yo.js\": 82218,\n\t\"./zh-cn\": 52648,\n\t\"./zh-cn.js\": 52648,\n\t\"./zh-hk\": 1632,\n\t\"./zh-hk.js\": 1632,\n\t\"./zh-mo\": 31541,\n\t\"./zh-mo.js\": 31541,\n\t\"./zh-tw\": 50304,\n\t\"./zh-tw.js\": 50304\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 35358;","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarList.vue?vue&type=style&index=0&id=38fe6495&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarList.vue?vue&type=style&index=0&id=38fe6495&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./AvatarList.vue?vue&type=template&id=38fe6495&scoped=true\"\nimport script from \"./AvatarList.vue?vue&type=script&lang=js\"\nexport * from \"./AvatarList.vue?vue&type=script&lang=js\"\nimport style0 from \"./AvatarList.vue?vue&type=style&index=0&id=38fe6495&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38fe6495\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.interactive)?_c('div',{staticClass:\"deck-board-reference-interactive\"},[_c('Board',{attrs:{\"id\":_vm.board.id}})],1):_c('div',{staticClass:\"deck-board-reference\"},[_c('div',{staticClass:\"line\"},[_c('DeckIcon',{staticClass:\"title-icon\",attrs:{\"size\":20}}),_vm._v(\" \"),_c('strong',[_c('a',{staticClass:\"link\",attrs:{\"href\":_vm.boardLink,\"title\":_vm.boardTooltip,\"target\":\"_blank\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.board.title)+\"\\n\\t\\t\\t\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"line\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Owner') + ': ')+\"\\n\\t\\t\"),_c('NcUserBubble',{attrs:{\"user\":_vm.boardOwnerUserId,\"display-name\":_vm.boardOwnerDisplayName}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div :title=\"t('deck', 'Currently present people')\"\n\t\tclass=\"avatar-list\">\n\t\t<div v-for=\"session in sessionsVisible\"\n\t\t\t:key=\"session.uid\"\n\t\t\tclass=\"avatar-wrapper\"\n\t\t\t:style=\"sessionAvatarStyle\">\n\t\t\t<NcAvatar :user=\"session.uid\"\n\t\t\t\t:display-name=\"session.displayname\"\n\t\t\t\t:disable-menu=\"true\"\n\t\t\t\t:show-user-status=\"false\"\n\t\t\t\t:disable-tooltip=\"true\"\n\t\t\t\t:size=\"size\" />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { NcAvatar } from '@nextcloud/vue'\n\nexport default {\n\tname: 'SessionList',\n\tcomponents: {\n\t\tNcAvatar,\n\t},\n\tprops: {\n\t\tsessions: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => { return [] },\n\t\t},\n\t\tsize: {\n\t\t\ttype: Number,\n\t\t\tdefault: () => 32,\n\t\t},\n\t},\n\tcomputed: {\n\t\tsessionsVisible() {\n\t\t\tif (!this.sessions) return []\n\t\t\treturn this.sessions.slice(0, 5)\n\t\t},\n\t\tsessionAvatarStyle() {\n\t\t\treturn {\n\t\t\t\t'--size': this.size + 'px',\n\t\t\t\t'--font-size': this.size / 2 + 'px',\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.avatar-list {\n\tmin-height: var(--default-clickable-area);\n\talign-items: center;\n\tpadding-right: 0.5em;\n\tborder: none;\n\tbackground-color: var(--color-main-background);\n\tmargin: 0;\n\tpadding-left: 6px;\n\tdisplay: inline-flex;\n\tflex-direction: row-reverse;\n\n\t&:focus {\n\t\tbackground-color: #eee;\n\t}\n\n}\n\n.avatar-wrapper {\n\tbackground-color: #b9b9b9;\n\tborder-radius: 50%;\n\tborder: 1px solid var(--color-border-dark);\n\twidth: var(--size);\n\theight: var(--size);\n\ttext-align: center;\n\tcolor: #ffffff;\n\tline-height: var(--size);\n\tfont-size: var(--font-size);\n\tfont-weight: normal;\n\tz-index: 1;\n\toverflow: hidden;\n\tbox-sizing: content-box !important;\n\tmargin-left: -8px;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionList.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionList.vue?vue&type=style&index=0&id=3a1cc12a&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SessionList.vue?vue&type=style&index=0&id=3a1cc12a&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SessionList.vue?vue&type=template&id=3a1cc12a&scoped=true\"\nimport script from \"./SessionList.vue?vue&type=script&lang=js\"\nexport * from \"./SessionList.vue?vue&type=script&lang=js\"\nimport style0 from \"./SessionList.vue?vue&type=style&index=0&id=3a1cc12a&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a1cc12a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"avatar-list\",attrs:{\"title\":_vm.t('deck', 'Currently present people')}},_vm._l((_vm.sessionsVisible),function(session){return _c('div',{key:session.uid,staticClass:\"avatar-wrapper\",style:(_vm.sessionAvatarStyle)},[_c('NcAvatar',{attrs:{\"user\":session.uid,\"display-name\":session.displayname,\"disable-menu\":true,\"show-user-status\":false,\"disable-tooltip\":true,\"size\":_vm.size}})],1)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl } from '@nextcloud/router'\n\nexport class SessionApi {\n\n\turl(url) {\n\t\treturn generateOcsUrl(`apps/deck/api/v1.0${url}`)\n\t}\n\n\tasync createSession(boardId) {\n\t\treturn (await axios.put(this.url('/session/create'), { boardId })).data.ocs.data\n\t}\n\n\tasync syncSession(boardId, token) {\n\t\treturn await axios.post(this.url('/session/sync'), { boardId, token })\n\t}\n\n\tasync closeSession(boardId, token) {\n\t\treturn await axios.post(this.url('/session/close'), { boardId, token })\n\t}\n\n\tasync closeSessionViaBeacon(boardId, token) {\n\t\tconst body = {\n\t\t\tboardId,\n\t\t\ttoken,\n\t\t}\n\t\tconst headers = {\n\t\t\ttype: 'application/json',\n\t\t}\n\t\tconst blob = new Blob([JSON.stringify(body)], headers)\n\t\tnavigator.sendBeacon(this.url('/session/close'), blob)\n\t}\n\n}\n\nexport const sessionApi = new SessionApi()\n","/**\n * SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nexport default {\n\tstate: {\n\t\tactions: {\n\t\t\tcard: [],\n\t\t},\n\t},\n\tgetters: {\n\t\tcardActions: (state) => state.actions.card,\n\t},\n\tmutations: {\n\t\tADD_CARD_ACTION(state, action) {\n\t\t\tstate.actions.card.push(action)\n\t\t},\n\t},\n\tactions: {\n\t\tasync addCardAction({ commit }, action) {\n\t\t\tcommit('ADD_CARD_ACTION', action)\n\t\t},\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\nimport '../models/index.js'\n\nexport class StackApi {\n\n\turl(url) {\n\t\turl = `/apps/deck${url}`\n\t\treturn generateUrl(url)\n\t}\n\n\tloadStacks(boardId) {\n\t\treturn axios.get(this.url(`/stacks/${boardId}`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tdeletedStacks(boardId) {\n\t\treturn axios.get(this.url(`/${boardId}/stacks/deleted`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tloadArchivedStacks(boardId) {\n\t\treturn axios.get(this.url(`/stacks/${boardId}/archived`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\t/**\n\t * @param {Stack} stack stack object to create\n\t * @return {Promise}\n\t */\n\tcreateStack(stack) {\n\t\treturn axios.post(this.url('/stacks'), stack)\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\treorderStack(stackId, order) {\n\t\treturn axios.put(this.url(`/stacks/${stackId}/reorder`), { order })\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tdeleteStack(stackId) {\n\t\treturn axios.delete(this.url(`/stacks/${stackId}`))\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n\tupdateStack(stack) {\n\t\treturn axios.put(this.url(`/stacks/${stack.id}`), stack)\n\t\t\t.then(\n\t\t\t\t(response) => {\n\t\t\t\t\treturn Promise.resolve(response.data)\n\t\t\t\t},\n\t\t\t\t(err) => {\n\t\t\t\t\treturn Promise.reject(err)\n\t\t\t\t},\n\t\t\t)\n\t\t\t.catch((err) => {\n\t\t\t\treturn Promise.reject(err)\n\t\t\t})\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nconst arrayMove = function(arrayToSort, removedIndex, addedIndex) {\n\tif (removedIndex === null && addedIndex === null) return arrayToSort\n\n\tconst result = [...arrayToSort]\n\tlet itemToAdd = arrayToSort[removedIndex]\n\n\tif (removedIndex !== null) {\n\t\titemToAdd = result.splice(removedIndex, 1)[0]\n\t}\n\n\tif (addedIndex !== null) {\n\t\tresult.splice(addedIndex, 0, itemToAdd)\n\t}\n\treturn result\n}\n\nexport default arrayMove\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport Vue from 'vue'\nimport { StackApi } from './../services/StackApi.js'\nimport applyOrderToArray from './../helpers/applyOrderToArray.js'\n\nconst apiClient = new StackApi()\n\nexport default {\n\tstate: {\n\t\tstacks: [],\n\t},\n\tgetters: {\n\t\tstacksByBoard: state => (id) => {\n\t\t\treturn state.stacks.filter((stack) => stack.boardId === id).sort((a, b) => a.order - b.order)\n\t\t},\n\t\tstackById: state => (id) => {\n\t\t\treturn state.stacks.find((stack) => stack.id === id)\n\t\t},\n\t},\n\tmutations: {\n\t\taddStack(state, stack) {\n\t\t\tconst existingIndex = state.stacks.findIndex(_stack => _stack.id === stack.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tconst existingStack = state.stacks.find(_stack => _stack.id === stack.id)\n\t\t\t\tVue.set(state.stacks, existingIndex, Object.assign({}, existingStack, stack))\n\t\t\t} else {\n\t\t\t\tstate.stacks.push(stack)\n\t\t\t}\n\t\t},\n\t\torderStack(state, { stack, removedIndex, addedIndex }) {\n\t\t\tconst currentOrder = state.stacks.filter((_stack) => _stack.boardId === stack.boardId).sort((a, b) => a.order - b.order)\n\t\t\tconst newOrder = applyOrderToArray(currentOrder, removedIndex, addedIndex)\n\t\t\tfor (let i = 0; i < newOrder.length; i++) {\n\t\t\t\tnewOrder[i].order = parseInt(i)\n\t\t\t}\n\t\t},\n\t\tdeleteStack(state, stack) {\n\t\t\tconst existingIndex = state.stacks.findIndex(_stack => _stack.id === stack.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.stacks.splice(existingIndex, 1)\n\t\t\t}\n\t\t},\n\t\tupdateStack(state, stack) {\n\t\t\tconst existingIndex = state.stacks.findIndex(_stack => _stack.id === stack.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.stacks[existingIndex].title = stack.title\n\t\t\t}\n\t\t},\n\t},\n\tactions: {\n\t\torderStack({ commit }, { stack, removedIndex, addedIndex }) {\n\t\t\tcommit('orderStack', { stack, removedIndex, addedIndex })\n\t\t\tapiClient.reorderStack(stack.id, addedIndex)\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tOC.Notification.showTemporary('Failed to change order')\n\t\t\t\t\tconsole.error(err.response.data.message)\n\t\t\t\t\tcommit('orderStack', { stack, addedIndex, removedIndex })\n\t\t\t\t})\n\t\t},\n\t\tasync loadStacks({ commit }, boardId) {\n\t\t\tlet call = 'loadStacks'\n\t\t\tif (this.state.showArchived === true) {\n\t\t\t\tcall = 'loadArchivedStacks'\n\t\t\t}\n\t\t\tconst stacks = await apiClient[call](boardId)\n\t\t\tconst cards = []\n\t\t\tfor (const i in stacks) {\n\t\t\t\tconst stack = stacks[i]\n\t\t\t\tfor (const j in stack.cards) {\n\t\t\t\t\tcards.push(stack.cards[j])\n\t\t\t\t}\n\t\t\t\tdelete stack.cards\n\t\t\t\tcommit('addStack', stack)\n\t\t\t}\n\t\t\tcommit('setCards', cards)\n\t\t},\n\t\tasync loadArchivedStacks({ commit, getters }, boardId) {\n\t\t\tconst archivedStacks = await apiClient.loadArchivedStacks(boardId)\n\t\t\tconst cards = []\n\t\t\tfor (const i in archivedStacks) {\n\t\t\t\tconst stack = archivedStacks[i]\n\t\t\t\tfor (const j in stack.cards) {\n\t\t\t\t\tcards.push(stack.cards[j])\n\t\t\t\t}\n\t\t\t\tdelete stack.cards\n\t\t\t\tif (!getters.stackById(stack.id)) {\n\t\t\t\t\tcommit('addStack', stack)\n\t\t\t\t}\n\t\t\t}\n\t\t\tcommit('setCards', cards)\n\t\t},\n\t\tcreateStack({ commit }, stack) {\n\t\t\tstack.boardId = this.state.currentBoard.id\n\t\t\tapiClient.createStack(stack)\n\t\t\t\t.then((createdStack) => {\n\t\t\t\t\tcommit('addStack', createdStack)\n\t\t\t\t})\n\t\t},\n\t\tdeleteStack({ commit }, stack) {\n\t\t\tapiClient.deleteStack(stack.id)\n\t\t\t\t.then((stack) => {\n\t\t\t\t\tcommit('deleteStack', stack)\n\t\t\t\t\tcommit('moveStackToTrash', stack)\n\t\t\t\t})\n\t\t},\n\t\tupdateStack({ commit }, stack) {\n\t\t\tapiClient.updateStack(stack)\n\t\t\t\t.then((stack) => {\n\t\t\t\t\tcommit('updateStack', stack)\n\t\t\t\t})\n\t\t},\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { CardApi } from './../services/CardApi.js'\nimport moment from 'moment'\nimport Vue from 'vue'\n\nconst apiClient = new CardApi()\n\nexport default {\n\tstate: {\n\t\tcards: [],\n\t},\n\tgetters: {\n\t\tcardsByStack: (state, getters, rootState) => (id) => {\n\t\t\treturn state.cards.filter((card) => {\n\t\t\t\tconst { tags, users, due, unassigned, completed } = rootState.filter\n\n\t\t\t\tif (completed === 'open' && card.done !== null) { return false }\n\t\t\t\tif (completed === 'completed' && card.done == null) { return false }\n\t\t\t\tlet allTagsMatch = true\n\t\t\t\tlet allUsersMatch = true\n\n\t\t\t\tif (tags.length > 0) {\n\t\t\t\t\ttags.forEach((tag) => {\n\t\t\t\t\t\tif (card.labels.findIndex((l) => l.id === tag) === -1) {\n\t\t\t\t\t\t\tallTagsMatch = false\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif (!allTagsMatch) {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (users.length > 0) {\n\t\t\t\t\tusers.forEach((user) => {\n\t\t\t\t\t\tif (!card?.assignedUsers || card.assignedUsers.findIndex((u) => u.participant.uid === user) === -1) {\n\t\t\t\t\t\t\tallUsersMatch = false\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif (!allUsersMatch) {\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (unassigned && card.assignedUsers.length > 0) {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\n\t\t\t\tif (due !== '') {\n\t\t\t\t\tconst datediffHour = ((new Date(card.duedate) - new Date()) / 3600 / 1000)\n\t\t\t\t\tswitch (due) {\n\t\t\t\t\tcase 'noDue':\n\t\t\t\t\t\treturn (card.duedate === null)\n\t\t\t\t\tcase 'overdue':\n\t\t\t\t\t\treturn (card.overdue === 3)\n\t\t\t\t\tcase 'dueToday':\n\t\t\t\t\t\treturn (card.overdue >= 2)\n\t\t\t\t\tcase 'dueWeek':\n\t\t\t\t\t\treturn (datediffHour <= 7 * 24 && card.duedate !== null)\n\t\t\t\t\tcase 'dueMonth':\n\t\t\t\t\t\treturn (datediffHour <= 30 * 24 && card.duedate !== null)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn true\n\t\t\t})\n\t\t\t\t.filter((card) => card.stackId === id)\n\t\t\t\t.filter((card) => {\n\t\t\t\t\tif (getters.getSearchQuery === '') {\n\t\t\t\t\t\treturn true\n\t\t\t\t\t}\n\n\t\t\t\t\tlet hasMatch = true\n\t\t\t\t\tconst matches = getters.getSearchQuery.match(/(?:[^\\s\"]+|\"[^\"]*\")+/g)\n\n\t\t\t\t\tconst filterOutQuotes = (q) => {\n\t\t\t\t\t\tif (q[0] === '\"' && q[q.length - 1] === '\"') {\n\t\t\t\t\t\t\treturn q.slice(1, -1)\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn q\n\t\t\t\t\t}\n\t\t\t\t\tfor (const match of matches) {\n\t\t\t\t\t\tlet [filter, query] = match.indexOf(':') !== -1 ? match.split(/:(.*)/) : [null, match]\n\t\t\t\t\t\tconst isEmptyQuery = typeof query === 'undefined' || filterOutQuotes(query) === ''\n\n\t\t\t\t\t\tif (filter === 'title') {\n\t\t\t\t\t\t\tif (isEmptyQuery) {\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thasMatch = hasMatch && card.title.toLowerCase().includes(filterOutQuotes(query).toLowerCase())\n\t\t\t\t\t\t} else if (filter === 'description') {\n\t\t\t\t\t\t\tif (isEmptyQuery) {\n\t\t\t\t\t\t\t\thasMatch = hasMatch && !!card.description\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thasMatch = hasMatch && card.description.toLowerCase().includes(filterOutQuotes(query).toLowerCase())\n\t\t\t\t\t\t} else if (filter === 'list') {\n\t\t\t\t\t\t\tif (isEmptyQuery) {\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst stack = getters.stackById(card.stackId)\n\t\t\t\t\t\t\tif (!stack) {\n\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thasMatch = hasMatch && stack.title.toLowerCase().includes(filterOutQuotes(query).toLowerCase())\n\t\t\t\t\t\t} else if (filter === 'tag') {\n\t\t\t\t\t\t\tif (isEmptyQuery) {\n\t\t\t\t\t\t\t\thasMatch = hasMatch && card.labels.length > 0\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thasMatch = hasMatch && card.labels.findIndex((label) => label.title.toLowerCase().includes(filterOutQuotes(query).toLowerCase())) !== -1\n\t\t\t\t\t\t} else if (filter === 'date') {\n\t\t\t\t\t\t\tconst datediffHour = ((new Date(card.duedate) - new Date()) / 3600 / 1000)\n\t\t\t\t\t\t\tquery = filterOutQuotes(query)\n\t\t\t\t\t\t\tswitch (query) {\n\t\t\t\t\t\t\tcase 'overdue':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && (card.overdue === 3)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'today':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && (datediffHour > 0 && datediffHour <= 24 && card.duedate !== null)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'week':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && (datediffHour > 0 && datediffHour <= 7 * 24 && card.duedate !== null)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'month':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && (datediffHour > 0 && datediffHour <= 30 * 24 && card.duedate !== null)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 'none':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && (card.duedate === null)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (card.duedate === null || !hasMatch) {\n\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst comparator = query[0] + (query[1] === '=' ? '=' : '')\n\t\t\t\t\t\t\tconst isValidComparator = ['<', '<=', '>', '>='].indexOf(comparator) !== -1\n\t\t\t\t\t\t\tconst parsedCardDate = moment(card.duedate)\n\t\t\t\t\t\t\tconst parsedDate = moment(query.slice(isValidComparator ? comparator.length : 0))\n\t\t\t\t\t\t\tswitch (comparator) {\n\t\t\t\t\t\t\tcase '<':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && parsedCardDate.isBefore(parsedDate)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase '<=':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && parsedCardDate.isSameOrBefore(parsedDate)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase '>':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && parsedCardDate.isAfter(parsedDate)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase '>=':\n\t\t\t\t\t\t\t\thasMatch = hasMatch && parsedCardDate.isSameOrAfter(parsedDate)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\thasMatch = hasMatch && parsedCardDate.isSame(parsedDate)\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if (filter === 'assigned') {\n\t\t\t\t\t\t\tif (isEmptyQuery) {\n\t\t\t\t\t\t\t\thasMatch = hasMatch && card.assignedUsers.length > 0\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thasMatch = hasMatch && card.assignedUsers.findIndex((assignment) => {\n\t\t\t\t\t\t\t\treturn assignment.participant.primaryKey.toLowerCase() === filterOutQuotes(query).toLowerCase()\n\t\t\t\t\t\t\t\t\t|| assignment.participant.displayname.toLowerCase() === filterOutQuotes(query).toLowerCase()\n\t\t\t\t\t\t\t}) !== -1\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thasMatch = hasMatch && (card.title.toLowerCase().includes(filterOutQuotes(match).toLowerCase())\n\t\t\t\t\t\t\t\t|| card.description.toLowerCase().includes(filterOutQuotes(match).toLowerCase()) || card.id === parseInt(filterOutQuotes(match)))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!hasMatch) {\n\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn true\n\t\t\t\t})\n\t\t\t\t.sort((a, b) => a.order - b.order || a.createdAt - b.createdAt)\n\t\t},\n\t\tcardById: state => (id) => {\n\t\t\treturn state.cards.find((card) => card.id === id)\n\t\t},\n\t},\n\tmutations: {\n\t\taddCard(state, card) {\n\t\t\tcard.labels = card.labels || []\n\t\t\tcard.assignedUsers = card.assignedUsers || []\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === card.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tconst existingCard = state.cards.find(_card => _card.id === card.id)\n\t\t\t\tVue.set(state.cards, existingIndex, Object.assign({}, existingCard, card))\n\t\t\t} else {\n\t\t\t\tstate.cards.push(card)\n\t\t\t}\n\t\t},\n\t\tdeleteCard(state, card) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === card.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.cards.splice(existingIndex, 1)\n\t\t\t}\n\t\t},\n\t\tupdateCard(state, card) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === card.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.cards, existingIndex, Object.assign({}, state.cards[existingIndex], card))\n\t\t\t}\n\t\t},\n\t\tupdateCardsReorder(state, cards) {\n\t\t\tfor (const newCard of cards) {\n\t\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === newCard.id)\n\t\t\t\tif (existingIndex !== -1) {\n\t\t\t\t\tVue.set(state.cards[existingIndex], 'order', newCard.order)\n\t\t\t\t\tVue.set(state.cards[existingIndex], 'stackId', newCard.stackId)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tassignCardToUser(state, user) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === user.cardId)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.cards[existingIndex].assignedUsers.push(user)\n\t\t\t}\n\t\t},\n\t\tremoveUserFromCard(state, user) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === user.cardId)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tconst foundIndex = state.cards[existingIndex].assignedUsers.findIndex(_user => _user.id === user.id)\n\t\t\t\tif (foundIndex !== -1) {\n\t\t\t\t\tstate.cards[existingIndex].assignedUsers.splice(foundIndex, 1)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tupdateCardProperty(state, { card, property }) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === card.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.cards[existingIndex], property, card[property])\n\t\t\t\tVue.set(state.cards[existingIndex], 'lastModified', Date.now() / 1000)\n\t\t\t}\n\t\t},\n\t\tcardSetAttachmentCount(state, { cardId, count }) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === cardId)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.cards[existingIndex], 'attachmentCount', count)\n\t\t\t}\n\t\t},\n\t\tcardIncreaseAttachmentCount(state, cardId) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === cardId)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.cards[existingIndex], 'attachmentCount', state.cards[existingIndex].attachmentCount + 1)\n\t\t\t}\n\t\t},\n\t\tcardDecreaseAttachmentCount(state, cardId) {\n\t\t\tconst existingIndex = state.cards.findIndex(_card => _card.id === cardId)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.cards[existingIndex], 'attachmentCount', state.cards[existingIndex].attachmentCount - 1)\n\t\t\t}\n\t\t},\n\t\taddNewCard(state, card) {\n\t\t\tstate.cards.push(card)\n\t\t},\n\t\tsetCards(state, cards) {\n\t\t\tconst deletedCards = state.cards.filter(_card => {\n\t\t\t\treturn cards.findIndex(c => _card.id === c.id) === -1\n\t\t\t})\n\t\t\tfor (const card of deletedCards) {\n\t\t\t\tthis.commit('deleteCard', card)\n\t\t\t}\n\t\t\tfor (const card of cards) {\n\t\t\t\tthis.commit('addCard', card)\n\t\t\t}\n\t\t},\n\t},\n\tactions: {\n\t\tasync cloneCard({ commit }, { cardId, targetStackId }) {\n\t\t\tconst createdCard = await apiClient.cloneCard(cardId, targetStackId)\n\t\t\tcommit('addCard', createdCard)\n\t\t\treturn createdCard\n\t\t},\n\t\tasync addCard({ commit }, card) {\n\t\t\tconst createdCard = await apiClient.addCard(card)\n\t\t\tcommit('addCard', createdCard)\n\t\t\treturn createdCard\n\t\t},\n\t\tasync updateCardTitle({ commit }, card) {\n\t\t\tconst updatedCard = await apiClient.updateCard(card)\n\t\t\tcommit('updateCardProperty', { property: 'title', card: updatedCard })\n\t\t\tcommit('updateCardProperty', { property: 'referenceData', card: updatedCard })\n\t\t},\n\t\tasync moveCard({ commit }, card) {\n\t\t\tconst updatedCard = await apiClient.updateCard(card)\n\t\t\tcommit('deleteCard', updatedCard)\n\t\t},\n\t\tasync reorderCard({ commit, getters }, card) {\n\t\t\tlet i = 0\n\t\t\tconst newCards = []\n\t\t\tfor (const c of getters.cardsByStack(card.stackId)) {\n\t\t\t\tif (c.id === card.id) {\n\t\t\t\t\tnewCards.push(card)\n\t\t\t\t}\n\t\t\t\tif (i === card.order) {\n\t\t\t\t\ti++\n\t\t\t\t}\n\t\t\t\tif (c.id !== card.id) {\n\t\t\t\t\tnewCards.push({ ...c, order: i++ })\n\t\t\t\t}\n\t\t\t}\n\t\t\tnewCards.push(card)\n\t\t\tawait commit('updateCardsReorder', newCards)\n\n\t\t\tapiClient.reorderCard(card).then((cards) => {\n\t\t\t\tcommit('updateCardsReorder', Object.values(cards))\n\t\t\t})\n\t\t},\n\t\tasync deleteCard({ commit }, card) {\n\t\t\tawait apiClient.deleteCard(card.id)\n\t\t\tcommit('deleteCard', card)\n\t\t\tcommit('moveCardToTrash', card)\n\t\t},\n\t\tasync archiveUnarchiveCard({ commit }, card) {\n\t\t\tlet call = 'archiveCard'\n\t\t\tif (card.archived === false) {\n\t\t\t\tcall = 'unArchiveCard'\n\t\t\t}\n\n\t\t\tconst updatedCard = await apiClient[call](card)\n\t\t\tcommit('updateCard', updatedCard)\n\t\t},\n\t\tasync changeCardDoneStatus({ commit }, card) {\n\t\t\tlet call = 'markCardAsDone'\n\t\t\tif (card.done === false) {\n\t\t\t\tcall = 'markCardAsUndone'\n\t\t\t}\n\n\t\t\tconst updatedCard = await apiClient[call](card)\n\t\t\tcommit('updateCardProperty', { property: 'done', card: updatedCard })\n\t\t},\n\t\tasync assignCardToUser({ commit }, { card, assignee }) {\n\t\t\tconst user = await apiClient.assignUser(card.id, assignee.userId, assignee.type)\n\t\t\tcommit('assignCardToUser', user)\n\t\t},\n\t\tasync removeUserFromCard({ commit }, { card, assignee }) {\n\t\t\tconst user = await apiClient.removeUser(card.id, assignee.userId, assignee.type)\n\t\t\tcommit('removeUserFromCard', user)\n\t\t},\n\t\tasync addLabel({ commit }, data) {\n\t\t\tawait apiClient.assignLabelToCard(data)\n\t\t\tcommit('updateCardProperty', { property: 'labels', card: data.card })\n\t\t},\n\t\tasync removeLabel({ commit }, data) {\n\t\t\tawait apiClient.removeLabelFromCard(data)\n\t\t\tcommit('updateCardProperty', { property: 'labels', card: data.card })\n\t\t},\n\t\tasync updateCardDesc({ commit }, card) {\n\t\t\tconst updatedCard = await apiClient.updateCard(card)\n\t\t\tcommit('updateCardProperty', { property: 'description', card: updatedCard })\n\t\t},\n\t\tasync updateCardDue({ commit }, card) {\n\t\t\tconst updatedCard = await apiClient.updateCard(card)\n\t\t\tcommit('updateCardProperty', { property: 'duedate', card: updatedCard })\n\t\t},\n\n\t\taddCardData({ commit }, cardData) {\n\t\t\tconst card = { ...cardData }\n\t\t\tcommit('addStack', card.relatedStack)\n\t\t\tcommit('addBoard', card.relatedBoard)\n\t\t\tdelete card.relatedStack\n\t\t\tdelete card.relatedBoard\n\t\t\tcommit('addCard', card)\n\t\t},\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { CommentApi } from '../services/CommentApi.js'\nimport Vue from 'vue'\n\nconst apiClient = new CommentApi()\n\nconst COMMENT_FETCH_LIMIT = 10\n\nexport default {\n\tstate: {\n\t\tcomments: {},\n\t\treplyTo: null,\n\t},\n\tgetters: {\n\t\tgetCommentsForCard: (state) => (id) => {\n\t\t\tif (state.comments[id]) {\n\t\t\t\treturn [...state.comments[id].comments].sort((a, b) => b.id - a.id)\n\t\t\t}\n\t\t\treturn []\n\t\t},\n\t\thasMoreComments: (state) => (cardId) => {\n\t\t\treturn state.comments[cardId] && state.comments[cardId].hasMore\n\t\t},\n\t},\n\tmutations: {\n\t\tendReached(state, { cardId }) {\n\t\t\tif (state.comments[cardId]) {\n\t\t\t\tstate.comments[cardId].hasMore = false\n\t\t\t}\n\t\t},\n\t\taddComments(state, { comments, cardId }) {\n\t\t\tif (state.comments[cardId] === undefined) {\n\t\t\t\tVue.set(state.comments, cardId, {\n\t\t\t\t\thasMore: comments.length > 0,\n\t\t\t\t\tcomments: [...comments],\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tconst newComments = comments.filter((comment) => {\n\t\t\t\t\treturn state.comments[cardId].comments.findIndex((item) => item.id === comment.id) === -1\n\t\t\t\t})\n\t\t\t\tstate.comments[cardId].comments.push(...newComments)\n\t\t\t}\n\t\t},\n\t\tupdateComment(state, { cardId, comment }) {\n\t\t\tconst existingIndex = state.comments[cardId].comments.findIndex(c => c.id === comment.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tObject.assign(state.comments[cardId].comments[existingIndex], comment)\n\t\t\t}\n\t\t},\n\t\tdeleteComment(state, comment) {\n\t\t\tconst existingIndex = state.comments[comment.cardId].comments.findIndex(_comment => _comment.id === comment.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.comments[comment.cardId].comments.splice(existingIndex, 1)\n\t\t\t}\n\t\t},\n\t\tmarkCommentsAsRead(state, cardId) {\n\t\t\tstate.comments[cardId].comments.forEach(_comment => {\n\t\t\t\tVue.set(_comment, 'isUnread', false)\n\t\t\t})\n\t\t},\n\t\tsetReplyTo(state, comment) {\n\t\t\tVue.set(state, 'replyTo', comment)\n\t\t},\n\t},\n\tactions: {\n\t\tasync fetchComments({ commit }, { cardId, offset }) {\n\t\t\tconst comments = await apiClient.loadComments({\n\t\t\t\tcardId,\n\t\t\t\tlimit: COMMENT_FETCH_LIMIT,\n\t\t\t\toffset: offset || 0,\n\t\t\t})\n\n\t\t\tcommit('addComments', {\n\t\t\t\tcardId,\n\t\t\t\tcomments,\n\t\t\t})\n\n\t\t\tif (comments.length < COMMENT_FETCH_LIMIT) {\n\t\t\t\tcommit('endReached', { cardId })\n\n\t\t\t}\n\t\t},\n\t\tasync fetchMore({ commit, dispatch, getters }, { cardId }) {\n\t\t\t// fetch newer comments first\n\t\t\tawait dispatch('fetchComments', { cardId })\n\t\t\tawait dispatch('fetchComments', { cardId, offset: getters.getCommentsForCard(cardId).length })\n\n\t\t},\n\t\tasync createComment({ commit, dispatch, state }, { cardId, comment }) {\n\t\t\tawait apiClient.createComment({ cardId, comment, replyTo: state.replyTo })\n\t\t\tawait dispatch('fetchComments', { cardId })\n\t\t},\n\t\tasync deleteComment({ commit }, data) {\n\t\t\tawait apiClient.deleteComment(data)\n\t\t\tcommit('deleteComment', data)\n\t\t},\n\t\tasync updateComment({ commit }, data) {\n\t\t\tconst comment = await apiClient.updateComment(data)\n\t\t\tawait commit('updateComment', { cardId: data.cardId, comment })\n\t\t},\n\t\tasync markCommentsAsRead({ commit }, cardId) {\n\t\t\tawait apiClient.markCommentsAsRead(cardId)\n\t\t\tawait commit('markCommentsAsRead', cardId)\n\t\t},\n\t\tsetReplyTo({ commit }, comment) {\n\t\t\tcommit('setReplyTo', comment)\n\t\t},\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl, generateRemoteUrl } from '@nextcloud/router'\n\nexport class CommentApi {\n\n\turl(url) {\n\t\turl = `dav/comments/deckCard/${url}`\n\t\treturn generateRemoteUrl(url)\n\t}\n\n\tasync loadComments({ cardId, limit, offset }) {\n\t\tconst api = await axios.get(generateOcsUrl(`apps/deck/api/v1.0/cards/${cardId}/comments`), {\n\t\t\tparams: { limit, offset },\n\t\t\theaders: { 'OCS-APIRequest': 'true' },\n\t\t})\n\t\treturn api.data.ocs.data\n\t}\n\n\tasync createComment({ cardId, comment, replyTo }) {\n\t\tconst api = await axios.post(generateOcsUrl(`apps/deck/api/v1.0/cards/${cardId}/comments`), {\n\t\t\tmessage: `${comment}`,\n\t\t\tparentId: replyTo ? replyTo.id : null,\n\t\t})\n\t\treturn api.data.ocs.data\n\t}\n\n\tasync updateComment({ cardId, id, comment }) {\n\t\tconst api = await axios.put(generateOcsUrl(`apps/deck/api/v1.0/cards/${cardId}/comments/${id}`), {\n\t\t\tmessage: `${comment}`,\n\t\t})\n\t\treturn api.data.ocs.data\n\t}\n\n\tasync deleteComment({ cardId, id }) {\n\t\tconst api = await axios.delete(generateOcsUrl(`apps/deck/api/v1.0/cards/${cardId}/comments/${id}`))\n\t\treturn api.data.ocs.data\n\t}\n\n\tasync markCommentsAsRead(cardId) {\n\t\tconst readMarker = (new Date()).toUTCString()\n\t\tconst response = await axios({\n\t\t\tmethod: 'PROPPATCH',\n\t\t\turl: this.url(`${cardId}`),\n\t\t\tdata: `<?xml version=\"1.0\"?>\n\t\t\t\t<d:propertyupdate  xmlns:d=\"DAV:\" xmlns:oc=\"http://owncloud.org/ns\">\n\t\t\t\t  <d:set>\n\t\t\t\t   <d:prop>\n\t\t\t\t\t  <oc:readMarker>${readMarker}</oc:readMarker>\n\t\t\t\t\t</d:prop>\n\t\t\t\t  </d:set>\n\t\t\t\t</d:propertyupdate>`,\n\t\t})\n\t\treturn response.data\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { StackApi } from '../services/StackApi.js'\nimport { CardApi } from '../services/CardApi.js'\n\nconst stackApi = new StackApi()\nconst cardApi = new CardApi()\n\nexport default {\n\tstate: {\n\t\tdeletedStacks: [],\n\t\tdeletedCards: [],\n\t},\n\tmutations: {\n\t\tsetDeletedStacks(state, delStacks) {\n\t\t\tstate.deletedStacks = []\n\t\t\tif (delStacks.length > 0) {\n\t\t\t\tstate.deletedStacks = delStacks\n\t\t\t}\n\t\t},\n\n\t\tmoveStackToTrash(state, stack) {\n\t\t\tstack.deletedAt = Math.floor(Date.now() / 1000)\n\t\t\tstate.deletedStacks.push(stack)\n\t\t},\n\n\t\tremoveStackFromTrash(state, stack) {\n\t\t\tconst existingIndex = state.deletedStacks.findIndex(_stack => _stack.id === stack.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.deletedStacks.splice(existingIndex, 1)\n\t\t\t}\n\t\t},\n\n\t\tsetDeletedCards(state, delCards) {\n\t\t\tstate.deletedCards = []\n\t\t\tstate.deletedCards = delCards\n\t\t},\n\n\t\tmoveCardToTrash(state, card) {\n\t\t\tcard.deletedAt = Math.floor(Date.now() / 1000)\n\t\t\tstate.deletedCards.push(card)\n\t\t},\n\n\t\tremoveCardFromTrash(state, card) {\n\t\t\tconst existingIndex = state.deletedCards.findIndex(_card => _card.id === card.id)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.deletedCards.splice(existingIndex, 1)\n\t\t\t}\n\t\t},\n\t},\n\tactions: {\n\t\tfetchDeletedItems({ commit }, boardId) {\n\t\t\tstackApi.deletedStacks(boardId)\n\t\t\t\t.then((deletedStacks) => {\n\t\t\t\t\tcommit('setDeletedStacks', deletedStacks)\n\t\t\t\t})\n\t\t\tcardApi.deletedCards(boardId)\n\t\t\t\t.then((deletedCards) => {\n\t\t\t\t\tcommit('setDeletedCards', deletedCards)\n\t\t\t\t})\n\t\t},\n\t\tstackUndoDelete({ commit }, stack) {\n\t\t\tstackApi.updateStack(stack)\n\t\t\t\t.then((stack) => {\n\t\t\t\t\tcommit('addStack', stack)\n\t\t\t\t\tcommit('removeStackFromTrash', stack)\n\t\t\t\t})\n\t\t},\n\t\tcardUndoDelete({ commit }, card) {\n\t\t\tcardApi.updateCard(card)\n\t\t\t\t.then((card) => {\n\t\t\t\t\tcommit('removeCardFromTrash', card)\n\t\t\t\t\tcommit('addCard', card)\n\t\t\t\t})\n\t\t},\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { AttachmentApi } from './../services/AttachmentApi.js'\nimport Vue from 'vue'\n\nconst apiClient = new AttachmentApi()\n\nexport default {\n\tstate: {\n\t\tattachments: {},\n\t},\n\tgetters: {\n\t\tattachmentsByCard: state => (cardId) => {\n\t\t\tif (typeof state.attachments[cardId] === 'undefined') {\n\t\t\t\treturn []\n\t\t\t}\n\t\t\treturn state.attachments[cardId]\n\t\t},\n\n\t},\n\tmutations: {\n\t\tcreateAttachment(state, { cardId, attachment }) {\n\t\t\tif (typeof state.attachments[cardId] === 'undefined') {\n\t\t\t\tVue.set(state.attachments, cardId, [attachment])\n\t\t\t} else {\n\t\t\t\tstate.attachments[cardId].push(attachment)\n\t\t\t}\n\t\t},\n\n\t\tcreateAttachments(state, { cardId, attachments }) {\n\t\t\tVue.set(state.attachments, cardId, attachments)\n\t\t},\n\n\t\tupdateAttachment(state, { cardId, attachment }) {\n\t\t\tconst existingIndex = state.attachments[attachment.cardId].findIndex(a => a.id === attachment.id && a.type === attachment.type)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tVue.set(state.attachments[cardId], existingIndex, attachment)\n\t\t\t}\n\t\t},\n\n\t\tdeleteAttachment(state, deletedAttachment) {\n\t\t\tconst existingIndex = state.attachments[deletedAttachment.cardId].findIndex(a => a.id === deletedAttachment.id && a.type === deletedAttachment.type)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.attachments[deletedAttachment.cardId][existingIndex].deletedAt = Date.now() / 1000 | 0\n\t\t\t}\n\t\t},\n\n\t\tunshareAttachment(state, deletedAttachment) {\n\t\t\tconst existingIndex = state.attachments[deletedAttachment.cardId].findIndex(a => a.id === deletedAttachment.id && a.type === deletedAttachment.type)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.attachments[deletedAttachment.cardId][existingIndex].deletedAt = -1\n\t\t\t}\n\t\t},\n\n\t\trestoreAttachment(state, restoredAttachment) {\n\t\t\tconst existingIndex = state.attachments[restoredAttachment.cardId].findIndex(a => a.id === restoredAttachment.id && a.type === restoredAttachment.type)\n\t\t\tif (existingIndex !== -1) {\n\t\t\t\tstate.attachments[restoredAttachment.cardId][existingIndex].deletedAt = 0\n\t\t\t}\n\t\t},\n\n\t},\n\tactions: {\n\t\tasync fetchAttachments({ commit }, cardId) {\n\t\t\tconst attachments = await apiClient.fetchAttachments(cardId)\n\t\t\tcommit('createAttachments', { cardId, attachments })\n\t\t\tcommit('cardSetAttachmentCount', { cardId, count: attachments.length })\n\t\t},\n\n\t\tasync createAttachment({ commit }, { cardId, formData, onUploadProgress }) {\n\t\t\tconst attachment = await apiClient.createAttachment({ cardId, formData, onUploadProgress })\n\t\t\tcommit('createAttachment', { cardId, attachment })\n\t\t\tcommit('cardIncreaseAttachmentCount', cardId)\n\t\t},\n\n\t\tasync updateAttachment({ commit }, { cardId, attachment, formData }) {\n\t\t\tconst result = await apiClient.updateAttachment({ cardId, attachment, formData })\n\t\t\tcommit('updateAttachment', { cardId, attachment: result })\n\t\t},\n\n\t\tasync deleteAttachment({ commit }, attachment) {\n\t\t\tawait apiClient.deleteAttachment(attachment)\n\t\t\tcommit('deleteAttachment', attachment)\n\t\t\tcommit('cardDecreaseAttachmentCount', attachment.cardId)\n\t\t},\n\n\t\tasync unshareAttachment({ commit }, attachment) {\n\t\t\tawait apiClient.deleteAttachment(attachment)\n\t\t\tcommit('unshareAttachment', attachment)\n\t\t\tcommit('cardDecreaseAttachmentCount', attachment.cardId)\n\t\t},\n\n\t\tasync restoreAttachment({ commit }, attachment) {\n\t\t\tconst restoredAttachment = await apiClient.restoreAttachment(attachment)\n\t\t\tcommit('restoreAttachment', restoredAttachment)\n\t\t\tcommit('cardIncreaseAttachmentCount', attachment.cardId)\n\t\t},\n\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\n\nexport class AttachmentApi {\n\n\turl(url) {\n\t\treturn generateUrl(`/apps/deck${url}`)\n\t}\n\n\tasync fetchAttachments(cardId) {\n\t\tconst response = await axios({\n\t\t\tmethod: 'GET',\n\t\t\turl: this.url(`/cards/${cardId}/attachments`),\n\t\t})\n\t\treturn response.data\n\t}\n\n\tasync createAttachment({ cardId, formData, onUploadProgress }) {\n\t\tconst response = await axios({\n\t\t\tmethod: 'POST',\n\t\t\turl: this.url(`/cards/${cardId}/attachment`),\n\t\t\tdata: formData,\n\t\t\tonUploadProgress,\n\t\t})\n\t\treturn response.data\n\t}\n\n\tasync updateAttachment({ cardId, attachment, formData }) {\n\t\tconst response = await axios({\n\t\t   method: 'POST',\n\t\t   url: this.url(`/cards/${cardId}/attachment/${attachment.type}:${attachment.id}`),\n\t\t   data: formData,\n\t   })\n\t   return response.data\n\t}\n\n\tasync deleteAttachment(attachment) {\n\t\tawait axios({\n\t\t\tmethod: 'DELETE',\n\t\t\turl: this.url(`/cards/${attachment.cardId}/attachment/${attachment.type}:${attachment.id}`),\n\t\t})\n\t}\n\n\tasync restoreAttachment(attachment) {\n\t\tconst response = await axios({\n\t\t\tmethod: 'GET',\n\t\t\turl: this.url(`/cards/${attachment.cardId}/attachment/${attachment.type}:${attachment.id}/restore`),\n\t\t})\n\t\treturn response.data\n\t}\n\n\tasync displayAttachment(attachment) {\n\t\tconst response = await axios({\n\t\t\tmethod: 'GET',\n\t\t\turl: this.url(`/cards/${attachment.cardId}/attachment/${attachment.type}:${attachment.id}`),\n\t\t})\n\t\treturn response.data\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport { OverviewApi } from '../services/OverviewApi.js'\nVue.use(Vuex)\n\nconst apiClient = new OverviewApi()\nexport default {\n\tstate: {\n\t\tassignedCards: [],\n\t\tloading: false,\n\t},\n\tgetters: {\n\t\tassignedCardsDashboard: state => {\n\t\t\treturn state.assignedCards\n\t\t},\n\t},\n\tmutations: {\n\t\tsetAssignedCards(state, assignedCards) {\n\t\t\tstate.assignedCards = assignedCards\n\t\t},\n\t\tsetLoading(state, promise) {\n\t\t\tstate.loading = promise\n\t\t},\n\t},\n\tactions: {\n\t\tasync loadUpcoming({ state, commit }) {\n\t\t\tif (state.loading) {\n\t\t\t\treturn state.loading\n\t\t\t}\n\t\t\tconst promise = (async () => {\n\t\t\t\tcommit('setCurrentBoard', null)\n\t\t\t\tconst assignedCards = await apiClient.get('upcoming')\n\t\t\t\tconst assignedCardsFlat = Object.values(assignedCards).flat()\n\t\t\t\tfor (const i in assignedCardsFlat) {\n\t\t\t\t\tcommit('addCard', assignedCardsFlat[i])\n\t\t\t\t}\n\t\t\t\tcommit('setAssignedCards', assignedCards)\n\t\t\t\tcommit('setLoading', false)\n\t\t\t})()\n\t\t\tcommit('setLoading', promise)\n\t\t\treturn promise\n\t\t},\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl } from '@nextcloud/router'\n\nexport class OverviewApi {\n\n\turl(url) {\n\t\treturn generateOcsUrl(`apps/deck/api/v1.0/${url}`)\n\t}\n\n\tget(filter) {\n\t\treturn axios.get(this.url(`overview/${filter}`), {\n\t\t\theaders: { 'OCS-APIRequest': 'true' },\n\t\t})\n\t\t\t.then(\n\t\t\t\t(response) => Promise.resolve(response.data.ocs.data),\n\t\t\t\t(err) => Promise.reject(err),\n\t\t\t)\n\t\t\t.catch((err) => Promise.reject(err),\n\t\t\t)\n\t}\n\n}\n","/**\n * SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport 'url-search-params-polyfill'\n\nimport { loadState } from '@nextcloud/initial-state'\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl, generateUrl } from '@nextcloud/router'\nimport { BoardApi } from '../services/BoardApi.js'\nimport actions from './actions.js'\nimport stack from './stack.js'\nimport card from './card.js'\nimport comment from './comment.js'\nimport trashbin from './trashbin.js'\nimport attachment from './attachment.js'\nimport overview from './overview.js'\nVue.use(Vuex)\n\nconst apiClient = new BoardApi()\nconst debug = process.env.NODE_ENV !== 'production'\n\nexport const BOARD_FILTERS = {\n\tALL: '',\n\tARCHIVED: 'archived',\n\tSHARED: 'shared',\n}\n\nexport default new Vuex.Store({\n\tmodules: {\n\t\tactions,\n\t\tstack,\n\t\tcard,\n\t\tcomment,\n\t\ttrashbin,\n\t\tattachment,\n\t\toverview,\n\t},\n\tstrict: debug,\n\tstate: {\n\t\tisFullApp: true,\n\t\tconfig: loadState('deck', 'config', {}),\n\t\tshowArchived: false,\n\t\tnavShown: localStorage.getItem('deck.navShown') === null || localStorage.getItem('deck.navShown') === 'true',\n\t\tcompactMode: localStorage.getItem('deck.compactMode') === 'true',\n\t\tshowCardCover: localStorage.getItem('deck.showCardCover') === 'true',\n\t\tsidebarShown: false,\n\t\tcurrentBoard: null,\n\t\tcurrentCard: null,\n\t\thasCardSaveError: false,\n\t\tboards: loadState('deck', 'initialBoards', []),\n\t\tsharees: [],\n\t\tassignableUsers: [],\n\t\tboardFilter: BOARD_FILTERS.ALL,\n\t\tsearchQuery: '',\n\t\tactivity: [],\n\t\tactivityLoadMore: true,\n\t\tfilter: { tags: [], users: [], due: '', completed: 'both' },\n\t\tshortcutLock: false,\n\t},\n\tgetters: {\n\t\tconfig: state => (key) => {\n\t\t\tif (!state.isFullApp && key === 'cardDetailsInModal') {\n\t\t\t\treturn true\n\t\t\t}\n\n\t\t\treturn state.config[key]\n\t\t},\n\t\tgetSearchQuery: state => {\n\t\t\treturn state.searchQuery\n\t\t},\n\t\tgetFilter: state => {\n\t\t\treturn state.filter\n\t\t},\n\t\tboards: state => {\n\t\t\treturn state.boards\n\t\t},\n\t\tboardById: state => (id) => {\n\t\t\treturn state.boards.find((board) => board.id === id)\n\t\t},\n\t\tassignables: state => {\n\t\t\treturn [\n\t\t\t\t...state.assignableUsers.map((user) => ({ ...user, type: 0 })),\n\t\t\t\t...state.currentBoard.acl.filter((acl) => acl.type === 1 && typeof acl.participant === 'object').map((group) => ({ ...group.participant, type: 1 })),\n\t\t\t\t...state.currentBoard.acl.filter((acl) => acl.type === 7 && typeof acl.participant === 'object').map((circle) => ({ ...circle.participant, type: 7 })),\n\t\t\t]\n\t\t},\n\t\tnoneArchivedBoards: state => {\n\t\t\treturn state.boards.filter(board => {\n\t\t\t\treturn board.archived === false && !board.deletedAt\n\t\t\t})\n\t\t},\n\t\tarchivedBoards: state => {\n\t\t\treturn state.boards.filter(board => {\n\t\t\t\treturn board.archived === true && !board.deletedAt\n\t\t\t})\n\t\t},\n\t\tsharedBoards: state => {\n\t\t\treturn state.boards.filter(board => {\n\t\t\t\treturn board.shared && !board.deletedAt\n\t\t\t})\n\t\t},\n\t\tfilteredBoards: state => {\n\t\t\t// filters the boards depending on the active filter\n\t\t\tconst boards = state.boards.filter(board => {\n\t\t\t\treturn (state.boardFilter === BOARD_FILTERS.ALL && board.archived === false)\n\t\t\t\t\t|| (state.boardFilter === BOARD_FILTERS.ARCHIVED && board.archived === true)\n\t\t\t\t\t|| (state.boardFilter === BOARD_FILTERS.SHARED && board.shared === 1)\n\t\t\t})\n\t\t\treturn boards\n\t\t},\n\t\tcurrentBoardLabels: state => {\n\t\t\treturn state.currentBoard ? state.currentBoard.labels : []\n\t\t},\n\t\tcanEdit: state => {\n\t\t\treturn state.currentBoard ? state.currentBoard.permissions.PERMISSION_EDIT : false\n\t\t},\n\t\tcanManage: state => {\n\t\t\treturn state.currentBoard ? state.currentBoard.permissions.PERMISSION_MANAGE : false\n\t\t},\n\t\tcanShare: state => {\n\t\t\treturn state.currentBoard ? state.currentBoard.permissions.PERMISSION_SHARE : false\n\t\t},\n\t\tisArchived: state => {\n\t\t\treturn state.currentBoard && state.currentBoard.archived\n\t\t},\n\t},\n\tmutations: {\n\t\tsetFullApp(state, isFullApp) {\n\t\t\tVue.set(state, 'isFullApp', isFullApp)\n\t\t},\n\t\tsetHasCardSaveError(state, hasCardSaveError) {\n\t\t\tVue.set(state, 'hasCardSaveError', hasCardSaveError)\n\t\t},\n\t\tSET_CONFIG(state, { key, value }) {\n\t\t\tconst [scope, id, configKey] = key.split(':', 3)\n\t\t\tlet indexExisting = -1\n\t\t\tswitch (scope) {\n\t\t\tcase 'board':\n\t\t\t\tindexExisting = state.boards.findIndex((b) => {\n\t\t\t\t\treturn id === '' + b.id\n\t\t\t\t})\n\n\t\t\t\tif (indexExisting > -1) {\n\t\t\t\t\tVue.set(state.boards[indexExisting].settings, configKey, value)\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tVue.set(state.config, key, value)\n\t\t\t}\n\t\t},\n\t\tsetSearchQuery(state, searchQuery) {\n\t\t\tstate.searchQuery = searchQuery\n\t\t},\n\t\tSET_FILTER(state, filter) {\n\t\t\tObject.assign(state.filter, filter)\n\t\t},\n\t\tTOGGLE_FILTER(state, filter) {\n\t\t\tObject.keys(filter).forEach((key) => {\n\t\t\t\tswitch (key) {\n\t\t\t\tcase 'due':\n\t\t\t\t\tVue.set(state.filter, key, filter.due)\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tfilter[key].forEach((item) => {\n\t\t\t\t\t\tif (state.filter[key].indexOf(item) === -1) {\n\t\t\t\t\t\t\tstate.filter[key].push(item)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstate.filter[key].splice(state.filter[key].indexOf(item), 1)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\ttoggleShowArchived(state, newState = undefined) {\n\t\t\tstate.showArchived = newState !== undefined ? newState : !state.showArchived\n\t\t},\n\t\t/*\n\t\t * Adds or replaces a board in the store.\n\t\t * Matches a board by it's id.\n\t\t */\n\t\taddBoard(state, board) {\n\t\t\tconst indexExisting = state.boards.findIndex((b) => {\n\t\t\t\treturn board.id === b.id\n\t\t\t})\n\n\t\t\tif (indexExisting > -1) {\n\t\t\t\tVue.set(state.boards, indexExisting, board)\n\t\t\t} else {\n\t\t\t\tstate.boards.push(board)\n\t\t\t}\n\t\t},\n\n\t\tcloneBoard(state, board) {\n\t\t\tconst indexExisting = state.boards.findIndex((b) => {\n\t\t\t\treturn board.id === b.id\n\t\t\t})\n\n\t\t\tif (indexExisting > -1) {\n\t\t\t\tVue.set(state.boards, indexExisting, board)\n\t\t\t} else {\n\t\t\t\tstate.boards.push(board)\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t * Removes the board from the store.\n\t\t */\n\t\tremoveBoard(state, board) {\n\t\t\tstate.boards = state.boards.filter((b) => {\n\t\t\t\treturn board.id !== b.id\n\t\t\t})\n\t\t},\n\t\ttoggleNav(state, navState) {\n\t\t\tstate.navShown = navState\n\t\t\tlocalStorage.setItem('deck.navShown', navState)\n\t\t},\n\t\ttoggleSidebar(state) {\n\t\t\tstate.sidebarShown = !state.sidebarShown\n\t\t},\n\t\ttoggleCompactMode(state) {\n\t\t\tstate.compactMode = !state.compactMode\n\t\t\tlocalStorage.setItem('deck.compactMode', state.compactMode)\n\t\t},\n\t\ttoggleShowCardCover(state) {\n\t\t\tstate.showCardCover = !state.showCardCover\n\t\t\tlocalStorage.setItem('deck.showCardCover', state.showCardCover)\n\t\t},\n\t\tsetBoards(state, boards) {\n\t\t\tstate.boards = boards\n\t\t},\n\t\tsetSharees(state, shareesUsersAndGroups) {\n\t\t\tVue.set(state, 'sharees', shareesUsersAndGroups.exact.users)\n\t\t\tstate.sharees.push(...shareesUsersAndGroups.exact.groups)\n\t\t\tstate.sharees.push(...shareesUsersAndGroups.exact.circles)\n\n\t\t\tstate.sharees.push(...shareesUsersAndGroups.users)\n\t\t\tstate.sharees.push(...shareesUsersAndGroups.groups)\n\t\t\tstate.sharees.push(...shareesUsersAndGroups.circles)\n\t\t},\n\t\tsetAssignableUsers(state, users) {\n\t\t\tstate.assignableUsers = users\n\t\t},\n\t\tsetBoardFilter(state, filter) {\n\t\t\tstate.boardFilter = filter\n\t\t},\n\t\tsetCurrentBoard(state, board) {\n\t\t\tstate.currentBoard = board\n\t\t},\n\t\tsetCurrentCard(state, card) {\n\t\t\tstate.currentCard = card\n\t\t},\n\n\t\t// label mutators\n\t\tremoveLabelFromCurrentBoard(state, labelId) {\n\t\t\tconst removeIndex = state.currentBoard.labels.findIndex((l) => {\n\t\t\t\treturn labelId === l.id\n\t\t\t})\n\n\t\t\tif (removeIndex > -1) {\n\t\t\t\tstate.currentBoard.labels.splice(removeIndex, 1)\n\t\t\t}\n\t\t},\n\t\tupdateLabelFromCurrentBoard(state, newLabel) {\n\t\t\tconst labelToUpdate = state.currentBoard.labels.find((l) => {\n\t\t\t\treturn newLabel.id === l.id\n\t\t\t})\n\n\t\t\tlabelToUpdate.title = newLabel.title\n\t\t\tlabelToUpdate.color = newLabel.color\n\t\t},\n\t\taddLabelToCurrentBoard(state, newLabel) {\n\t\t\tstate.currentBoard.labels.push(newLabel)\n\t\t},\n\n\t\t// acl mutators\n\t\taddAclToCurrentBoard(state, createdAcl) {\n\t\t\tstate.currentBoard.acl.push(createdAcl)\n\t\t},\n\t\tupdateAclFromCurrentBoard(state, acl) {\n\t\t\tfor (const acl_ in state.currentBoard.acl) {\n\t\t\t\tif (state.currentBoard.acl[acl_].participant.uid === acl.participant.uid) {\n\t\t\t\t\tVue.set(state.currentBoard.acl, acl_, acl)\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdeleteAclFromCurrentBoard(state, acl) {\n\t\t\tlet removeIndex = -1\n\t\t\tfor (const index in state.currentBoard.acl) {\n\t\t\t\tconst attr = state.currentBoard.acl[index]\n\t\t\t\tif (acl.id === attr.id) {\n\t\t\t\t\tremoveIndex = index\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (removeIndex > -1) {\n\t\t\t\tVue.delete(state.currentBoard.acl, removeIndex)\n\t\t\t}\n\t\t},\n\t\tTOGGLE_SHORTCUT_LOCK(state, lock) {\n\t\t\tstate.shortcutLock = lock\n\t\t},\n\t},\n\tactions: {\n\t\tsetFullApp({ commit }, isFullApp) {\n\t\t\tcommit('setFullApp', isFullApp)\n\t\t},\n\t\tasync setConfig({ commit }, config) {\n\t\t\tfor (const key in config) {\n\t\t\t\ttry {\n\t\t\t\t\tawait axios.post(generateOcsUrl(`apps/deck/api/v1.0/config/${key}`), {\n\t\t\t\t\t\tvalue: config[key],\n\t\t\t\t\t})\n\t\t\t\t\tcommit('SET_CONFIG', { key, value: config[key] })\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(`Error while saving ${key}`, e.response)\n\t\t\t\t\tthrow e\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsetFilter({ commit }, filter) {\n\t\t\tcommit('SET_FILTER', filter)\n\t\t},\n\t\ttoggleFilter({ commit }, filter) {\n\t\t\tcommit('TOGGLE_FILTER', filter)\n\t\t},\n\t\tasync loadBoardById({ commit, dispatch }, boardId) {\n\t\t\tconst filterReset = { tags: [], users: [], due: '' }\n\t\t\tdispatch('setFilter', filterReset)\n\t\t\tcommit('setCurrentBoard', null)\n\t\t\tconst board = await apiClient.loadById(boardId)\n\t\t\tcommit('setCurrentBoard', board)\n\t\t\tcommit('setAssignableUsers', board.users)\n\t\t},\n\n\t\tasync refreshBoard({ commit, dispatch }, boardId) {\n\t\t\tconst board = await apiClient.loadById(boardId)\n\t\t\tconst etagHasChanged = board.ETag !== this.state.currentBoard.ETag\n\t\t\tcommit('setCurrentBoard', board)\n\t\t\tcommit('setAssignableUsers', board.users)\n\n\t\t\tif (etagHasChanged) {\n\t\t\t\tdispatch('loadStacks', boardId)\n\t\t\t}\n\t\t},\n\n\t\ttoggleShowArchived({ commit }) {\n\t\t\tcommit('toggleShowArchived')\n\t\t},\n\n\t\t/**\n\t\t * @param commit.commit\n\t\t * @param commit\n\t\t * @param state\n\t\t * @param {Board} board\n\t\t */\n\t\tarchiveBoard({ commit }, board) {\n\t\t\tconst boardCopy = JSON.parse(JSON.stringify(board))\n\t\t\tboardCopy.archived = true\n\t\t\tapiClient.updateBoard(boardCopy)\n\t\t\t\t.then((board) => {\n\t\t\t\t\tcommit('addBoard', board)\n\t\t\t\t})\n\t\t},\n\t\t/**\n\t\t * @param commit.commit\n\t\t * @param commit\n\t\t * @param state\n\t\t * @param {Board} board\n\t\t */\n\t\tunarchiveBoard({ commit }, board) {\n\t\t\tconst boardCopy = JSON.parse(JSON.stringify(board))\n\t\t\tboardCopy.archived = false\n\t\t\tapiClient.updateBoard(boardCopy)\n\t\t\t\t.then((board) => {\n\t\t\t\t\tcommit('addBoard', board)\n\t\t\t\t})\n\t\t},\n\t\t/**\n\t\t * Updates a board API side.\n\t\t *\n\t\t * @param commit.commit\n\t\t * @param commit\n\t\t * @param board The board to update.\n\t\t * @return {Promise<void>}\n\t\t */\n\t\tasync updateBoard({ commit }, board) {\n\t\t\tconst storedBoard = await apiClient.updateBoard(board)\n\t\t\tcommit('addBoard', storedBoard)\n\t\t},\n\t\tasync createBoard({ commit }, boardData) {\n\t\t\ttry {\n\t\t\t\tconst board = await apiClient.createBoard(boardData)\n\t\t\t\tcommit('addBoard', board)\n\t\t\t} catch (err) {\n\t\t\t\treturn err\n\t\t\t}\n\t\t},\n\t\tasync importBoard({ commit }, file) {\n\t\t\ttry {\n\t\t\t\tconst board = await apiClient.importBoard(file)\n\t\t\t\tcommit('addBoard', board)\n\t\t\t} catch (err) {\n\t\t\t\treturn err\n\t\t\t}\n\t\t},\n\t\tasync cloneBoard({ commit }, { boardData, settings }) {\n\t\t\tconst { withCards, withAssignments, withLabels, withDueDate, moveCardsToLeftStack, restoreArchivedCards } = settings\n\n\t\t\ttry {\n\t\t\t\tconst newBoard = await apiClient.cloneBoard(boardData, withCards, withAssignments, withLabels, withDueDate, moveCardsToLeftStack, restoreArchivedCards)\n\t\t\t\tcommit('cloneBoard', newBoard)\n\t\t\t\treturn newBoard\n\t\t\t} catch (err) {\n\t\t\t\treturn err\n\t\t\t}\n\t\t},\n\t\tremoveBoard({ commit }, board) {\n\t\t\tcommit('removeBoard', board)\n\t\t},\n\t\tasync loadBoards({ commit }) {\n\t\t\tconst boards = await apiClient.loadBoards()\n\t\t\tcommit('setBoards', boards)\n\t\t},\n\t\tasync loadSharees({ commit }, query) {\n\t\t\tconst params = new URLSearchParams()\n\t\t\tif (typeof query === 'undefined') {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tparams.append('search', query)\n\t\t\tparams.append('format', 'json')\n\t\t\tparams.append('perPage', 20)\n\t\t\tparams.append('itemType', [0, 1, 4, 7])\n\t\t\tparams.append('lookup', false)\n\n\t\t\tconst response = await axios.get(generateOcsUrl('apps/files_sharing/api/v1/sharees'), { params })\n\t\t\tcommit('setSharees', response.data.ocs.data)\n\t\t},\n\n\t\tsetBoardFilter({ commmit }, filter) {\n\t\t\tcommmit('setBoardFilter', filter)\n\t\t},\n\t\ttoggleNav({ commit }, navState) {\n\t\t\tcommit('toggleNav', navState)\n\t\t},\n\t\ttoggleSidebar({ commit }) {\n\t\t\tcommit('toggleSidebar')\n\t\t},\n\t\ttoggleCompactMode({ commit }) {\n\t\t\tcommit('toggleCompactMode')\n\t\t},\n\t\ttoggleShowCardCover({ commit }) {\n\t\t\tcommit('toggleShowCardCover')\n\t\t},\n\t\tsetCurrentBoard({ commit }, board) {\n\t\t\tcommit('setCurrentBoard', board)\n\t\t},\n\t\tsetAssignableUsers({ commit }, board) {\n\t\t\tcommit('setAssignableUsers', board)\n\t\t},\n\t\tsetCurrentCard({ commit }, card) {\n\t\t\tcommit('setCurrentCard', card)\n\t\t},\n\n\t\t// label actions\n\t\tremoveLabelFromCurrentBoard({ commit }, label) {\n\t\t\tapiClient.deleteLabel(label)\n\t\t\t\t.then((label) => {\n\t\t\t\t\tcommit('removeLabelFromCurrentBoard', label.id)\n\t\t\t\t})\n\t\t},\n\t\tupdateLabelFromCurrentBoard({ commit }, newLabel) {\n\t\t\tapiClient.updateLabel(newLabel)\n\t\t\t\t.then((newLabel) => {\n\t\t\t\t\tcommit('updateLabelFromCurrentBoard', newLabel)\n\t\t\t\t})\n\t\t},\n\t\taddLabelToCurrentBoard({ commit }, newLabel) {\n\t\t\tnewLabel.boardId = this.state.currentBoard.id\n\t\t\tapiClient.createLabel(newLabel)\n\t\t\t\t.then((newLabel) => {\n\t\t\t\t\tcommit('addLabelToCurrentBoard', newLabel)\n\t\t\t\t})\n\t\t},\n\t\tasync addLabelToCurrentBoardAndCard({ dispatch, commit }, { newLabel, card }) {\n\t\t\tnewLabel.boardId = this.state.currentBoard.id\n\t\t\tconst label = await apiClient.createLabel(newLabel)\n\t\t\tcommit('addLabelToCurrentBoard', label)\n\t\t\tdispatch('addLabel', {\n\t\t\t\tcard,\n\t\t\t\tlabelId: label.id,\n\t\t\t})\n\t\t\treturn label\n\t\t},\n\n\t\t// acl actions\n\t\tasync addAclToCurrentBoard({ dispatch, commit }, newAcl) {\n\t\t\tnewAcl.boardId = this.state.currentBoard.id\n\t\t\tconst result = await apiClient.addAcl(newAcl)\n\t\t\tcommit('addAclToCurrentBoard', result)\n\t\t\tdispatch('refreshBoard', newAcl.boardId)\n\t\t},\n\t\tupdateAclFromCurrentBoard({ commit }, acl) {\n\t\t\tacl.boardId = this.state.currentBoard.id\n\t\t\tapiClient.updateAcl(acl)\n\t\t\t\t.then((acl) => {\n\t\t\t\t\tcommit('updateAclFromCurrentBoard', acl)\n\t\t\t\t})\n\t\t},\n\t\tdeleteAclFromCurrentBoard({ dispatch, commit }, acl) {\n\t\t\tacl.boardId = this.state.currentBoard.id\n\t\t\tapiClient.deleteAcl(acl)\n\t\t\t\t.then((acl) => {\n\t\t\t\t\tcommit('deleteAclFromCurrentBoard', acl)\n\t\t\t\t\tdispatch('loadBoardById', acl.boardId)\n\t\t\t\t})\n\t\t},\n\t\tasync transferOwnership({ commit }, { boardId, newOwner }) {\n\t\t\tawait axios.put(generateUrl(`apps/deck/boards/${boardId}/transferOwner`), {\n\t\t\t\tnewOwner,\n\t\t\t})\n\t\t},\n\t\ttoggleShortcutLock({ commit }, lock) {\n\t\t\tcommit('TOGGLE_SHORTCUT_LOCK', lock)\n\t\t},\n\t},\n})\n","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { listen } from '@nextcloud/notify_push'\nimport { sessionApi } from './services/SessionApi.js'\nimport store from './store/main.js'\nimport axios from '@nextcloud/axios'\n\nconst SESSION_INTERVAL = 90 // in seconds\n\nlet hasPush = false\n\nlet syncRunning = false\n\n/**\n * used to verify, whether an event is originated by ourselves\n *\n * @param token\n */\nfunction isOurSessionToken(token) {\n\tif (axios.defaults.headers['x-nc-deck-session']\n\t\t&& axios.defaults.headers['x-nc-deck-session'].startsWith(token)) {\n\t\treturn true\n\t} else {\n\t\treturn false\n\t}\n}\n\nhasPush = listen('deck_board_update', (name, body) => {\n\t// ignore update events which we have triggered ourselves\n\tif (isOurSessionToken(body._causingSessionToken)) return\n\n\t// only handle update events for the currently open board\n\tconst currentBoardId = store.state.currentBoard?.id\n\tif (body.id !== currentBoardId) return\n\n\tstore.dispatch('refreshBoard', currentBoardId)\n})\n\nlisten('deck_card_update', (name, body) => {\n\n\t// ignore update events which we have triggered ourselves\n\tif (isOurSessionToken(body._causingSessionToken)) return\n\n\t// only handle update events for the currently open board\n\tconst currentBoardId = store.state.currentBoard?.id\n\tif (body.boardId !== currentBoardId) return\n\n\tstore.dispatch('loadStacks', currentBoardId)\n})\n\n/**\n * is the notify_push app active and can\n * provide us with real time updates?\n */\nexport function isNotifyPushEnabled() {\n\treturn hasPush\n}\n\n/**\n *\n * @param boardId\n */\nexport function createSession(boardId) {\n\n\tif (!isNotifyPushEnabled()) {\n\t\t// return a dummy object\n\t\treturn {\n\t\t\tasync close() {},\n\t\t}\n\t}\n\n\t// let's try to make createSession() synchronous, so that\n\t// the component doesn't need to bother about the asynchronousness\n\tlet tokenPromise\n\tlet token\n\tconst create = () => {\n\t\ttokenPromise = sessionApi.createSession(boardId).then(res => res.token)\n\t\ttokenPromise.then((t) => {\n\t\t\ttoken = t\n\t\t\taxios.defaults.headers['x-nc-deck-session'] = t\n\t\t})\n\t}\n\tcreate()\n\n\tconst ensureSession = async () => {\n\t\tif (!tokenPromise) {\n\t\t\tcreate()\n\t\t\treturn\n\t\t}\n\n\t\tif (syncRunning) {\n\t\t\treturn\n\t\t}\n\n\t\ttry {\n\t\t\tsyncRunning = true\n\t\t\tawait sessionApi.syncSession(boardId, await tokenPromise)\n\t\t} catch (err) {\n\t\t\tif (err.response.status === 404) {\n\t\t\t\t// session probably expired, let's\n\t\t\t\t// create a fresh session\n\t\t\t\tcreate()\n\t\t\t} else {\n\t\t\t\tconsole.error('Failed to sync deck session', err)\n\t\t\t}\n\t\t} finally {\n\t\t\tsyncRunning = false\n\t\t}\n\t}\n\n\t// periodically notify the server that we are still here\n\tlet interval = setInterval(ensureSession, SESSION_INTERVAL * 1000)\n\n\t// close session when tab gets hidden/inactive\n\tconst visibilitychangeListener = () => {\n\t\tif (document.visibilityState === 'hidden' && token) {\n\t\t\tsessionApi.closeSessionViaBeacon(boardId, token)\n\t\t\ttokenPromise = null\n\t\t\ttoken = null\n\t\t\tdelete axios.defaults.headers['x-nc-deck-session']\n\n\t\t\t// stop session refresh interval\n\t\t\tclearInterval(interval)\n\t\t} else {\n\t\t\t// tab is back in focus or was restored from the bfcache\n\t\t\tensureSession()\n\n\t\t\t// we must assume that the websocket connection was\n\t\t\t// paused and we have missed updates in the meantime.\n\t\t\tstore.dispatch('refreshBoard', store.state.currentBoard?.id)\n\n\t\t\t// restart session refresh interval\n\t\t\tclearInterval(interval)\n\t\t\tinterval = setInterval(ensureSession, SESSION_INTERVAL * 1000)\n\t\t}\n\t}\n\tdocument.addEventListener('visibilitychange', visibilitychangeListener)\n\n\treturn {\n\t\tasync close() {\n\t\t\tclearInterval(interval)\n\t\t\tdocument.removeEventListener('visibilitychange', visibilitychangeListener)\n\t\t\tif (token) {\n\t\t\t\tawait sessionApi.closeSession(boardId, token)\n\t\t\t\ttokenPromise = null\n\t\t\t\ttoken = null\n\t\t\t\tdelete axios.defaults.headers['x-nc-deck-session']\n\t\t\t}\n\t\t},\n\t}\n}\n","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"controls\">\n\t\t<NcModal v-if=\"showAddCardModal\" class=\"card-selector\" @close=\"clickHideAddCardModel\">\n\t\t\t<CreateNewCardCustomPicker show-created-notice @cancel=\"clickHideAddCardModel\" />\n\t\t</NcModal>\n\t\t<div v-if=\"overviewName\" class=\"board-title\">\n\t\t\t<div class=\"board-bullet icon-calendar-dark\" />\n\t\t\t<h2 dir=\"auto\">\n\t\t\t\t{{ overviewName }}\n\t\t\t</h2>\n\t\t\t<NcActions>\n\t\t\t\t<NcActionButton icon=\"icon-add\" @click=\"clickShowAddCardModel\">\n\t\t\t\t\t{{ t('deck', 'Add card') }}\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t</div>\n\t\t<div v-else-if=\"board\" class=\"board-title\">\n\t\t\t<div :style=\"{backgroundColor: '#' + board.color}\" class=\"board-bullet\" />\n\t\t\t<h2 dir=\"auto\">\n\t\t\t\t{{ board.title }}\n\t\t\t</h2>\n\t\t\t<p v-if=\"showArchived\">\n\t\t\t\t({{ t('deck', 'Archived cards') }})\n\t\t\t</p>\n\t\t</div>\n\t\t<div class=\"board-actions\">\n\t\t\t<SessionList v-if=\"isNotifyPushEnabled && presentUsers.length\"\n\t\t\t\t:sessions=\"presentUsers\" />\n\t\t\t<!-- Hide but not remove for now as search might change in the future -->\n\t\t\t<div v-if=\"false\" class=\"deck-search\">\n\t\t\t\t<input id=\"deck-search-input\"\n\t\t\t\t\tref=\"search\"\n\t\t\t\t\t:tabindex=\"0\"\n\t\t\t\t\ttype=\"search\"\n\t\t\t\t\tclass=\"icon-search\"\n\t\t\t\t\t:value=\"searchQuery\"\n\t\t\t\t\t@focus=\"$store.dispatch('toggleShortcutLock', true)\"\n\t\t\t\t\t@blur=\"$store.dispatch('toggleShortcutLock', false)\"\n\t\t\t\t\t@input=\"$store.commit('setSearchQuery', $event.target.value)\">\n\t\t\t</div>\n\t\t\t<div v-if=\"board && canManage && !showArchived && !board.archived\"\n\t\t\t\tid=\"stack-add\"\n\t\t\t\tv-click-outside=\"hideAddStack\">\n\t\t\t\t<NcActions v-if=\"!isAddStackVisible\">\n\t\t\t\t\t<NcActionButton @click.stop=\"showAddStack\">\n\t\t\t\t\t\t{{ t('deck', 'Add list') }}\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<TableColumnPlusAfter :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t</NcActions>\n\t\t\t\t<form v-else @submit.prevent=\"addNewStack()\">\n\t\t\t\t\t<label for=\"new-stack-input-main\" class=\"hidden-visually\">{{ t('deck', 'Add list') }}</label>\n\t\t\t\t\t<input id=\"new-stack-input-main\"\n\t\t\t\t\t\tv-model=\"newStackTitle\"\n\t\t\t\t\t\tv-focus\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclass=\"no-close\"\n\t\t\t\t\t\t:placeholder=\"t('deck', 'List name')\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\t@focus=\"$store.dispatch('toggleShortcutLock', true)\"\n\t\t\t\t\t\t@blur=\"$store.dispatch('toggleShortcutLock', false)\">\n\t\t\t\t\t<input :title=\"t('deck', 'Add list')\"\n\t\t\t\t\t\tclass=\"icon-confirm\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tvalue=\"\">\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<div v-if=\"board\" class=\"board-action-buttons\">\n\t\t\t\t<div class=\"board-action-buttons__filter\">\n\t\t\t\t\t<NcPopover :placement=\"'bottom-end'\"\n\t\t\t\t\t\t:aria-label=\"t('deck', 'Active filters')\"\n\t\t\t\t\t\t:name=\"t('deck', 'Active filters')\"\n\t\t\t\t\t\t@show=\"filterVisible=true\"\n\t\t\t\t\t\t@hide=\"filterVisible=false\">\n\t\t\t\t\t\t<!-- We cannot use NcActions here are the popover trigger does not update on reactive icons -->\n\t\t\t\t\t\t<template #trigger>\n\t\t\t\t\t\t\t<NcButton ref=\"filterPopover\"\n\t\t\t\t\t\t\t\t:title=\"t('deck', 'Apply filter')\"\n\t\t\t\t\t\t\t\t:aria-label=\"t('deck', 'Apply filter')\"\n\t\t\t\t\t\t\t\tclass=\"filter-button\"\n\t\t\t\t\t\t\t\t:type=\"isFilterActive ? 'primary' : 'tertiary'\">\n\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t<FilterIcon v-if=\"isFilterActive\" :size=\"20\" decorative />\n\t\t\t\t\t\t\t\t\t<FilterOffIcon v-else :size=\"20\" decorative />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<div v-if=\"filterVisible\" class=\"filter\">\n\t\t\t\t\t\t\t<h3>{{ t('deck', 'Filter by tag') }}</h3>\n\t\t\t\t\t\t\t<div v-for=\"label in labelsSorted\" :key=\"label.id\" class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input :id=\"label.id\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.tags\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t\t\t\t\t:value=\"label.id\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\">\n\t\t\t\t\t\t\t\t<label :for=\"label.id\"><span class=\"label\" :style=\"labelStyle(label)\">{{ label.title }}</span></label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<h3>{{ t('deck', 'Filter by assigned user') }}</h3>\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"unassigned\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.unassigned\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t\t\t\t\tvalue=\"unassigned\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"unassigned\">{{ t('deck', 'Unassigned') }}</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-for=\"user in board.users\" :key=\"user.uid\" class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input :id=\"user.uid\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.users\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tclass=\"checkbox\"\n\t\t\t\t\t\t\t\t\t:value=\"user.uid\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\">\n\t\t\t\t\t\t\t\t<label :for=\"user.uid\"><NcAvatar :user=\"user.uid\" :size=\"24\" :disable-menu=\"true\" /> {{ user.displayname }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<h3>{{ t('deck', 'Filter by status') }}</h3>\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"filter-option-both\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.completed\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"both\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"filter-option-both\">{{ t('deck', 'Open and completed') }}</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"filter-option-open\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.completed\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"open\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"filter-option-open\">{{ t('deck', 'Open') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"filter-option-completed\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.completed\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"completed\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"filter-option-completed\">{{ t('deck', 'Completed') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<h3>{{ t('deck', 'Filter by due date') }}</h3>\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"overdue\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.due\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"overdue\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"overdue\">{{ t('deck', 'Overdue') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"dueToday\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.due\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"dueToday\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"dueToday\">{{ t('deck', 'Next 24 hours') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"dueWeek\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.due\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"dueWeek\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"dueWeek\">{{ t('deck', 'Next 7 days') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"dueMonth\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.due\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"dueMonth\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"dueMonth\">{{ t('deck', 'Next 30 days') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"filter--item\">\n\t\t\t\t\t\t\t\t<input id=\"noDue\"\n\t\t\t\t\t\t\t\t\tv-model=\"filter.due\"\n\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\tclass=\"radio\"\n\t\t\t\t\t\t\t\t\tvalue=\"noDue\"\n\t\t\t\t\t\t\t\t\t@change=\"setFilter\"\n\t\t\t\t\t\t\t\t\t@click=\"beforeSetFilter\">\n\t\t\t\t\t\t\t\t<label for=\"noDue\">{{ t('deck', 'No due date') }}</label>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<NcButton :disabled=\"!isFilterActive\" :wide=\"true\" @click=\"clearFilter\">\n\t\t\t\t\t\t\t\t{{ t('deck', 'Clear filter') }}\n\t\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</NcPopover>\n\t\t\t\t</div>\n\n\t\t\t\t<NcActions :aria-label=\"t('deck', 'View Modes')\"\n\t\t\t\t\t:name=\"t('deck', 'Toggle View Modes')\">\n\t\t\t\t\t<NcActionButton @click=\"toggleShowArchived\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<ArchiveIcon :size=\"20\" decorative />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ showArchived ? t('deck', 'Hide archived cards') : t('deck', 'Show archived cards') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t<NcActionButton v-if=\"compactMode\"\n\t\t\t\t\t\t@click=\"toggleCompactMode\">\n\t\t\t\t\t\t<ArrowExpandVerticalIcon slot=\"icon\" :size=\"20\" decorative />\n\t\t\t\t\t\t{{ t('deck', 'Toggle compact mode') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t<NcActionButton v-else\n\t\t\t\t\t\t@click=\"toggleCompactMode\">\n\t\t\t\t\t\t<ArrowCollapseVerticalIcon slot=\"icon\" :size=\"20\" decorative />\n\t\t\t\t\t\t{{ t('deck', 'Toggle compact mode') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t<NcActionButton @click=\"toggleShowCardCover\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<ImageIcon :size=\"20\" decorative />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t{{ showCardCover ? t('deck', 'Hide card cover images') : t('deck', 'Show card cover images') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t</NcActions>\n\t\t\t\t<!-- FIXME: NcActionRouter currently doesn't work as an inline action -->\n\t\t\t\t<NcActions v-if=\"isFullApp\">\n\t\t\t\t\t<NcActionButton icon=\"icon-menu-sidebar\"\n\t\t\t\t\t\t:aria-label=\"t('deck', 'Open details')\"\n\t\t\t\t\t\t:name=\"t('deck', 'Details')\"\n\t\t\t\t\t\t@click=\"toggleDetailsView\" />\n\t\t\t\t</NcActions>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport { subscribe, unsubscribe } from '@nextcloud/event-bus'\nimport { NcActions, NcActionButton, NcAvatar, NcButton, NcPopover, NcModal } from '@nextcloud/vue'\nimport labelStyle from '../mixins/labelStyle.js'\nimport ArchiveIcon from 'vue-material-design-icons/ArchiveOutline.vue'\nimport ImageIcon from 'vue-material-design-icons/ImageMultipleOutline.vue'\nimport FilterIcon from 'vue-material-design-icons/FilterOutline.vue'\nimport FilterOffIcon from 'vue-material-design-icons/FilterOffOutline.vue'\nimport TableColumnPlusAfter from 'vue-material-design-icons/TableColumnPlusAfter.vue'\nimport ArrowCollapseVerticalIcon from 'vue-material-design-icons/ArrowCollapseVertical.vue'\nimport ArrowExpandVerticalIcon from 'vue-material-design-icons/ArrowExpandVertical.vue'\nimport SessionList from './SessionList.vue'\nimport { isNotifyPushEnabled } from '../sessions.js'\nimport CreateNewCardCustomPicker from '../views/CreateNewCardCustomPicker.vue'\nimport { getCurrentUser } from '@nextcloud/auth'\n\nexport default {\n\tname: 'Controls',\n\tcomponents: {\n\t\tCreateNewCardCustomPicker,\n\t\tNcModal,\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tNcButton,\n\t\tNcPopover,\n\t\tNcAvatar,\n\t\tArchiveIcon,\n\t\tImageIcon,\n\t\tFilterIcon,\n\t\tFilterOffIcon,\n\t\tArrowCollapseVerticalIcon,\n\t\tArrowExpandVerticalIcon,\n\t\tTableColumnPlusAfter,\n\t\tSessionList,\n\t},\n\tmixins: [labelStyle],\n\tprops: {\n\t\tboard: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t\toverviewName: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tnewStackTitle: '',\n\t\t\tstack: '',\n\t\t\tfilterVisible: false,\n\t\t\tshowArchived: false,\n\t\t\tisAddStackVisible: false,\n\t\t\tfilter: { tags: [], users: [], due: '', unassigned: false, completed: 'both' },\n\t\t\tshowAddCardModal: false,\n\t\t\tdefaultPageTitle: false,\n\t\t\tisNotifyPushEnabled: isNotifyPushEnabled(),\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'canEdit',\n\t\t\t'canManage',\n\t\t]),\n\t\t...mapState({\n\t\t\tisFullApp: state => state.isFullApp,\n\t\t\tcompactMode: state => state.compactMode,\n\t\t\tshowCardCover: state => state.showCardCover,\n\t\t\tsearchQuery: state => state.searchQuery,\n\t\t}),\n\t\tdetailsRoute() {\n\t\t\treturn {\n\t\t\t\tname: 'board.details',\n\t\t\t}\n\t\t},\n\t\tisFilterActive() {\n\t\t\treturn this.filter.tags.length !== 0 || this.filter.users.length !== 0 || this.filter.due !== '' || this.filter.completed !== 'both'\n\t\t},\n\t\tlabelsSorted() {\n\t\t\treturn [...this.board.labels].sort((a, b) => (a.title < b.title) ? -1 : 1)\n\t\t},\n\t\tpresentUsers() {\n\t\t\tif (!this.board) return []\n\t\t\t// get user object including displayname from the list of all users with acces\n\t\t\treturn this.board.users.filter((user) => this.board.activeSessions.includes(user.uid))\n\t\t},\n\t},\n\twatch: {\n\t\tboard(current, previous) {\n\t\t\tif (current?.id !== previous?.id) {\n\t\t\t\tthis.clearFilter()\n\t\t\t}\n\t\t\tif (current) {\n\t\t\t\tthis.setPageTitle(current.title)\n\t\t\t}\n\t\t},\n\t},\n\tbeforeMount() {\n\t\tsubscribe('deck:board:show-new-card', this.clickShowAddCardModel)\n\t\tsubscribe('deck:board:toggle-filter-popover', this.triggerOpenFilters)\n\t\tsubscribe('deck:board:clear-filter', this.triggerClearFilter)\n\t\tsubscribe('deck:board:toggle-filter-by-me', this.triggerFilterByMe)\n\n\t},\n\tbeforeDestroy() {\n\t\tunsubscribe('deck:board:show-new-card', this.clickShowAddCardModel)\n\t\tunsubscribe('deck:board:toggle-filter-popover', this.triggerOpenFilters)\n\t\tunsubscribe('deck:board:clear-filter', this.triggerClearFilter)\n\t\tunsubscribe('deck:board:toggle-filter-by-me', this.triggerFilterByMe)\n\t\tthis.setPageTitle('')\n\t},\n\tmethods: {\n\t\tbeforeSetFilter(e) {\n\t\t\tif (this.filter.due === e.target.value) {\n\t\t\t\tthis.filter.due = ''\n\t\t\t\tthis.$store.dispatch('setFilter', { ...this.filter })\n\t\t\t}\n\t\t\tif (e.target.value === 'unassigned') {\n\t\t\t\tthis.filter.users = []\n\t\t\t\tthis.$store.dispatch('setFilter', { ...this.filter })\n\t\t\t} else {\n\t\t\t\tthis.filter.completed = 'both'\n\t\t\t\tthis.$store.dispatch('setFilter', { ...this.filter })\n\t\t\t}\n\t\t\tthis.$store.dispatch('setFilter', { ...this.filter })\n\t\t},\n\t\tsetFilter() {\n\t\t\tif (this.filter.users.length > 0) {\n\t\t\t\tthis.filter.unassigned = false\n\t\t\t}\n\t\t\tthis.$nextTick(() => this.$store.dispatch('setFilter', { ...this.filter }))\n\t\t},\n\t\ttoggleNav() {\n\t\t\tthis.$store.dispatch('toggleNav')\n\t\t},\n\t\ttoggleCompactMode() {\n\t\t\tthis.$store.dispatch('toggleCompactMode')\n\t\t},\n\t\ttoggleShowCardCover() {\n\t\t\tthis.$store.dispatch('toggleShowCardCover')\n\t\t},\n\t\ttoggleShowArchived() {\n\t\t\tthis.$store.dispatch('toggleShowArchived')\n\t\t\tthis.showArchived = !this.showArchived\n\t\t},\n\t\taddNewStack() {\n\t\t\tthis.stack = { title: this.newStackTitle }\n\t\t\tthis.$store.dispatch('createStack', this.stack)\n\t\t\tthis.newStackTitle = ''\n\t\t\tthis.stack = null\n\t\t\tthis.isAddStackVisible = false\n\t\t},\n\t\tshowAddStack() {\n\t\t\tthis.isAddStackVisible = true\n\t\t},\n\t\thideAddStack() {\n\t\t\tthis.isAddStackVisible = false\n\t\t},\n\t\ttoggleDetailsView() {\n\t\t\tif (this.$route.name === 'board.details') {\n\t\t\t\tthis.$router.push({ name: 'board' })\n\t\t\t} else {\n\t\t\t\tthis.$router.push({ name: 'board.details' })\n\t\t\t}\n\t\t},\n\t\tclearFilter() {\n\t\t\tconst filterReset = { tags: [], users: [], due: '', completed: 'both' }\n\t\t\tthis.$store.dispatch('setFilter', { ...filterReset })\n\t\t\tthis.filter = filterReset\n\t\t},\n\t\tclickShowAddCardModel() {\n\t\t\tthis.showAddCardModal = true\n\t\t},\n\t\tclickHideAddCardModel() {\n\t\t\tthis.showAddCardModal = false\n\t\t},\n\t\tsetPageTitle(title) {\n\t\t\tif (!this.isFullApp) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (this.defaultPageTitle === false) {\n\t\t\t\tthis.defaultPageTitle = window.document.title\n\t\t\t\tif (this.defaultPageTitle.indexOf(' - Deck - ') !== -1) {\n\t\t\t\t\tthis.defaultPageTitle = this.defaultPageTitle.substring(this.defaultPageTitle.indexOf(' - Deck - ') + 3)\n\t\t\t\t}\n\t\t\t\tif (this.defaultPageTitle.indexOf('Deck - ') !== 0) {\n\t\t\t\t\tthis.defaultPageTitle = 'Deck - ' + this.defaultPageTitle\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet newTitle = this.defaultPageTitle\n\t\t\tif (title !== '') {\n\t\t\t\tnewTitle = `${title} - ${newTitle}`\n\t\t\t}\n\t\t\twindow.document.title = newTitle\n\t\t},\n\t\ttriggerOpenFilters() {\n\t\t\tthis.$refs.filterPopover.$el.click()\n\t\t},\n\t\ttriggerOpenSearch() {\n\t\t\tthis.$refs.search.focus()\n\t\t},\n\t\ttriggerClearFilter() {\n\t\t\tthis.clearFilter()\n\t\t},\n\t\ttriggerFilterByMe() {\n\t\t\tif (this.isFilterActive) {\n\t\t\t\tthis.clearFilter()\n\t\t\t} else {\n\t\t\t\tthis.filter.users = [getCurrentUser().uid]\n\t\t\t\tthis.setFilter()\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.controls {\n\t\tdisplay: flex;\n\t\tmargin: calc(var(--default-grid-baseline) * 2);\n\t\theight: var(--default-clickable-area);\n\t\tpadding-left: var(--default-clickable-area);\n\n\t\t.board-title {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\n\t\t\th2 {\n\t\t\t\tmargin: 0;\n\t\t\t\tmargin-right: 10px;\n\t\t\t\tfont-size: 18px;\n\t\t\t}\n\n\t\t\t.board-bullet {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\twidth: 16px;\n\t\t\t\theight: 16px;\n\t\t\t\tborder: none;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tbackground-color: transparent;\n\t\t\t\tmargin: var(--default-grid-baseline);\n\t\t\t}\n\t\t}\n\n\t\t#stack-add form {\n\t\t\tdisplay: flex;\n\n\t\t\t#new-stack-input-main {\n\t\t\t\tmargin-right: 8px;\n\t\t\t}\n\t\t\t.icon-confirm {\n\t\t\t\tborder: 2px solid var(--color-border-maxcontrast) !important;\n\t\t\t\tborder-left: none !important;\n\t\t\t}\n\t\t\t&:focus-within, &:focus, &:focus-visible,\n\t\t\t&:hover {\n\t\t\t\t.icon-confirm {\n\t\t\t\t\tborder-color: var(--color-main-text) !important;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t#app-navigation-toggle-custom {\n\t\tposition: static;\n\t\twidth: var(--default-clickable-area);\n\t\theight: var(--default-clickable-area);\n\t\tcursor: pointer;\n\t\topacity: 1;\n\t\tdisplay: inline-block !important;\n\t}\n\n\t.board-actions {\n\t\tflex-grow: 1;\n\t\torder: 100;\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t}\n\n\t.board-action-buttons {\n\t\tdisplay: flex;\n\t}\n\n\t.deck-search {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tinput[type=search] {\n\t\t\tbackground-position: 5px;\n\t\t\tpadding-left: 24px !important;\n\t\t}\n\t}\n\n\t.filter--item {\n\t\tinput + label {\n\t\t\tdisplay: block;\n\t\t\tpadding: var(--default-grid-baseline) 0;\n\t\t\t.avatardiv {\n\t\t\t\tvertical-align: middle;\n\t\t\t\tmargin-bottom: 2px;\n\t\t\t\tmargin-right: 3px;\n\t\t\t}\n\t\t\t.label {\n\t\t\t\tpadding: 5px;\n\t\t\t\tborder-radius: 3px;\n\t\t\t}\n\t\t}\n\t}\n\n\t.filter {\n\t\twidth: 240px;\n\t\tmax-height: calc(100vh - 150px);\n\t\tposition: relative;\n\t\toverflow: auto;\n\t\tpadding: 8px;\n\t}\n\n\t.filter h3 {\n\t\tmargin-top: 0px;\n\t\tmargin-bottom: 5px;\n\t}\n\n\t.filter-button {\n\t\tpadding: 0;\n\t\tborder-radius: 50%;\n\t\twidth: var(--default-clickable-area);\n\t\theight: var(--default-clickable-area);\n\n\t\t&[data-popper-shown] {\n\t\t\tbackground-color: var(--color-background-hover);\n\t\t\t&.button-vue--vue-primary {\n\t\t\t\tbackground-color: var(--color-primary-element);\n\t\t\t}\n\t\t}\n\t}\n</style>\n<style lang=\"scss\">\n\t.popover:focus {\n\t\toutline: 2px solid var(--color-main-text);\n\t}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=0&id=7e3b2804&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=0&id=7e3b2804&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=1&id=7e3b2804&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controls.vue?vue&type=style&index=1&id=7e3b2804&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Controls.vue?vue&type=template&id=7e3b2804&scoped=true\"\nimport script from \"./Controls.vue?vue&type=script&lang=js\"\nexport * from \"./Controls.vue?vue&type=script&lang=js\"\nimport style0 from \"./Controls.vue?vue&type=style&index=0&id=7e3b2804&prod&lang=scss&scoped=true\"\nimport style1 from \"./Controls.vue?vue&type=style&index=1&id=7e3b2804&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e3b2804\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"controls\"},[(_vm.showAddCardModal)?_c('NcModal',{staticClass:\"card-selector\",on:{\"close\":_vm.clickHideAddCardModel}},[_c('CreateNewCardCustomPicker',{attrs:{\"show-created-notice\":\"\"},on:{\"cancel\":_vm.clickHideAddCardModel}})],1):_vm._e(),_vm._v(\" \"),(_vm.overviewName)?_c('div',{staticClass:\"board-title\"},[_c('div',{staticClass:\"board-bullet icon-calendar-dark\"}),_vm._v(\" \"),_c('h2',{attrs:{\"dir\":\"auto\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.overviewName)+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-add\"},on:{\"click\":_vm.clickShowAddCardModel}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Add card'))+\"\\n\\t\\t\\t\")])],1)],1):(_vm.board)?_c('div',{staticClass:\"board-title\"},[_c('div',{staticClass:\"board-bullet\",style:({backgroundColor: '#' + _vm.board.color})}),_vm._v(\" \"),_c('h2',{attrs:{\"dir\":\"auto\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.board.title)+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.showArchived)?_c('p',[_vm._v(\"\\n\\t\\t\\t(\"+_vm._s(_vm.t('deck', 'Archived cards'))+\")\\n\\t\\t\")]):_vm._e()]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"board-actions\"},[(_vm.isNotifyPushEnabled && _vm.presentUsers.length)?_c('SessionList',{attrs:{\"sessions\":_vm.presentUsers}}):_vm._e(),_vm._v(\" \"),(false)?_c('div',{staticClass:\"deck-search\"},[_c('input',{ref:\"search\",staticClass:\"icon-search\",attrs:{\"id\":\"deck-search-input\",\"tabindex\":0,\"type\":\"search\"},domProps:{\"value\":_vm.searchQuery},on:{\"focus\":function($event){return _vm.$store.dispatch('toggleShortcutLock', true)},\"blur\":function($event){return _vm.$store.dispatch('toggleShortcutLock', false)},\"input\":function($event){return _vm.$store.commit('setSearchQuery', $event.target.value)}}})]):_vm._e(),_vm._v(\" \"),(_vm.board && _vm.canManage && !_vm.showArchived && !_vm.board.archived)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.hideAddStack),expression:\"hideAddStack\"}],attrs:{\"id\":\"stack-add\"}},[(!_vm.isAddStackVisible)?_c('NcActions',[_c('NcActionButton',{on:{\"click\":function($event){$event.stopPropagation();return _vm.showAddStack.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('TableColumnPlusAfter',{attrs:{\"size\":20}})]},proxy:true}],null,false,3416413118)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Add list'))+\"\\n\\t\\t\\t\\t\\t\")])],1):_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addNewStack()}}},[_c('label',{staticClass:\"hidden-visually\",attrs:{\"for\":\"new-stack-input-main\"}},[_vm._v(_vm._s(_vm.t('deck', 'Add list')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newStackTitle),expression:\"newStackTitle\"},{name:\"focus\",rawName:\"v-focus\"}],staticClass:\"no-close\",attrs:{\"id\":\"new-stack-input-main\",\"type\":\"text\",\"placeholder\":_vm.t('deck', 'List name'),\"required\":\"\"},domProps:{\"value\":(_vm.newStackTitle)},on:{\"focus\":function($event){return _vm.$store.dispatch('toggleShortcutLock', true)},\"blur\":function($event){return _vm.$store.dispatch('toggleShortcutLock', false)},\"input\":function($event){if($event.target.composing)return;_vm.newStackTitle=$event.target.value}}}),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"title\":_vm.t('deck', 'Add list'),\"type\":\"submit\",\"value\":\"\"}})])],1):_vm._e(),_vm._v(\" \"),(_vm.board)?_c('div',{staticClass:\"board-action-buttons\"},[_c('div',{staticClass:\"board-action-buttons__filter\"},[_c('NcPopover',{attrs:{\"placement\":'bottom-end',\"aria-label\":_vm.t('deck', 'Active filters'),\"name\":_vm.t('deck', 'Active filters')},on:{\"show\":function($event){_vm.filterVisible=true},\"hide\":function($event){_vm.filterVisible=false}},scopedSlots:_vm._u([{key:\"trigger\",fn:function(){return [_c('NcButton',{ref:\"filterPopover\",staticClass:\"filter-button\",attrs:{\"title\":_vm.t('deck', 'Apply filter'),\"aria-label\":_vm.t('deck', 'Apply filter'),\"type\":_vm.isFilterActive ? 'primary' : 'tertiary'},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.isFilterActive)?_c('FilterIcon',{attrs:{\"size\":20,\"decorative\":\"\"}}):_c('FilterOffIcon',{attrs:{\"size\":20,\"decorative\":\"\"}})]},proxy:true}],null,false,2332309571)})]},proxy:true}],null,false,2069517790)},[_vm._v(\" \"),(_vm.filterVisible)?_c('div',{staticClass:\"filter\"},[_c('h3',[_vm._v(_vm._s(_vm.t('deck', 'Filter by tag')))]),_vm._v(\" \"),_vm._l((_vm.labelsSorted),function(label){return _c('div',{key:label.id,staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.tags),expression:\"filter.tags\"}],staticClass:\"checkbox\",attrs:{\"id\":label.id,\"type\":\"checkbox\"},domProps:{\"value\":label.id,\"checked\":Array.isArray(_vm.filter.tags)?_vm._i(_vm.filter.tags,label.id)>-1:(_vm.filter.tags)},on:{\"change\":[function($event){var $$a=_vm.filter.tags,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=label.id,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filter, \"tags\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filter, \"tags\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filter, \"tags\", $$c)}},_vm.setFilter]}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":label.id}},[_c('span',{staticClass:\"label\",style:(_vm.labelStyle(label))},[_vm._v(_vm._s(label.title))])])])}),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.t('deck', 'Filter by assigned user')))]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.unassigned),expression:\"filter.unassigned\"}],staticClass:\"checkbox\",attrs:{\"id\":\"unassigned\",\"type\":\"checkbox\",\"value\":\"unassigned\"},domProps:{\"checked\":Array.isArray(_vm.filter.unassigned)?_vm._i(_vm.filter.unassigned,\"unassigned\")>-1:(_vm.filter.unassigned)},on:{\"change\":[function($event){var $$a=_vm.filter.unassigned,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"unassigned\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filter, \"unassigned\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filter, \"unassigned\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filter, \"unassigned\", $$c)}},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"unassigned\"}},[_vm._v(_vm._s(_vm.t('deck', 'Unassigned')))])]),_vm._v(\" \"),_vm._l((_vm.board.users),function(user){return _c('div',{key:user.uid,staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.users),expression:\"filter.users\"}],staticClass:\"checkbox\",attrs:{\"id\":user.uid,\"type\":\"checkbox\"},domProps:{\"value\":user.uid,\"checked\":Array.isArray(_vm.filter.users)?_vm._i(_vm.filter.users,user.uid)>-1:(_vm.filter.users)},on:{\"change\":[function($event){var $$a=_vm.filter.users,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=user.uid,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.filter, \"users\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.filter, \"users\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.filter, \"users\", $$c)}},_vm.setFilter]}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":user.uid}},[_c('NcAvatar',{attrs:{\"user\":user.uid,\"size\":24,\"disable-menu\":true}}),_vm._v(\" \"+_vm._s(user.displayname))],1)])}),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.t('deck', 'Filter by status')))]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.completed),expression:\"filter.completed\"}],staticClass:\"radio\",attrs:{\"id\":\"filter-option-both\",\"type\":\"radio\",\"value\":\"both\"},domProps:{\"checked\":_vm._q(_vm.filter.completed,\"both\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"completed\", \"both\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"filter-option-both\"}},[_vm._v(_vm._s(_vm.t('deck', 'Open and completed')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.completed),expression:\"filter.completed\"}],staticClass:\"radio\",attrs:{\"id\":\"filter-option-open\",\"type\":\"radio\",\"value\":\"open\"},domProps:{\"checked\":_vm._q(_vm.filter.completed,\"open\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"completed\", \"open\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"filter-option-open\"}},[_vm._v(_vm._s(_vm.t('deck', 'Open')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.completed),expression:\"filter.completed\"}],staticClass:\"radio\",attrs:{\"id\":\"filter-option-completed\",\"type\":\"radio\",\"value\":\"completed\"},domProps:{\"checked\":_vm._q(_vm.filter.completed,\"completed\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"completed\", \"completed\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"filter-option-completed\"}},[_vm._v(_vm._s(_vm.t('deck', 'Completed')))])]),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(_vm.t('deck', 'Filter by due date')))]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.due),expression:\"filter.due\"}],staticClass:\"radio\",attrs:{\"id\":\"overdue\",\"type\":\"radio\",\"value\":\"overdue\"},domProps:{\"checked\":_vm._q(_vm.filter.due,\"overdue\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"due\", \"overdue\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"overdue\"}},[_vm._v(_vm._s(_vm.t('deck', 'Overdue')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.due),expression:\"filter.due\"}],staticClass:\"radio\",attrs:{\"id\":\"dueToday\",\"type\":\"radio\",\"value\":\"dueToday\"},domProps:{\"checked\":_vm._q(_vm.filter.due,\"dueToday\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"due\", \"dueToday\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"dueToday\"}},[_vm._v(_vm._s(_vm.t('deck', 'Next 24 hours')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.due),expression:\"filter.due\"}],staticClass:\"radio\",attrs:{\"id\":\"dueWeek\",\"type\":\"radio\",\"value\":\"dueWeek\"},domProps:{\"checked\":_vm._q(_vm.filter.due,\"dueWeek\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"due\", \"dueWeek\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"dueWeek\"}},[_vm._v(_vm._s(_vm.t('deck', 'Next 7 days')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.due),expression:\"filter.due\"}],staticClass:\"radio\",attrs:{\"id\":\"dueMonth\",\"type\":\"radio\",\"value\":\"dueMonth\"},domProps:{\"checked\":_vm._q(_vm.filter.due,\"dueMonth\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"due\", \"dueMonth\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"dueMonth\"}},[_vm._v(_vm._s(_vm.t('deck', 'Next 30 days')))])]),_vm._v(\" \"),_c('div',{staticClass:\"filter--item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter.due),expression:\"filter.due\"}],staticClass:\"radio\",attrs:{\"id\":\"noDue\",\"type\":\"radio\",\"value\":\"noDue\"},domProps:{\"checked\":_vm._q(_vm.filter.due,\"noDue\")},on:{\"change\":[function($event){return _vm.$set(_vm.filter, \"due\", \"noDue\")},_vm.setFilter],\"click\":_vm.beforeSetFilter}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"noDue\"}},[_vm._v(_vm._s(_vm.t('deck', 'No due date')))])]),_vm._v(\" \"),_c('NcButton',{attrs:{\"disabled\":!_vm.isFilterActive,\"wide\":true},on:{\"click\":_vm.clearFilter}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Clear filter'))+\"\\n\\t\\t\\t\\t\\t\\t\")])],2):_vm._e()])],1),_vm._v(\" \"),_c('NcActions',{attrs:{\"aria-label\":_vm.t('deck', 'View Modes'),\"name\":_vm.t('deck', 'Toggle View Modes')}},[_c('NcActionButton',{on:{\"click\":_vm.toggleShowArchived},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArchiveIcon',{attrs:{\"size\":20,\"decorative\":\"\"}})]},proxy:true}],null,false,2522540071)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.showArchived ? _vm.t('deck', 'Hide archived cards') : _vm.t('deck', 'Show archived cards'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),(_vm.compactMode)?_c('NcActionButton',{on:{\"click\":_vm.toggleCompactMode}},[_c('ArrowExpandVerticalIcon',{attrs:{\"slot\":\"icon\",\"size\":20,\"decorative\":\"\"},slot:\"icon\"}),_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Toggle compact mode'))+\"\\n\\t\\t\\t\\t\")],1):_c('NcActionButton',{on:{\"click\":_vm.toggleCompactMode}},[_c('ArrowCollapseVerticalIcon',{attrs:{\"slot\":\"icon\",\"size\":20,\"decorative\":\"\"},slot:\"icon\"}),_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Toggle compact mode'))+\"\\n\\t\\t\\t\\t\")],1),_vm._v(\" \"),_c('NcActionButton',{on:{\"click\":_vm.toggleShowCardCover},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ImageIcon',{attrs:{\"size\":20,\"decorative\":\"\"}})]},proxy:true}],null,false,4228331746)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.showCardCover ? _vm.t('deck', 'Hide card cover images') : _vm.t('deck', 'Show card cover images'))+\"\\n\\t\\t\\t\\t\")])],1),_vm._v(\" \"),(_vm.isFullApp)?_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-menu-sidebar\",\"aria-label\":_vm.t('deck', 'Open details'),\"name\":_vm.t('deck', 'Details')},on:{\"click\":_vm.toggleDetailsView}})],1):_vm._e()],1):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"card\" class=\"cardid\">\n\t\t<span>#{{ card.id }}</span>\n\t</div>\n</template>\n\n<script>\n\nexport default {\n\tname: 'CardId',\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.cardid {\n\t\tfont-size: .9em;\n\t}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardId.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardId.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardId.vue?vue&type=style&index=0&id=4f03dbb8&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardId.vue?vue&type=style&index=0&id=4f03dbb8&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardId.vue?vue&type=template&id=4f03dbb8&scoped=true\"\nimport script from \"./CardId.vue?vue&type=script&lang=js\"\nexport * from \"./CardId.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardId.vue?vue&type=style&index=0&id=4f03dbb8&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f03dbb8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.card)?_c('div',{staticClass:\"cardid\"},[_c('span',[_vm._v(\"#\"+_vm._s(_vm.card.id))])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"card\" class=\"duedate\" :data-due-state=\"dueState\">\n\t\t<transition name=\"zoom\">\n\t\t\t<div v-if=\"card.duedate || card.done\" class=\"due\" :name=\"absoluteDate\">\n\t\t\t\t<CheckCircle v-if=\"card.done\" :size=\"16\" />\n\t\t\t\t<Clock v-else-if=\"overdue\" :size=\"16\" />\n\t\t\t\t<ClockOutline v-else :size=\"16\" />\n\t\t\t\t<span v-if=\"!compactMode\" class=\"due--label\">{{ relativeDate }}</span>\n\t\t\t</div>\n\t\t</transition>\n\t</div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport moment from '@nextcloud/moment'\nimport Clock from 'vue-material-design-icons/Clock.vue'\nimport ClockOutline from 'vue-material-design-icons/ClockOutline.vue'\nimport CheckCircle from 'vue-material-design-icons/CheckCircle.vue'\n\nconst DueState = {\n\tDone: 'Done',\n\tFuture: 'Future',\n\tNext: 'Next',\n\tNow: 'Now',\n\tOverdue: 'Overdue',\n}\nexport default {\n\tname: 'DueDate',\n\tcomponents: {\n\t\tCheckCircle,\n\t\tClock,\n\t\tClockOutline,\n\t},\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tcompactMode: state => state.compactMode,\n\t\t}),\n\t\tdueState() {\n\t\t\tif (this.card.done) {\n\t\t\t\treturn DueState.Done\n\t\t\t}\n\t\t\tconst days = Math.floor(moment(this.card.duedate).diff(this.$root.time, 'seconds') / 60 / 60 / 24)\n\t\t\tif (days < 0) {\n\t\t\t\treturn DueState.Overdue\n\t\t\t}\n\t\t\tif (days === 0) {\n\t\t\t\treturn DueState.Now\n\t\t\t}\n\t\t\tif (days === 1) {\n\t\t\t\treturn DueState.Next\n\t\t\t}\n\n\t\t\treturn DueState.Future\n\t\t},\n\t\toverdue() {\n\t\t\treturn this.dueState === DueState.Overdue\n\t\t},\n\t\trelativeDate() {\n\t\t\tconst date = this.card.done ? this.card.done : this.card.duedate\n\t\t\tconst diff = moment(this.$root.time).diff(date, 'seconds')\n\t\t\tif (diff >= 0 && diff < 45) {\n\t\t\t\treturn t('core', 'seconds ago')\n\t\t\t}\n\t\t\treturn moment(date).fromNow()\n\t\t},\n\t\tabsoluteDate() {\n\t\t\tconst date = this.card.done ? this.card.done : this.card.duedate\n\t\t\treturn moment(date).format('LLLL')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.due {\n\t\tbackground-position: 4px center;\n\t\tborder-radius: var(--border-radius-pill);\n\t\tpadding: 1px 8px;\n\t\tfont-size: 90%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tflex-shrink: 1;\n\t\tz-index: 2;\n\n\t\t[data-due-state='Overdue'] & {\n\t\t\tcolor: var(--color-element-error, var(--color-error-text));\n\t\t\tbackground-color: rgba(var(--color-error-rgb), .5);\n\t\t}\n\t\t[data-due-state='Now'] & {\n\t\t\tcolor: var(--color-element-warning, var(--color-warning-text));\n\t\t\tbackground-color: rgba(var(--color-warning-rgb), .5);\n\t\t}\n\t\t[data-due-state='Done'] & {\n\t\t\tcolor: var(--color-element-success, var(--color-success-text));\n\t\t\tbackground-color: rgba(var(--color-success-rgb), .5);\n\t\t}\n\n\t\t.due--label {\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\t\t\tmargin-left: 4px;\n\t\t\tfont-size: 13px;\n\t\t}\n\t}\n\n\t@media print {\n\t\t.icon.due {\n\t\t\tbackground-color: transparent !important;\n\n\t\t\tspan {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\t&::before {\n\t\t\t\tcontent: attr(title);\n\t\t\t}\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DueDate.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DueDate.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DueDate.vue?vue&type=style&index=0&id=537ebc3f&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DueDate.vue?vue&type=style&index=0&id=537ebc3f&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./DueDate.vue?vue&type=template&id=537ebc3f&scoped=true\"\nimport script from \"./DueDate.vue?vue&type=script&lang=js\"\nexport * from \"./DueDate.vue?vue&type=script&lang=js\"\nimport style0 from \"./DueDate.vue?vue&type=style&index=0&id=537ebc3f&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"537ebc3f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.card)?_c('div',{staticClass:\"duedate\",attrs:{\"data-due-state\":_vm.dueState}},[_c('transition',{attrs:{\"name\":\"zoom\"}},[(_vm.card.duedate || _vm.card.done)?_c('div',{staticClass:\"due\",attrs:{\"name\":_vm.absoluteDate}},[(_vm.card.done)?_c('CheckCircle',{attrs:{\"size\":16}}):(_vm.overdue)?_c('Clock',{attrs:{\"size\":16}}):_c('ClockOutline',{attrs:{\"size\":16}}),_vm._v(\" \"),(!_vm.compactMode)?_c('span',{staticClass:\"due--label\"},[_vm._v(_vm._s(_vm.relativeDate))]):_vm._e()],1):_vm._e()])],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardBadges.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardBadges.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"card\" class=\"badges\">\n\t\t<div class=\"badge-left\">\n\t\t\t<DueDate v-if=\"card.duedate || card.done\" :card=\"card\" />\n\n\t\t\t<div class=\"inline-badges\">\n\t\t\t\t<CardId v-if=\"idBadge\" class=\"icon-badge\" :card=\"card\" />\n\n\t\t\t\t<div v-if=\"card.commentsCount > 0\"\n\t\t\t\t\t:title=\"commentsHint\"\n\t\t\t\t\tclass=\"icon-badge\"\n\t\t\t\t\t@click.stop=\"openComments\">\n\t\t\t\t\t<CommentUnreadIcon v-if=\"card.commentsUnread > 0\" :size=\"16\" />\n\t\t\t\t\t<CommentIcon v-else :size=\"16\" />\n\t\t\t\t\t<span>{{ card.commentsCount }}</span>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-if=\"card.description && checkListCount > 0\" class=\"icon-badge\">\n\t\t\t\t\t<CheckmarkIcon :size=\"16\" :title=\"t('deck', 'Todo items')\" />\n\t\t\t\t\t<span>{{ checkListCheckedCount }}/{{ checkListCount }}</span>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-else-if=\"card.description && card.description.trim() && checkListCount == 0\" class=\"icon-badge\">\n\t\t\t\t\t<TextIcon :size=\"16\" decorative />\n\t\t\t\t</div>\n\n\t\t\t\t<div v-if=\"card.attachmentCount > 0\" class=\"icon-badge\">\n\t\t\t\t\t<AttachmentIcon :size=\"16\" />\n\t\t\t\t\t<span>{{ card.attachmentCount }}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"badge-right\">\n\t\t\t<NcAvatarList :users=\"card.assignedUsers\" :size=\"32\" />\n\n\t\t\t<slot />\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport NcAvatarList from './AvatarList.vue'\nimport CardId from './badges/CardId.vue'\nimport TextIcon from 'vue-material-design-icons/Text.vue'\nimport AttachmentIcon from 'vue-material-design-icons/Paperclip.vue'\nimport CheckmarkIcon from 'vue-material-design-icons/CheckboxMarked.vue'\nimport CommentIcon from 'vue-material-design-icons/CommentOutline.vue'\nimport CommentUnreadIcon from 'vue-material-design-icons/CommentAccountOutline.vue'\nimport DueDate from './badges/DueDate.vue'\n\nexport default {\n\tname: 'CardBadges',\n\tcomponents: {\n\t\tDueDate,\n\t\tNcAvatarList,\n\t\tTextIcon,\n\t\tAttachmentIcon,\n\t\tCheckmarkIcon,\n\t\tCommentIcon,\n\t\tCommentUnreadIcon,\n\t\tCardId,\n\t},\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tcomputed: {\n\t\tcheckListCount() {\n\t\t\treturn (this.card.description.match(/^\\s*([*+-]|(\\d\\.))\\s+\\[\\s*(\\s|x)\\s*\\](.*)$/gim) || []).length\n\t\t},\n\t\tcheckListCheckedCount() {\n\t\t\treturn (this.card.description.match(/^\\s*([*+-]|(\\d\\.))\\s+\\[\\s*x\\s*\\](.*)$/gim) || []).length\n\t\t},\n\t\tcommentsHint() {\n\t\t\tif (this.card.commentsUnread > 0) {\n\t\t\t\treturn t('deck', '{count} comments, {unread} unread', {\n\t\t\t\t\tcount: this.card.commentsCount,\n\t\t\t\t\tunread: this.card.commentsUnread,\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn null\n\t\t},\n\t\tidBadge() {\n\t\t\treturn this.$store.getters.config('cardIdBadge')\n\t\t},\n\t},\n\tmethods: {\n\t\topenComments() {\n\t\t\tconst boardId = this.card && this.card.boardId ? this.card.boardId : this.$route.params.id\n\t\t\tthis.$router.push({ name: 'card', params: { id: boardId, cardId: this.card.id, tabId: 'comments' } })\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.badges {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\tflex-grow: 1;\n\t\tflex-direction: row;\n\t\tgap: 3px;\n\n\t\t.icon-badge {\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\tdisplay: flex;\n\t\t\tmargin-right: 2px;\n\n\t\t\tspan,\n\t\t\t&:deep(span) {\n\t\t\t\tpadding: 2px;\n\t\t\t}\n\t\t}\n\t}\n\n\t.inline-badges {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tflex-wrap: wrap;\n\t\tgap: 3px;\n\t}\n\n\t.badge-left, .badge-right {\n\t\tdisplay: flex;\n\t}\n\n\t.badge-left {\n\t\tflex-basis: auto;\n\t\tflex-grow: 1;\n\t\tflex-shrink: 1;\n\t\tflex-wrap: wrap;\n\t\talign-content: flex-end;\n\t\talign-items: center;\n\t\talign-self: center;\n\t\tgap: 3px;\n\t}\n\n\t.badge-right {\n\t\talign-items: center;\n\t\talign-self: flex-end;\n\t\tdisplay: flex;\n\t\tjustify-items: center;\n\t\tmax-width: 165px;\n\t\tflex-grow: 0;\n\t\tflex-shrink: 0;\n\t}\n\n\t.fade-enter-active, .fade-leave-active {\n\t\ttransition: opacity .125s;\n\t}\n\n\t.fade-enter, .fade-leave-to {\n\t\topacity: 0;\n\t}\n\n\t.avatars:deep(button) {\n\t\tmargin: 0;\n\t}\n\n\t@media print {\n\t\t.badges {\n\t\t\talign-items: flex-start;\n\t\t\tmax-height: none !important;\n\t\t}\n\t}\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardBadges.vue?vue&type=style&index=0&id=e258e654&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardBadges.vue?vue&type=style&index=0&id=e258e654&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardBadges.vue?vue&type=template&id=e258e654&scoped=true\"\nimport script from \"./CardBadges.vue?vue&type=script&lang=js\"\nexport * from \"./CardBadges.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardBadges.vue?vue&type=style&index=0&id=e258e654&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e258e654\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.card)?_c('div',{staticClass:\"badges\"},[_c('div',{staticClass:\"badge-left\"},[(_vm.card.duedate || _vm.card.done)?_c('DueDate',{attrs:{\"card\":_vm.card}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"inline-badges\"},[(_vm.idBadge)?_c('CardId',{staticClass:\"icon-badge\",attrs:{\"card\":_vm.card}}):_vm._e(),_vm._v(\" \"),(_vm.card.commentsCount > 0)?_c('div',{staticClass:\"icon-badge\",attrs:{\"title\":_vm.commentsHint},on:{\"click\":function($event){$event.stopPropagation();return _vm.openComments.apply(null, arguments)}}},[(_vm.card.commentsUnread > 0)?_c('CommentUnreadIcon',{attrs:{\"size\":16}}):_c('CommentIcon',{attrs:{\"size\":16}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.card.commentsCount))])],1):_vm._e(),_vm._v(\" \"),(_vm.card.description && _vm.checkListCount > 0)?_c('div',{staticClass:\"icon-badge\"},[_c('CheckmarkIcon',{attrs:{\"size\":16,\"title\":_vm.t('deck', 'Todo items')}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.checkListCheckedCount)+\"/\"+_vm._s(_vm.checkListCount))])],1):(_vm.card.description && _vm.card.description.trim() && _vm.checkListCount == 0)?_c('div',{staticClass:\"icon-badge\"},[_c('TextIcon',{attrs:{\"size\":16,\"decorative\":\"\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.card.attachmentCount > 0)?_c('div',{staticClass:\"icon-badge\"},[_c('AttachmentIcon',{attrs:{\"size\":16}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.card.attachmentCount))])],1):_vm._e()],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"badge-right\"},[_c('NcAvatarList',{attrs:{\"users\":_vm.card.assignedUsers,\"size\":32}}),_vm._v(\" \"),_vm._t(\"default\")],2)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div>\n\t\t<NcActionButton v-if=\"!hideDetailsEntry\" :close-after-click=\"true\" @click=\"openCard\">\n\t\t\t<CardBulletedIcon slot=\"icon\" :size=\"20\" decorative />\n\t\t\t{{ t('deck', 'Card details') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEdit\" :close-after-click=\"true\" @click=\"editTitle\">\n\t\t\t<template #icon>\n\t\t\t\t<PencilIcon :size=\"20\" decorative />\n\t\t\t</template>\n\t\t\t{{ t('deck', 'Edit title') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEdit && !isCurrentUserAssigned\"\n\t\t\ticon=\"icon-user\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t@click=\"assignCardToMe()\">\n\t\t\t{{ t('deck', 'Assign to me') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEdit && isCurrentUserAssigned\"\n\t\t\ticon=\"icon-user\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t@click=\"unassignCardFromMe()\">\n\t\t\t{{ t('deck', 'Unassign myself') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEdit\"\n\t\t\ticon=\"icon-checkmark\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t@click=\"changeCardDoneStatus()\">\n\t\t\t{{ card.done ? t('deck', 'Mark as not done') : t('deck', 'Mark as done') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEdit\"\n\t\t\ticon=\"icon-external\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t@click=\"openCardMoveDialog\">\n\t\t\t{{ t('deck', 'Move/copy card') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-for=\"action in cardActions\"\n\t\t\t:key=\"action.label\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t:icon=\"action.icon\"\n\t\t\t@click=\"action.callback(cardRichObject)\">\n\t\t\t{{ action.label }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEditBoard\" :close-after-click=\"true\" @click=\"archiveUnarchiveCard()\">\n\t\t\t<template #icon>\n\t\t\t\t<ArchiveIcon :size=\"20\" decorative />\n\t\t\t</template>\n\t\t\t{{ card.archived ? t('deck', 'Unarchive card') : t('deck', 'Archive card') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton v-if=\"canEdit\"\n\t\t\ticon=\"icon-delete\"\n\t\t\t:close-after-click=\"true\"\n\t\t\t@click=\"deleteCard()\">\n\t\t\t{{ t('deck', 'Delete card') }}\n\t\t</NcActionButton>\n\t</div>\n</template>\n<script>\nimport { NcActionButton } from '@nextcloud/vue'\nimport { mapGetters, mapState } from 'vuex'\nimport ArchiveIcon from 'vue-material-design-icons/ArchiveOutline.vue'\nimport CardBulletedIcon from 'vue-material-design-icons/CardBulletedOutline.vue'\nimport PencilIcon from 'vue-material-design-icons/PencilOutline.vue'\nimport { generateUrl } from '@nextcloud/router'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { showUndo } from '@nextcloud/dialogs'\n\nimport '@nextcloud/dialogs/style.css'\nimport { emit } from '@nextcloud/event-bus'\n\nexport default {\n\tname: 'CardMenuEntries',\n\tcomponents: { NcActionButton, ArchiveIcon, CardBulletedIcon, PencilIcon },\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\thideDetailsEntry: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\temits: ['edit-title'],\n\tdata() {\n\t\treturn {\n\t\t\tmodalShow: false,\n\t\t\tselectedBoard: '',\n\t\t\tselectedStack: '',\n\t\t\tstacksFromBoard: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'isArchived',\n\t\t\t'boards',\n\t\t\t'cardActions',\n\t\t\t'stackById',\n\t\t\t'boardById',\n\t\t]),\n\t\t...mapState({\n\t\t\tshowArchived: state => state.showArchived,\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t}),\n\t\tcanEdit() {\n\t\t\treturn !this.card.archived\n\t\t},\n\t\tcanEditBoard() {\n\t\t\tif (this.currentBoard) {\n\t\t\t\treturn this.$store.getters.canEdit\n\t\t\t}\n\t\t\tconst board = this.$store.getters.boards.find((item) => item.id === this.card.boardId)\n\t\t\treturn !!board?.permissions?.PERMISSION_EDIT\n\t\t},\n\t\tisCurrentUserAssigned() {\n\t\t\treturn this.card.assignedUsers.find((item) => item.type === 0 && item.participant.uid === getCurrentUser()?.uid)\n\t\t},\n\t\tboardId() {\n\t\t\treturn this.card?.boardId ? this.card.boardId : Number(this.$route.params.id)\n\t\t},\n\t\tcardRichObject() {\n\t\t\treturn {\n\t\t\t\tid: '' + this.card.id,\n\t\t\t\tname: this.card.title,\n\t\t\t\tboardname: this.boardById(this.boardId)?.title,\n\t\t\t\tstackname: this.stackById(this.card.stackId)?.title,\n\t\t\t\tlink: window.location.protocol + '//' + window.location.host + generateUrl('/apps/deck/') + `card/${this.card.id}`,\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\topenCard() {\n\t\t\tconst boardId = this.card?.boardId ? this.card.boardId : this.$route?.params.id ?? this.currentBoard.id\n\n\t\t\tif (this.$router) {\n\t\t\t\tthis.$router?.push({ name: 'card', params: { id: boardId, cardId: this.card.id } }).catch(() => {})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.$root.$emit('open-card', this.card.id)\n\t\t},\n\t\teditTitle() {\n\t\t\tthis.$emit('edit-title', this.card.id)\n\t\t},\n\t\tdeleteCard() {\n\t\t\tthis.$store.dispatch('deleteCard', this.card)\n\t\t\tconst undoCard = { ...this.card, deletedAt: 0 }\n\t\t\tshowUndo(t('deck', 'Card deleted'), () => this.$store.dispatch('cardUndoDelete', undoCard))\n\t\t\tif (this.$router.currentRoute.name === 'card') {\n\t\t\t\tthis.$router.push({ name: 'board' })\n\t\t\t}\n\t\t},\n\t\tchangeCardDoneStatus() {\n\t\t\tthis.$store.dispatch('changeCardDoneStatus', { ...this.card, done: !this.card.done })\n\t\t},\n\t\tarchiveUnarchiveCard() {\n\t\t\tthis.$store.dispatch('archiveUnarchiveCard', { ...this.card, archived: !this.card.archived })\n\t\t},\n\t\tassignCardToMe() {\n\t\t\tthis.$store.dispatch('assignCardToUser', {\n\t\t\t\tcard: this.card,\n\t\t\t\tassignee: {\n\t\t\t\t\tuserId: getCurrentUser()?.uid,\n\t\t\t\t\ttype: 0,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tunassignCardFromMe() {\n\t\t\tthis.$store.dispatch('removeUserFromCard', {\n\t\t\t\tcard: this.card,\n\t\t\t\tassignee: {\n\t\t\t\t\tuserId: getCurrentUser()?.uid,\n\t\t\t\t\ttype: 0,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\topenCardMoveDialog() {\n\t\t\temit('deck:card:show-move-dialog', this.card)\n\t\t},\n\t},\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardMenuEntries.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardMenuEntries.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CardMenuEntries.vue?vue&type=template&id=a4ef0906\"\nimport script from \"./CardMenuEntries.vue?vue&type=script&lang=js\"\nexport * from \"./CardMenuEntries.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.hideDetailsEntry)?_c('NcActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.openCard}},[_c('CardBulletedIcon',{attrs:{\"slot\":\"icon\",\"size\":20,\"decorative\":\"\"},slot:\"icon\"}),_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Card details'))+\"\\n\\t\")],1):_vm._e(),_vm._v(\" \"),(_vm.canEdit)?_c('NcActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":_vm.editTitle},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('PencilIcon',{attrs:{\"size\":20,\"decorative\":\"\"}})]},proxy:true}],null,false,2919842136)},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Edit title'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canEdit && !_vm.isCurrentUserAssigned)?_c('NcActionButton',{attrs:{\"icon\":\"icon-user\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.assignCardToMe()}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Assign to me'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canEdit && _vm.isCurrentUserAssigned)?_c('NcActionButton',{attrs:{\"icon\":\"icon-user\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.unassignCardFromMe()}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Unassign myself'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canEdit)?_c('NcActionButton',{attrs:{\"icon\":\"icon-checkmark\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.changeCardDoneStatus()}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.card.done ? _vm.t('deck', 'Mark as not done') : _vm.t('deck', 'Mark as done'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canEdit)?_c('NcActionButton',{attrs:{\"icon\":\"icon-external\",\"close-after-click\":true},on:{\"click\":_vm.openCardMoveDialog}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Move/copy card'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.cardActions),function(action){return _c('NcActionButton',{key:action.label,attrs:{\"close-after-click\":true,\"icon\":action.icon},on:{\"click\":function($event){return action.callback(_vm.cardRichObject)}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(action.label)+\"\\n\\t\")])}),_vm._v(\" \"),(_vm.canEditBoard)?_c('NcActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){return _vm.archiveUnarchiveCard()}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArchiveIcon',{attrs:{\"size\":20,\"decorative\":\"\"}})]},proxy:true}],null,false,2522540071)},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.card.archived ? _vm.t('deck', 'Unarchive card') : _vm.t('deck', 'Archive card'))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canEdit)?_c('NcActionButton',{attrs:{\"icon\":\"icon-delete\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.deleteCard()}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('deck', 'Delete card'))+\"\\n\\t\")]):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardMenu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardMenu.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"card\" class=\"card-menu\" @click.stop.prevent>\n\t\t<NcButton v-if=\"card.referenceData\"\n\t\t\ttype=\"tertiary\"\n\t\t\t:title=\"t('deck','Open link')\"\n\t\t\t@click=\"openLink\">\n\t\t\t<template #icon>\n\t\t\t\t<LinkIcon :size=\"20\" />\n\t\t\t</template>\n\t\t</NcButton>\n\t\t<NcActions>\n\t\t\t<CardMenuEntries :card=\"card\" @edit-title=\"editTitle\" />\n\t\t</NcActions>\n\t</div>\n</template>\n<script>\nimport { NcActions, NcButton } from '@nextcloud/vue'\nimport LinkIcon from 'vue-material-design-icons/Link.vue'\nimport CardMenuEntries from './CardMenuEntries.vue'\n\nexport default {\n\tname: 'CardMenu',\n\tcomponents: { NcActions, NcButton, LinkIcon, CardMenuEntries },\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\temits: ['edit-title'],\n\tmethods: {\n\t\topenLink() {\n\t\t\twindow.open(this.card?.referenceData?.openGraphObject?.link)\n\t\t\treturn false\n\t\t},\n\t\teditTitle(id) {\n\t\t\tthis.$emit('edit-title', id)\n\t\t},\n\t},\n}\n</script>\n","import { render, staticRenderFns } from \"./CardMenu.vue?vue&type=template&id=5d9d020c\"\nimport script from \"./CardMenu.vue?vue&type=script&lang=js\"\nexport * from \"./CardMenu.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.card)?_c('div',{staticClass:\"card-menu\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();}}},[(_vm.card.referenceData)?_c('NcButton',{attrs:{\"type\":\"tertiary\",\"title\":_vm.t('deck','Open link')},on:{\"click\":_vm.openLink},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('LinkIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,3213381027)}):_vm._e(),_vm._v(\" \"),_c('NcActions',[_c('CardMenuEntries',{attrs:{\"card\":_vm.card},on:{\"edit-title\":_vm.editTitle}})],1)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"referencePreview\" class=\"card-cover\">\n\t\t<div class=\"image-wrapper rounded-left rounded-right\" :style=\"{ backgroundImage: `url(${referencePreview})`}\" />\n\t</div>\n\t<div v-else-if=\"cardId && ( attachments.length > 0 )\" class=\"card-cover\">\n\t\t<div v-for=\"(attachment, index) in attachments\"\n\t\t\t:key=\"attachment.id\"\n\t\t\t:class=\"['image-wrapper', { 'rounded-left': index === 0 }, { 'rounded-right': index === attachments.length - 1 }]\"\n\t\t\t:style=\"{ backgroundImage: `url(${attachmentPreview(attachment)})` }\" />\n\t</div>\n</template>\n<script>\nimport { mapActions } from 'vuex'\nimport { generateUrl } from '@nextcloud/router'\nexport default {\n\tname: 'CardCover',\n\tprops: {\n\t\tcardId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tattachments() {\n\t\t\treturn [...this.$store.getters.attachmentsByCard(this.cardId)]\n\t\t\t\t// Filter deleted and hasPreview\n\t\t\t\t.filter(attachment => attachment.deletedAt >= 0 && attachment.extendedData.hasPreview)\n\t\t\t\t// sort by id (same as in AttachmentList) to get Newest\n\t\t\t\t.sort((a, b) => b.id - a.id)\n\t\t\t\t// limit to 3 like with android Deck app\n\t\t\t\t.slice(0, 3)\n\t\t},\n\t\tattachmentPreview() {\n\t\t\t// FIXME find a better way to get the stack-width\n\t\t\tconst stackWidth = getComputedStyle(document.documentElement).getPropertyValue('--stack-width').trim()\n\t\t\tconst x = Math.ceil(parseInt(stackWidth) / this.attachments.length) | 260\n\t\t\tconst y = 100\n\t\t\treturn attachment => (\n\t\t\t\t// The core preview provider is a bit strange at times, providing much larger than needed images\n\t\t\t\t// when cropping is enabled. Therefore use a=1 to not crop the image and let css handle the overflow\n\t\t\t\tattachment.extendedData.fileid ? generateUrl(`/core/preview?fileId=${attachment.extendedData.fileid}&x=${x}&y=${y}&a=1`) : null\n\t\t\t)\n\t\t},\n\t\tcard() {\n\t\t\treturn this.$store.getters.cardById(this.cardId)\n\t\t},\n\t\treferencePreview() {\n\t\t\treturn this.card?.referenceData?.richObject?.thumb\n\t\t},\n\t},\n\twatch: {\n\t\tcardId: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tif (this.$store.getters.cardById(this.cardId)?.attachmentCount > 0) {\n\t\t\t\t\tthis.fetchAttachments(this.cardId)\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\t...mapActions([\n\t\t\t'fetchAttachments',\n\t\t]),\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../css/variables';\n\n.card-cover {\n\theight: 90px;\n\tdisplay: flex;\n\tmargin-top: -4px;\n\tmargin-left: -4px;\n\tmargin-right: -4px;\n\n\t.image-wrapper {\n\t\tflex: 1;\n\t\tposition: relative;\n\t\tbackground-size: cover;\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-position: center center;\n\t\t&.rounded-left {\n\t\t\tborder-top-left-radius: calc(var(--border-radius-large) - 1px);\n\t\t}\n\t\t&.rounded-right {\n\t\t\tborder-top-right-radius: calc(var(--border-radius-large) - 1px);\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardCover.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardCover.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardCover.vue?vue&type=style&index=0&id=888cbd62&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardCover.vue?vue&type=style&index=0&id=888cbd62&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardCover.vue?vue&type=template&id=888cbd62&scoped=true\"\nimport script from \"./CardCover.vue?vue&type=script&lang=js\"\nexport * from \"./CardCover.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardCover.vue?vue&type=style&index=0&id=888cbd62&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"888cbd62\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.referencePreview)?_c('div',{staticClass:\"card-cover\"},[_c('div',{staticClass:\"image-wrapper rounded-left rounded-right\",style:({ backgroundImage: `url(${_vm.referencePreview})`})})]):(_vm.cardId && ( _vm.attachments.length > 0 ))?_c('div',{staticClass:\"card-cover\"},_vm._l((_vm.attachments),function(attachment,index){return _c('div',{key:attachment.id,class:['image-wrapper', { 'rounded-left': index === 0 }, { 'rounded-right': index === _vm.attachments.length - 1 }],style:({ backgroundImage: `url(${_vm.attachmentPreview(attachment)})` })})}),0):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<AttachmentDragAndDrop v-if=\"card\" :card-id=\"card.id\" class=\"drop-upload--card\">\n\t\t<div :ref=\"`card${card.id}`\"\n\t\t\t:class=\"{'compact': compactMode, 'current-card': currentCard, 'has-labels': card.labels && card.labels.length > 0, 'card__editable': canEdit, 'card__archived': card.archived, 'card__highlight': highlight}\"\n\t\t\ttag=\"div\"\n\t\t\t:tabindex=\"0\"\n\t\t\tclass=\"card\"\n\t\t\t@click=\"openCard\"\n\t\t\t@keyup.self=\"handleCardKeyboardShortcut\"\n\t\t\t@mouseenter=\"focus(card.id)\">\n\t\t\t<div v-if=\"standalone\" class=\"card-related\">\n\t\t\t\t<div :style=\"{backgroundColor: '#' + board.color}\" class=\"board-bullet\" dir=\"auto\" />\n\t\t\t\t{{ board.title }}  {{ stack.title }}\n\t\t\t</div>\n\t\t\t<CardCover v-if=\"showCardCover\" :card-id=\"card.id\" />\n\t\t\t<div class=\"card-upper\">\n\t\t\t\t<h4 v-if=\"editingTitle === 0\" key=\"title-view\" dir=\"auto\">\n\t\t\t\t\t<span class=\"dragDisabled\" contenteditable=\"false\">{{ displayTitle }}</span>\n\t\t\t\t</h4>\n\t\t\t\t<h4 v-if=\"editingTitle >= 1\"\n\t\t\t\t\tkey=\"title-edit\"\n\t\t\t\t\tdir=\"auto\"\n\t\t\t\t\tclass=\"editable dragDisabled\"\n\t\t\t\t\t:aria-label=\"t('deck', 'Edit card title')\">\n\t\t\t\t\t<span ref=\"titleContentEditable\"\n\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\tcontenteditable=\"true\"\n\t\t\t\t\t\trole=\"textbox\"\n\t\t\t\t\t\t@focus=\"onTitleFocus\"\n\t\t\t\t\t\t@blur=\"onTitleBlur\"\n\t\t\t\t\t\t@click.stop\n\t\t\t\t\t\t@keyup.esc=\"onTitleBlur\"\n\t\t\t\t\t\t@keyup.enter=\"onTitleBlur\"\n\t\t\t\t\t\t@keyup.stop>{{ card.title }}</span>\n\t\t\t\t</h4>\n\n\t\t\t\t<DueDate v-if=\"compactMode\" :card=\"card\" />\n\t\t\t\t<CardMenu v-if=\"showMenuAtTitle\"\n\t\t\t\t\t:card=\"card\"\n\t\t\t\t\tclass=\"right card-menu\"\n\t\t\t\t\t@edit-title=\"triggerEditTitle\" />\n\t\t\t</div>\n\n\t\t\t<div v-if=\"hasLabels\" class=\"card-labels\">\n\t\t\t\t<transition-group v-if=\"card.labels && card.labels.length\"\n\t\t\t\t\tname=\"zoom\"\n\t\t\t\t\ttag=\"ul\"\n\t\t\t\t\tclass=\"labels\"\n\t\t\t\t\t@click.stop=\"openCard\">\n\t\t\t\t\t<li v-for=\"label in labelsSorted\" :key=\"label?.id ?? label?.title\" :style=\"labelStyle(label)\">\n\t\t\t\t\t\t<span @click.stop=\"applyLabelFilter(label)\">{{ label.title }}</span>\n\t\t\t\t\t</li>\n\t\t\t\t</transition-group>\n\t\t\t\t<CardMenu v-if=\"showMenuAtLabels\"\n\t\t\t\t\t:card=\"card\"\n\t\t\t\t\tclass=\"right\"\n\t\t\t\t\t@edit-title=\"triggerEditTitle\" />\n\t\t\t</div>\n\n\t\t\t<div v-if=\"hasBadges\"\n\t\t\t\tv-show=\"!compactMode\"\n\t\t\t\tclass=\"card-controls compact-item\"\n\t\t\t\t@click=\"openCard\">\n\t\t\t\t<CardBadges :card=\"card\">\n\t\t\t\t\t<CardMenu v-if=\"showMenuAtBadges\"\n\t\t\t\t\t\t:card=\"card\"\n\t\t\t\t\t\tclass=\"right\"\n\t\t\t\t\t\t@edit-title=\"triggerEditTitle\" />\n\t\t\t\t</CardBadges>\n\t\t\t</div>\n\t\t</div>\n\t</AttachmentDragAndDrop>\n</template>\n\n<script>\nimport ClickOutside from 'vue-click-outside'\nimport { mapState, mapGetters } from 'vuex'\nimport CardBadges from './CardBadges.vue'\nimport Color from '../../mixins/color.js'\nimport labelStyle from '../../mixins/labelStyle.js'\nimport AttachmentDragAndDrop from '../AttachmentDragAndDrop.vue'\nimport CardMenu from './CardMenu.vue'\nimport CardCover from './CardCover.vue'\nimport DueDate from './badges/DueDate.vue'\nimport { getCurrentUser } from '@nextcloud/auth'\n\nconst TITLE_EDITING_STATE = {\n\tOFF: 0,\n\tPENDING: 1,\n\tON: 2,\n}\n\nexport default {\n\tname: 'CardItem',\n\tcomponents: { CardBadges, AttachmentDragAndDrop, CardMenu, CardCover, DueDate },\n\tdirectives: {\n\t\tClickOutside,\n\t},\n\tmixins: [Color, labelStyle],\n\tprops: {\n\t\tid: {\n\t\t\ttype: Number,\n\t\t\tdefault: null,\n\t\t},\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\tstandalone: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tdragging: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\thighlight: false,\n\t\t\teditingTitle: TITLE_EDITING_STATE.OFF,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tcompactMode: state => state.compactMode,\n\t\t\tshowArchived: state => state.showArchived,\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t\tshowCardCover: state => state.showCardCover,\n\t\t\tshortcutLock: state => state.shortcutLock,\n\t\t}),\n\t\t...mapGetters([\n\t\t\t'isArchived',\n\t\t]),\n\t\tboard() {\n\t\t\treturn this.$store.getters.boardById(this?.stack?.boardId)\n\t\t},\n\t\tstack() {\n\t\t\treturn this.$store.getters.stackById(this?.card?.stackId)\n\t\t},\n\t\tcanEdit() {\n\t\t\tif (this.currentBoard) {\n\t\t\t\treturn !this.currentBoard.archived && this.$store.getters.canEdit\n\t\t\t}\n\t\t\tconst board = this.$store.getters.boards.find((item) => item.id === this.card.boardId)\n\t\t\treturn board ? !board.archived && board.permissions.PERMISSION_EDIT : false\n\t\t},\n\t\tcard() {\n\t\t\treturn this.item ? this.item : this.$store.getters.cardById(this.id)\n\t\t},\n\t\tdisplayTitle() {\n\t\t\tconst reference = this.card?.referenceData\n\t\t\treturn reference ? reference.openGraphObject.name : this.card.title\n\t\t},\n\t\tcurrentCard() {\n\t\t\treturn this.card && this.$route && this.$route.params.cardId === this.card.id\n\t\t},\n\t\tlabelsSorted() {\n\t\t\treturn [...this.card.labels].sort((a, b) => (a.title < b.title) ? -1 : 1)\n\t\t},\n\t\thasLabels() {\n\t\t\treturn this.card.labels.length > 0\n\t\t},\n\t\thasBadges() {\n\t\t\treturn this.card.done\n\t\t\t\t|| this.card.duedate\n\t\t\t\t|| this.idBadge\n\t\t\t\t|| this.card.commentsCount > 0\n\t\t\t\t|| this.card.description\n\t\t\t\t|| this.card.attachmentCount > 0\n\t\t\t\t|| this.card.assignedUsers.length > 0\n\t\t},\n\t\tidBadge() {\n\t\t\treturn this.$store.getters.config('cardIdBadge')\n\t\t},\n\t\tshowMenuAtTitle() {\n\t\t\treturn this.compactMode || (!this.compactMode && !this.hasBadges && !this.hasLabels)\n\t\t},\n\t\tshowMenuAtLabels() {\n\t\t\tif (this.compactMode) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn !this.hasBadges && this.hasLabels\n\t\t},\n\t\tshowMenuAtBadges() {\n\t\t\tif (this.compactMode) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn this.hasBadges\n\t\t},\n\t},\n\twatch: {\n\t\tcurrentCard(newValue) {\n\t\t\tif (newValue) {\n\t\t\t\tthis.$nextTick(() => this.$el.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' }))\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\thasSelection() {\n\t\t\tconst selection = window.getSelection()\n\t\t\treturn selection.toString() !== ''\n\t\t},\n\t\tfocus(card) {\n\t\t\tif (this.shortcutLock || this.hasSelection()) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tcard = this.$refs[`card${card}`]\n\t\t\tcard.focus()\n\t\t},\n\t\topenCard(event) {\n\t\t\tif (event.target.tagName.toLowerCase() === 'a') {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (this.dragging || this.hasSelection()) {\n\t\t\t  return\n\t\t\t}\n\t\t\tconst boardId = this.card && this.card.boardId ? this.card.boardId : (this.$route?.params.id ?? this.currentBoard.id)\n\n\t\t\tif (this.$router) {\n\t\t\t\tthis.$router.push({ name: 'card', params: { id: boardId, cardId: this.card.id } }).catch(() => {})\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.$root.$emit('open-card', this.card.id)\n\t\t},\n\t\ttriggerEditTitle() {\n\t\t\tthis.editingTitle = TITLE_EDITING_STATE.PENDING\n\t\t\tthis.$store.dispatch('toggleShortcutLock', true)\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst sel = window.getSelection()\n\t\t\t\tsel.selectAllChildren(this.$refs.titleContentEditable)\n\t\t\t\tsel.collapseToEnd()\n\t\t\t\tthis.editingTitle = TITLE_EDITING_STATE.ON\n\t\t\t}, 0)\n\t\t},\n\t\tonTitleBlur(e) {\n\t\t\tconst value = e.target.innerText.trim().replace(/\\n$/, '')\n\t\t\tif (this.editingTitle !== TITLE_EDITING_STATE.ON || value === '') {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.editingTitle = TITLE_EDITING_STATE.OFF\n\t\t\tif (value !== this.card.title) {\n\t\t\t\tthis.$store.dispatch('updateCardTitle', {\n\t\t\t\t\t...this.card,\n\t\t\t\t\ttitle: value,\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.$store.dispatch('toggleShortcutLock', false)\n\t\t},\n\t\tonTitleFocus() {\n\t\t\tthis.$store.dispatch('toggleShortcutLock', true)\n\t\t},\n\t\thandleCardKeyboardShortcut(key) {\n\t\t\tif (OCP.Accessibility.disableKeyboardShortcuts()) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (!this.canEdit || this.$store.state.shortcutLock || key.shiftKey || key.ctrlKey || key.altKey || key.metaKey) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tswitch (key.code) {\n\t\t\tcase 'KeyE':\n\t\t\t\tthis.triggerEditTitle()\n\t\t\t\tbreak\n\t\t\tcase 'KeyA':\n\t\t\t\tthis.$store.dispatch('archiveUnarchiveCard', { ...this.card, archived: !this.card.archived })\n\t\t\t\tbreak\n\t\t\tcase 'KeyO':\n\t\t\t\tthis.$store.dispatch('changeCardDoneStatus', { ...this.card, done: !this.card.done })\n\t\t\t\tbreak\n\t\t\tcase 'KeyM':\n\t\t\t\tthis.$el.querySelector('button.action-item__menutoggle')?.click()\n\t\t\t\tbreak\n\t\t\tcase 'Enter':\n\t\t\tcase 'Space':\n\t\t\t\tthis.openCard().then(() => document.getElementById('app-sidebar-vue')?.focus())\n\t\t\t\tbreak\n\t\t\tcase 'KeyS':\n\t\t\t\tthis.toggleSelfAsignment()\n\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t\tapplyLabelFilter(label) {\n\t\t\tif (this.dragging) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.$nextTick(() => this.$store.dispatch('toggleFilter', { tags: [label.id] }))\n\t\t},\n\t\ttoggleSelfAsignment() {\n\t\t\tconst isAssigned = this.card.assignedUsers.find(\n\t\t\t\t(item) => item.type === 0 && item.participant.uid === getCurrentUser()?.uid,\n\t\t\t)\n\t\t\tthis.$store.dispatch(isAssigned ? 'removeUserFromCard' : 'assignCardToUser', {\n\t\t\t\tcard: this.card,\n\t\t\t\tassignee: {\n\t\t\t\t\tuserId: getCurrentUser()?.uid,\n\t\t\t\t\ttype: 0,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tscrollIntoView() {\n\t\t\tthis.$el.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' })\n\t\t\tthis.focus()\n\t\t\tthis.highlight = true\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.highlight = false\n\t\t\t}, 2000)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t@import './../../css/animations';\n\t@import './../../css/variables';\n\n\t@mixin dark-card {\n\t\tborder: 2px solid var(--color-border-dark);\n\t\tbox-shadow: none;\n\t}\n\n\t.card {\n\t\ttransition: border 0.1s ease-in-out;\n\t\tborder-radius: var(--border-radius-large);\n\t\tfont-size: 100%;\n\t\tbackground-color: var(--color-main-background);\n\t\tmargin-bottom: $card-spacing;\n\t\tpadding: var(--default-grid-baseline) $card-padding;\n\t\tborder: 2px solid var(--color-border-dark);\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\t&:deep(*:not(.dragDisabled)) {\n            cursor: pointer;\n        }\n\n\t\t&.current-card {\n\t\t\tborder: 2px solid var(--color-primary-element);\n\t\t}\n\n\t\t&:focus, &:focus-visible, &:focus-within {\n\t\t\toutline: none;\n\t\t\tborder: 2px solid var(--color-border-maxcontrast);\n\t\t\t&.current-card {\n\t\t\t\tborder: 2px solid var(--color-primary-element);\n\t\t\t}\n\t\t}\n\n\t\t.card-upper {\n\t\t\tdisplay: flex;\n\t\t\th4 {\n\t\t\t\tfont-weight: normal;\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: var(--default-grid-baseline);\n\t\t\t\tflex-grow: 1;\n\t\t\t\tfont-size: 100%;\n\t\t\t\toverflow: hidden;\n\t\t\t\tword-wrap: break-word;\n\t\t\t\tpadding-left: 4px;\n\t\t\t\talign-self: center;\n\n\t\t\t\t:deep(a) {\n\t\t\t\t\ttext-decoration: underline;\n\t\t\t\t}\n\n\t\t\t\t&.editable {\n\t\t\t\t\tspan {\n\t\t\t\t\t\tcursor: text;\n\t\t\t\t\t\tpadding-right: 8px;\n\t\t\t\t\t\tpadding-top: 3px;\n\t\t\t\t\t\tpadding-bottom: 3px;\n\n\t\t\t\t\t\t&:focus, &:focus-visible {\n\t\t\t\t\t\t\toutline: none;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t&:focus-within {\n\t\t\t\t\t\toutline: 2px solid var(--color-border-dark);\n\t\t\t\t\t\tborder-radius: 3px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t.card-menu {\n\t\t\t\theight: var(--default-clickable-area);\n\t\t\t\talign-self: end;\n\t\t\t}\n\t\t}\n\n\t\t/* stylelint-disable-next-line no-invalid-position-at-import-rule */\n\t\t@import './../../css/labels';\n\n\t\t.card-controls {\n\t\t\tdisplay: flex;\n\t\t}\n\t\t&.card__editable .card-controls {\n\t\t\tmargin-right: 0;\n\t\t}\n\t\t&.card__archived {\n\t\t\tbackground-color: var(--color-background-dark);\n\t\t}\n\t\t@keyframes highlight {\n\t\t\t0% {\n\t\t\t\tborder-color: var(--color-border-dark);\n\t\t\t}\n\t\t\t20% {\n\t\t\t\tborder-color: var(--color-primary-element);\n\t\t\t}\n\t\t\t70% {\n\t\t\t\tborder-color: var(--color-primary-element);\n\t\t\t}\n\t\t\t100% {\n\t\t\t\tborder-color: var(--color-border-dark);\n\t\t\t}\n\t\t}\n\t\t&.card__highlight {\n\t\t\tanimation: highlight 2s;\n\t\t}\n\t\t.card-labels {\n\t\t\tdisplay: flex;\n\t\t\talign-items: end;\n\t\t\tpadding-left: var(--default-grid-baseline);\n\t\t\tpadding-top: var(--default-grid-baseline);\n\n\t\t\t.labels {\n\t\t\t\tflex-wrap: wrap;\n\t\t\t\talign-self: flex-start;\n\t\t\t}\n\t\t}\n\t}\n\n\t.right {\n\t\tdisplay: flex;\n\t\talign-items: flex-start;\n\t}\n\n\t.card-related {\n\t\tdisplay: flex;\n\t\tpadding: 12px;\n\t\tpadding-bottom: 0px;\n\t\tcolor: var(--color-text-maxcontrast);\n\n\t\t.board-bullet {\n\t\t\tdisplay: inline-block;\n\t\t\twidth: 12px;\n\t\t\theight: 12px;\n\t\t\tborder: none;\n\t\t\tborder-radius: 50%;\n\t\t\tbackground-color: transparent;\n\t\t\tmargin-top: 4px;\n\t\t\tmargin-right: 4px;\n\t\t}\n\t}\n\n\t.compact {\n\t\tmin-height: var(--default-clickable-area);\n\n\t\t.duedate {\n\t\t\tmargin-right: 0;\n\t\t\tdisplay: flex;\n\t\t\theight: 32px;\n\t\t\twidth: 32px;\n\t\t}\n\t\t&.has-labels {\n\t\t\tpadding-bottom: $card-padding;\n\t\t}\n\t\t.labels {\n\t\t\theight: 6px;\n\t\t\tmargin-top: -7px;\n\t\t\tmargin-bottom: 3px;\n\t\t}\n\t\t.labels li {\n\t\t\twidth: 30px;\n\t\t\theight: 6px;\n\t\t\tfont-size: 0;\n\t\t\tcolor: transparent;\n\t\t}\n\t\t.card-menu {\n\t\t\talign-self: start !important;\n\t\t}\n\t}\n\n\t@media (prefers-color-scheme: dark) {\n\t\t.card {\n\t\t\t@include dark-card;\n\t\t}\n\t}\n\n\t@media print {\n\t\t.card-menu {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardItem.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardItem.vue?vue&type=style&index=0&id=703e00a8&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardItem.vue?vue&type=style&index=0&id=703e00a8&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardItem.vue?vue&type=template&id=703e00a8&scoped=true\"\nimport script from \"./CardItem.vue?vue&type=script&lang=js\"\nexport * from \"./CardItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardItem.vue?vue&type=style&index=0&id=703e00a8&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"703e00a8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.card)?_c('AttachmentDragAndDrop',{staticClass:\"drop-upload--card\",attrs:{\"card-id\":_vm.card.id}},[_c('div',{ref:`card${_vm.card.id}`,staticClass:\"card\",class:{'compact': _vm.compactMode, 'current-card': _vm.currentCard, 'has-labels': _vm.card.labels && _vm.card.labels.length > 0, 'card__editable': _vm.canEdit, 'card__archived': _vm.card.archived, 'card__highlight': _vm.highlight},attrs:{\"tag\":\"div\",\"tabindex\":0},on:{\"click\":_vm.openCard,\"keyup\":function($event){if($event.target !== $event.currentTarget)return null;return _vm.handleCardKeyboardShortcut.apply(null, arguments)},\"mouseenter\":function($event){return _vm.focus(_vm.card.id)}}},[(_vm.standalone)?_c('div',{staticClass:\"card-related\"},[_c('div',{staticClass:\"board-bullet\",style:({backgroundColor: '#' + _vm.board.color}),attrs:{\"dir\":\"auto\"}}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.board.title)+\"  \"+_vm._s(_vm.stack.title)+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showCardCover)?_c('CardCover',{attrs:{\"card-id\":_vm.card.id}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"card-upper\"},[(_vm.editingTitle === 0)?_c('h4',{key:\"title-view\",attrs:{\"dir\":\"auto\"}},[_c('span',{staticClass:\"dragDisabled\",attrs:{\"contenteditable\":\"false\"}},[_vm._v(_vm._s(_vm.displayTitle))])]):_vm._e(),_vm._v(\" \"),(_vm.editingTitle >= 1)?_c('h4',{key:\"title-edit\",staticClass:\"editable dragDisabled\",attrs:{\"dir\":\"auto\",\"aria-label\":_vm.t('deck', 'Edit card title')}},[_c('span',{ref:\"titleContentEditable\",attrs:{\"tabindex\":\"0\",\"contenteditable\":\"true\",\"role\":\"textbox\"},on:{\"focus\":_vm.onTitleFocus,\"blur\":_vm.onTitleBlur,\"click\":function($event){$event.stopPropagation();},\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.onTitleBlur.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.onTitleBlur.apply(null, arguments)},function($event){$event.stopPropagation();}]}},[_vm._v(_vm._s(_vm.card.title))])]):_vm._e(),_vm._v(\" \"),(_vm.compactMode)?_c('DueDate',{attrs:{\"card\":_vm.card}}):_vm._e(),_vm._v(\" \"),(_vm.showMenuAtTitle)?_c('CardMenu',{staticClass:\"right card-menu\",attrs:{\"card\":_vm.card},on:{\"edit-title\":_vm.triggerEditTitle}}):_vm._e()],1),_vm._v(\" \"),(_vm.hasLabels)?_c('div',{staticClass:\"card-labels\"},[(_vm.card.labels && _vm.card.labels.length)?_c('transition-group',{staticClass:\"labels\",attrs:{\"name\":\"zoom\",\"tag\":\"ul\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.openCard.apply(null, arguments)}}},_vm._l((_vm.labelsSorted),function(label){return _c('li',{key:label?.id ?? label?.title,style:(_vm.labelStyle(label))},[_c('span',{on:{\"click\":function($event){$event.stopPropagation();return _vm.applyLabelFilter(label)}}},[_vm._v(_vm._s(label.title))])])}),0):_vm._e(),_vm._v(\" \"),(_vm.showMenuAtLabels)?_c('CardMenu',{staticClass:\"right\",attrs:{\"card\":_vm.card},on:{\"edit-title\":_vm.triggerEditTitle}}):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.hasBadges)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.compactMode),expression:\"!compactMode\"}],staticClass:\"card-controls compact-item\",on:{\"click\":_vm.openCard}},[_c('CardBadges',{attrs:{\"card\":_vm.card}},[(_vm.showMenuAtBadges)?_c('CardMenu',{staticClass:\"right\",attrs:{\"card\":_vm.card},on:{\"edit-title\":_vm.triggerEditTitle}}):_vm._e()],1)],1):_vm._e()],1)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n\t- SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n\t- SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"stack\" :data-cy-stack=\"stack.title\">\n\t\t<div v-click-outside=\"stopCardCreation\"\n\t\t\tclass=\"stack__header\"\n\t\t\t:class=\"{'stack__header--add': showAddCard}\"\n\t\t\t:aria-label=\"stack.title\">\n\t\t\t<transition name=\"fade\" mode=\"out-in\">\n\t\t\t\t<h3 v-if=\"!canManage || isArchived\" tabindex=\"0\">\n\t\t\t\t\t{{ stack.title }}\n\t\t\t\t</h3>\n\t\t\t\t<h3 v-else-if=\"!editing\"\n\t\t\t\t\ttitle=\"stack.title\"\n\t\t\t\t\tdir=\"auto\"\n\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t:aria-label=\"stack.title\"\n\t\t\t\t\tclass=\"stack__title\"\n\t\t\t\t\t@click=\"startEditing(stack)\"\n\t\t\t\t\t@keydown.enter=\"startEditing(stack)\">\n\t\t\t\t\t{{ stack.title }}\n\t\t\t\t</h3>\n\t\t\t\t<form v-else-if=\"editing\"\n\t\t\t\t\tv-click-outside=\"cancelEdit\"\n\t\t\t\t\tdata-cy=\"editStackTitleForm\"\n\t\t\t\t\t@submit.prevent=\"finishedEdit(stack)\"\n\t\t\t\t\t@keyup.esc=\"cancelEdit\">\n\t\t\t\t\t<input v-model=\"copiedStack.title\"\n\t\t\t\t\t\tv-focus\n\t\t\t\t\t\tdir=\"auto\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\trequired=\"required\">\n\t\t\t\t\t<input title=\"t('deck', 'Edit list title')\"\n\t\t\t\t\t\tclass=\"icon-confirm\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tvalue=\"\">\n\t\t\t\t</form>\n\t\t\t</transition>\n\t\t\t<NcActions v-if=\"canManage && !isArchived\" :force-menu=\"true\">\n\t\t\t\t<NcActionButton v-if=\"!showArchived\" icon=\"icon-archive\" @click=\"modalArchivAllCardsShow=true\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ArchiveIcon decorative />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('deck', 'Archive all cards') }}\n\t\t\t\t</NcActionButton>\n\t\t\t\t<NcActionButton v-if=\"showArchived\" @click=\"modalArchivAllCardsShow=true\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ArchiveIcon decorative />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('deck', 'Unarchive all cards') }}\n\t\t\t\t</NcActionButton>\n\t\t\t\t<NcActionButton icon=\"icon-delete\" @click=\"deleteStack(stack)\">\n\t\t\t\t\t{{ t('deck', 'Delete list') }}\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t\t<NcActions v-if=\"canEdit && !showArchived && !isArchived\">\n\t\t\t\t<NcActionButton data-cy=\"action:add-card\" @click.stop=\"showAddCard=true\">\n\t\t\t\t\t{{ t('deck', 'Add card') }}\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<CardPlusOutline :size=\"20\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t</div>\n\n\t\t<NcModal v-if=\"modalArchivAllCardsShow\" @close=\"modalArchivAllCardsShow=false\">\n\t\t\t<div class=\"modal__content\">\n\t\t\t\t<h3 v-if=\"!showArchived\">\n\t\t\t\t\t{{ t('deck', 'Archive all cards in this list') }}\n\t\t\t\t</h3>\n\t\t\t\t<h3 v-else>\n\t\t\t\t\t{{ t('deck', 'Unarchive all cards in this list') }}\n\t\t\t\t</h3>\n\n\t\t\t\t<progress :value=\"stackTransfer.current\" :max=\"stackTransfer.total\" />\n\t\t\t\t<button v-if=\"!showArchived\" class=\"primary\" @click=\"setArchivedToAllCardsFromStack(stack, !showArchived)\">\n\t\t\t\t\t{{ t('deck', 'Archive all cards') }}\n\t\t\t\t</button>\n\t\t\t\t<button v-else class=\"primary\" @click=\"setArchivedToAllCardsFromStack(stack, !showArchived)\">\n\t\t\t\t\t{{ t('deck', 'Unarchive all cards') }}\n\t\t\t\t</button>\n\t\t\t\t<button @click=\"modalArchivAllCardsShow=false\">\n\t\t\t\t\t{{ t('deck', 'Cancel') }}\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</NcModal>\n\n\t\t<Container :get-child-payload=\"payloadForCard(stack.id)\"\n\t\t\tgroup-name=\"stack\"\n\t\t\tdata-click-closes-sidebar=\"true\"\n\t\t\tnon-drag-area-selector=\".dragDisabled\"\n\t\t\t:drag-handle-selector=\"dragHandleSelector\"\n\t\t\tdata-dragscroll-enabled\n\t\t\t@should-accept-drop=\"canEdit\"\n\t\t\t@drag-start=\"draggingCard = true\"\n\t\t\t@drag-end=\"draggingCard = false\"\n\t\t\t@drop=\"($event) => onDropCard(stack.id, $event)\">\n\t\t\t<Draggable v-for=\"card in cardsByStack\" :key=\"card.id\">\n\t\t\t\t<transition :appear=\"animate && !card.animated && (card.animated=true)\"\n\t\t\t\t\t:appear-class=\"'zoom-appear-class'\"\n\t\t\t\t\t:appear-active-class=\"'zoom-appear-active-class'\">\n\t\t\t\t\t<CardItem :id=\"card.id\" ref=\"card\" :dragging=\"draggingCard\" />\n\t\t\t\t</transition>\n\t\t\t</Draggable>\n\t\t</Container>\n\n\t\t<transition name=\"slide-bottom\" appear>\n\t\t\t<div v-show=\"showAddCard\" class=\"stack__card-add\">\n\t\t\t\t<form :class=\"{ 'icon-loading-small': stateCardCreating }\"\n\t\t\t\t\t@submit.prevent.stop=\"clickAddCard()\">\n\t\t\t\t\t<label for=\"new-stack-input-main\" class=\"hidden-visually\">{{ t('deck', 'Add a new card') }}</label>\n\t\t\t\t\t<input id=\"new-stack-input-main\"\n\t\t\t\t\t\tref=\"newCardInput\"\n\t\t\t\t\t\tv-model=\"newCardTitle\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclass=\"no-close\"\n\t\t\t\t\t\t:disabled=\"stateCardCreating\"\n\t\t\t\t\t\t:placeholder=\"t('deck', 'Card name')\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tpattern=\".*\\S+.*\"\n\t\t\t\t\t\t@focus=\"onCreateCardFocus\"\n\t\t\t\t\t\t@keydown.esc=\"stopCardCreation\">\n\t\t\t\t\t<input v-show=\"!stateCardCreating\"\n\t\t\t\t\t\tclass=\"icon-confirm\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tvalue=\"\">\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</transition>\n\t</div>\n</template>\n\n<script>\nimport ClickOutside from 'vue-click-outside'\nimport { mapGetters, mapState } from 'vuex'\nimport { Container, Draggable } from 'vue-smooth-dnd'\nimport ArchiveIcon from 'vue-material-design-icons/ArchiveOutline.vue'\nimport CardPlusOutline from 'vue-material-design-icons/CardPlusOutline.vue'\nimport { NcActions, NcActionButton, NcModal } from '@nextcloud/vue'\nimport { showError, showUndo } from '@nextcloud/dialogs'\n\nimport CardItem from '../cards/CardItem.vue'\n\nimport '@nextcloud/dialogs/style.css'\n\nexport default {\n\tname: 'Stack',\n\tcomponents: {\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tCardItem,\n\t\tContainer,\n\t\tDraggable,\n\t\tNcModal,\n\t\tArchiveIcon,\n\t\tCardPlusOutline,\n\t},\n\tdirectives: {\n\t\tClickOutside,\n\t},\n\tprops: {\n\t\tdragging: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tstack: {\n\t\t\ttype: Object,\n\t\t\tdefault: undefined,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tediting: false,\n\t\t\tdraggingCard: false,\n\t\t\tcopiedStack: '',\n\t\t\tnewCardTitle: '',\n\t\t\tshowAddCard: false,\n\t\t\tstateCardCreating: false,\n\t\t\tanimate: false,\n\t\t\tmodalArchivAllCardsShow: false,\n\t\t\tstackTransfer: {\n\t\t\t\ttotal: 0,\n\t\t\t\tcurrent: null,\n\t\t\t},\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'canManage',\n\t\t\t'canEdit',\n\t\t\t'isArchived',\n\t\t]),\n\t\t...mapState({\n\t\t\tshowArchived: state => state.showArchived,\n\t\t}),\n\t\tcardsByStack() {\n\t\t\treturn this.$store.getters.cardsByStack(this.stack.id).filter((card) => {\n\t\t\t\tif (this.showArchived) {\n\t\t\t\t\treturn card.archived\n\t\t\t\t}\n\t\t\t\treturn !card.archived\n\t\t\t})\n\t\t},\n\t\tdragHandleSelector() {\n\t\t\treturn this.canEdit && !this.showArchived ? null : '.no-drag'\n\t\t},\n\t\tcardDetailsInModal: {\n\t\t\tget() {\n\t\t\t\treturn this.$store.getters.config('cardDetailsInModal')\n\t\t\t},\n\t\t\tset(newValue) {\n\t\t\t\tthis.$store.dispatch('setConfig', { cardDetailsInModal: newValue })\n\t\t\t},\n\t\t},\n\t},\n\twatch: {\n\t\tshowAddCard(newValue) {\n\t\t\tif (!newValue) {\n\t\t\t\tthis.$store.dispatch('toggleShortcutLock', false)\n\t\t\t} else {\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.$refs.newCardInput.focus()\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.setupAutoscrollOnDrag()\n\t},\n\n\tmethods: {\n\t\tstopCardCreation(e) {\n\t\t\t// For some reason the submit event triggers a MouseEvent that is bubbling to the outside\n\t\t\t// so we have to ignore it\n\t\t\te.stopPropagation()\n\t\t\tif (this.$refs.newCardInput && this.$refs.newCardInput.parentElement === e.target.parentElement) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tthis.showAddCard = false\n\t\t\treturn false\n\t\t},\n\t\tasync onDropCard(stackId, event) {\n\t\t\tconst { addedIndex, removedIndex, payload } = event\n\t\t\tconst card = Object.assign({}, payload)\n\t\t\tif (this.stack.id === stackId) {\n\t\t\t\tif (addedIndex !== null && removedIndex === null) {\n\t\t\t\t\t// move card to new stack\n\t\t\t\t\tcard.stackId = stackId\n\t\t\t\t\tcard.order = addedIndex\n\t\t\t\t\tconsole.debug('move card to stack', card.stackId, card.order)\n\t\t\t\t\tawait this.$store.dispatch('reorderCard', card)\n\t\t\t\t}\n\t\t\t\tif (addedIndex !== null && removedIndex !== null) {\n\t\t\t\t\tcard.order = addedIndex\n\t\t\t\t\tconsole.debug('move card in stack', card.stackId, card.order)\n\t\t\t\t\tawait this.$store.dispatch('reorderCard', card)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tpayloadForCard(stackId) {\n\t\t\treturn index => {\n\t\t\t\treturn this.cardsByStack[index]\n\t\t\t}\n\t\t},\n\t\tdeleteStack(stack) {\n\t\t\tthis.$store.dispatch('deleteStack', stack)\n\t\t\tshowUndo(t('deck', 'List deleted'), () => this.$store.dispatch('stackUndoDelete', stack))\n\t\t},\n\t\tsetArchivedToAllCardsFromStack(stack, isArchived) {\n\n\t\t\tthis.stackTransfer.total = this.cardsByStack.length\n\t\t\tthis.cardsByStack.forEach((card, index) => {\n\t\t\t\tthis.stackTransfer.current = index\n\t\t\t\tthis.$store.dispatch('archiveUnarchiveCard', { ...card, archived: isArchived })\n\t\t\t})\n\t\t\tthis.modalArchivAllCardsShow = false\n\t\t},\n\t\tstartEditing(stack) {\n\t\t\tif (this.dragging) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.copiedStack = Object.assign({}, stack)\n\t\t\tthis.editing = true\n\t\t},\n\t\tfinishedEdit(stack) {\n\t\t\tif (this.copiedStack.title !== stack.title) {\n\t\t\t\tthis.$store.dispatch('updateStack', this.copiedStack)\n\t\t\t}\n\t\t\tthis.editing = false\n\t\t},\n\t\tcancelEdit() {\n\t\t\tthis.editing = false\n\t\t},\n\t\tasync clickAddCard() {\n\t\t\tthis.stateCardCreating = true\n\t\t\ttry {\n\t\t\t\tthis.animate = true\n\t\t\t\tconst newCard = await this.$store.dispatch('addCard', {\n\t\t\t\t\ttitle: this.newCardTitle,\n\t\t\t\t\tstackId: this.stack.id,\n\t\t\t\t\tboardId: this.stack.boardId,\n\t\t\t\t})\n\t\t\t\tthis.newCardTitle = ''\n\t\t\t\tthis.showAddCard = true\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.$refs.newCardInput.focus()\n\t\t\t\t\tthis.animate = false\n\t\t\t\t\tthis.$refs.card[(this.$refs.card.length - 1)].scrollIntoView()\n\t\t\t\t})\n\t\t\t\tif (!this.cardDetailsInModal) {\n\t\t\t\t\tthis.$router.push({ name: 'card', params: { cardId: newCard.id } })\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tshowError('Could not create card: ' + e.response.data.message)\n\t\t\t} finally {\n\t\t\t\tthis.stateCardCreating = false\n\t\t\t}\n\t\t},\n\t\tonCreateCardFocus() {\n\t\t\tthis.$store.dispatch('toggleShortcutLock', true)\n\t\t},\n\t\tsetupAutoscrollOnDrag() {\n\t\t\tlet timer\n\t\t\tconst autoscroll = (event) => {\n\t\t\t\tconst viewportX = event.clientX\n\t\t\t\tconst boardElement = document.querySelector('.board')\n\t\t\t\tconst viewportWidth = boardElement.clientWidth\n\t\t\t\tconst offset = viewportWidth - viewportX\n\t\t\t\tconst scrollMultiplier = 10\n\t\t\t\tconst scrollBoundary = window.innerWidth * 0.15\n\n\t\t\t\tif (offset < 100) {\n\t\t\t\t\tconst scrollToX = boardElement.scrollLeft + scrollMultiplier * (1 - offset / scrollBoundary)\n\t\t\t\t\tboardElement.scrollTo(scrollToX, boardElement.scrollTop)\n\t\t\t\t}\n\n\t\t\t\tif (boardElement.scrollLeft > 0 && viewportX < scrollBoundary) {\n\t\t\t\t\tconst scrollToX = boardElement.scrollLeft - scrollMultiplier * (1 - viewportX / scrollBoundary)\n\t\t\t\t\tboardElement.scrollTo(scrollToX, boardElement.scrollTop)\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.addEventListener('mousemove', (e) => {\n\t\t\t\tif (!this.draggingCard) {\n\t\t\t\t\ttimer && clearInterval(timer)\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tclearInterval(timer)\n\t\t\t\ttimer = window.setInterval(() => autoscroll(e), 25)\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n\t@use 'sass:math';\n\n\t@import './../../css/variables';\n\n\t.stack {\n\t\twidth: $stack-width + $stack-spacing * 3;\n\t}\n\n\t.stack__header {\n\t\tdisplay: flex;\n\t\tposition: sticky;\n\t\ttop: 0;\n\t\tz-index: 100;\n\t\tpadding-left: $card-spacing;\n\t\tpadding-right: $card-spacing;\n\t\tmargin: 6px;\n\t\tmargin-top: 0;\n\t\tcursor: grab;\n\t\tbackground-color: var(--color-main-background);\n\n\t\t// Smooth fade out of the cards at the top\n\t\t&:before {\n\t\t\tcontent: ' ';\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\twidth: calc(100% - 16px);\n\t\t\theight: 20px;\n\t\t\ttop: 30px;\n\t\t\tleft: 0px;\n\t\t\tz-index: 99;\n\t\t\ttransition: top var(--animation-slow);\n\n\t\t\tbackground-image: linear-gradient(180deg, var(--color-main-background) 3px, rgba(255, 255, 255, 0) 100%);\n\t\t\tbody.theme--dark & {\n\t\t\t\tbackground-image: linear-gradient(180deg, var(--color-main-background) 3px, rgba(0, 0, 0, 0) 100%);\n\t\t\t}\n\t\t}\n\n\t\t& > * {\n\t\t\tposition: relative;\n\t\t\tz-index: 100;\n\t\t}\n\n\t\th3, form {\n\t\t\tflex-grow: 1;\n\t\t\tdisplay: flex;\n\t\t\tcursor: inherit;\n\t\t\tmargin: 0;\n\n\t\t\tinput[type=text] {\n\t\t\t\tflex-grow: 1;\n\t\t\t}\n\t\t}\n\n\t\th3.stack__title {\n\t\t\twhite-space: nowrap;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\tmax-width: calc($stack-width - 60px);\n\t\t\tborder-radius: 3px;\n\t\t\tpadding: 4px 4px;\n\t\t\tfont-size: var(--default-font-size);\n\n\t\t\t&:focus-visible {\n\t\t\t\toutline: 2px solid var(--color-border-dark);\n\t\t\t\tborder-radius: 3px;\n\t\t\t}\n\t\t}\n\n\t\tform {\n\t\t\tmargin: -4px;\n\t\t\tinput {\n\t\t\t\tfont-weight: bold;\n\t\t\t\tpadding: 0 6px;\n\t\t\t}\n\t\t\tinput[type=\"submit\"] {\n\t\t\t\tborder-style: solid;\n\t\t\t\tborder-left-style: none;\n\t\t\t}\n\t\t}\n\n\t\t:deep {\n\t\t\t.action-item,\n\t\t\t.v-popper--theme-dropdown {\n\t\t\t\tdisplay: flex;\n\t\t\t}\n\t\t}\n\t}\n\n\t.stack__card-add {\n\t\tflex-shrink: 0;\n\t\tz-index: 100;\n\t\tdisplay: flex;\n\t\tmargin-bottom: 5px;\n\t\tpadding-top: var(--default-grid-baseline);\n\t\tbackground-color: var(--color-main-background);\n\n\t\tform {\n\t\t\tdisplay: flex;\n\t\t\tmargin-left: $stack-spacing;\n\t\t\tmargin-right: $stack-spacing;\n\t\t\twidth: 100%;\n\t\t\tborder: 2px solid var(--color-border-maxcontrast);\n\t\t\tborder-radius: var(--border-radius-large);\n\t\t\toverflow: hidden;\n\t\t\tpadding: 2px;\n\t\t}\n\n\t\t&.icon-loading-small:after,\n\t\t&.icon-loading-small-dark:after {\n\t\t\tmargin-left: calc(50% - 25px);\n\t\t}\n\n\t\tinput[type=text] {\n\t\t\tflex-grow: 1;\n\t\t\tpadding-right: 16px;\n\t\t}\n\n\t\tinput {\n\t\t\tborder: none;\n\t\t\tmargin: 0;\n\t\t\tpadding: 4px;\n\t\t}\n\t}\n\n\t/**\n\t * Rules to handle scrolling behaviour are inherited from Board.vue\n\t */\n\n\t.slide-top-enter-active,\n\t.slide-top-leave-active {\n\t\ttransition: all 100ms ease;\n\t}\n\n\t.slide-top-enter, .slide-top-leave-to {\n\t\ttransform: translateY(-10px);\n\t\topacity: 0;\n\t}\n\n\t.slide-bottom-enter-active,\n\t.slide-bottom-leave-active {\n\t\ttransition: all 100ms ease;\n\t}\n\n\t.slide-bottom-enter, .slide-bottom-leave-to {\n\t\ttransform: translateY(20px);\n\t\topacity: 0;\n\t}\n\n\t.modal__content {\n\t\twidth: 25vw;\n\t\tmin-width: 250px;\n\t\tmin-height: 100px;\n\t\ttext-align: center;\n\t\tmargin: 20px 20px 20px 20px;\n\t}\n\n\t.modal__content button {\n\t\tfloat: right;\n\t}\n\n\tprogress {\n\t\tmargin-top: 3px;\n\t\tmargin-bottom: 30px;\n\t}\n\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stack.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stack.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stack.vue?vue&type=style&index=0&id=0ed0df77&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stack.vue?vue&type=style&index=0&id=0ed0df77&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Stack.vue?vue&type=template&id=0ed0df77&scoped=true\"\nimport script from \"./Stack.vue?vue&type=script&lang=js\"\nexport * from \"./Stack.vue?vue&type=script&lang=js\"\nimport style0 from \"./Stack.vue?vue&type=style&index=0&id=0ed0df77&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ed0df77\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"stack\",attrs:{\"data-cy-stack\":_vm.stack.title}},[_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.stopCardCreation),expression:\"stopCardCreation\"}],staticClass:\"stack__header\",class:{'stack__header--add': _vm.showAddCard},attrs:{\"aria-label\":_vm.stack.title}},[_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(!_vm.canManage || _vm.isArchived)?_c('h3',{attrs:{\"tabindex\":\"0\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.stack.title)+\"\\n\\t\\t\\t\")]):(!_vm.editing)?_c('h3',{staticClass:\"stack__title\",attrs:{\"title\":\"stack.title\",\"dir\":\"auto\",\"tabindex\":\"0\",\"aria-label\":_vm.stack.title},on:{\"click\":function($event){return _vm.startEditing(_vm.stack)},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.startEditing(_vm.stack)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.stack.title)+\"\\n\\t\\t\\t\")]):(_vm.editing)?_c('form',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.cancelEdit),expression:\"cancelEdit\"}],attrs:{\"data-cy\":\"editStackTitleForm\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.finishedEdit(_vm.stack)},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.cancelEdit.apply(null, arguments)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.copiedStack.title),expression:\"copiedStack.title\"},{name:\"focus\",rawName:\"v-focus\"}],attrs:{\"dir\":\"auto\",\"type\":\"text\",\"required\":\"required\"},domProps:{\"value\":(_vm.copiedStack.title)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.copiedStack, \"title\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"title\":\"t('deck', 'Edit list title')\",\"type\":\"submit\",\"value\":\"\"}})]):_vm._e()]),_vm._v(\" \"),(_vm.canManage && !_vm.isArchived)?_c('NcActions',{attrs:{\"force-menu\":true}},[(!_vm.showArchived)?_c('NcActionButton',{attrs:{\"icon\":\"icon-archive\"},on:{\"click\":function($event){_vm.modalArchivAllCardsShow=true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArchiveIcon',{attrs:{\"decorative\":\"\"}})]},proxy:true}],null,false,2570557878)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Archive all cards'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.showArchived)?_c('NcActionButton',{on:{\"click\":function($event){_vm.modalArchivAllCardsShow=true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArchiveIcon',{attrs:{\"decorative\":\"\"}})]},proxy:true}],null,false,2570557878)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Unarchive all cards'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('NcActionButton',{attrs:{\"icon\":\"icon-delete\"},on:{\"click\":function($event){return _vm.deleteStack(_vm.stack)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Delete list'))+\"\\n\\t\\t\\t\")])],1):_vm._e(),_vm._v(\" \"),(_vm.canEdit && !_vm.showArchived && !_vm.isArchived)?_c('NcActions',[_c('NcActionButton',{attrs:{\"data-cy\":\"action:add-card\"},on:{\"click\":function($event){$event.stopPropagation();_vm.showAddCard=true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CardPlusOutline',{attrs:{\"size\":20}})]},proxy:true}],null,false,487288838)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Add card'))+\"\\n\\t\\t\\t\\t\")])],1):_vm._e()],1),_vm._v(\" \"),(_vm.modalArchivAllCardsShow)?_c('NcModal',{on:{\"close\":function($event){_vm.modalArchivAllCardsShow=false}}},[_c('div',{staticClass:\"modal__content\"},[(!_vm.showArchived)?_c('h3',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Archive all cards in this list'))+\"\\n\\t\\t\\t\")]):_c('h3',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Unarchive all cards in this list'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('progress',{attrs:{\"max\":_vm.stackTransfer.total},domProps:{\"value\":_vm.stackTransfer.current}}),_vm._v(\" \"),(!_vm.showArchived)?_c('button',{staticClass:\"primary\",on:{\"click\":function($event){return _vm.setArchivedToAllCardsFromStack(_vm.stack, !_vm.showArchived)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Archive all cards'))+\"\\n\\t\\t\\t\")]):_c('button',{staticClass:\"primary\",on:{\"click\":function($event){return _vm.setArchivedToAllCardsFromStack(_vm.stack, !_vm.showArchived)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Unarchive all cards'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){_vm.modalArchivAllCardsShow=false}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Cancel'))+\"\\n\\t\\t\\t\")])])]):_vm._e(),_vm._v(\" \"),_c('Container',{attrs:{\"get-child-payload\":_vm.payloadForCard(_vm.stack.id),\"group-name\":\"stack\",\"data-click-closes-sidebar\":\"true\",\"non-drag-area-selector\":\".dragDisabled\",\"drag-handle-selector\":_vm.dragHandleSelector,\"data-dragscroll-enabled\":\"\"},on:{\"should-accept-drop\":_vm.canEdit,\"drag-start\":function($event){_vm.draggingCard = true},\"drag-end\":function($event){_vm.draggingCard = false},\"drop\":($event) => _vm.onDropCard(_vm.stack.id, $event)}},_vm._l((_vm.cardsByStack),function(card){return _c('Draggable',{key:card.id},[_c('transition',{attrs:{\"appear\":_vm.animate && !card.animated && (card.animated=true),\"appear-class\":'zoom-appear-class',\"appear-active-class\":'zoom-appear-active-class'}},[_c('CardItem',{ref:\"card\",refInFor:true,attrs:{\"id\":card.id,\"dragging\":_vm.draggingCard}})],1)],1)}),1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide-bottom\",\"appear\":\"\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAddCard),expression:\"showAddCard\"}],staticClass:\"stack__card-add\"},[_c('form',{class:{ 'icon-loading-small': _vm.stateCardCreating },on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.clickAddCard()}}},[_c('label',{staticClass:\"hidden-visually\",attrs:{\"for\":\"new-stack-input-main\"}},[_vm._v(_vm._s(_vm.t('deck', 'Add a new card')))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newCardTitle),expression:\"newCardTitle\"}],ref:\"newCardInput\",staticClass:\"no-close\",attrs:{\"id\":\"new-stack-input-main\",\"type\":\"text\",\"disabled\":_vm.stateCardCreating,\"placeholder\":_vm.t('deck', 'Card name'),\"required\":\"\",\"pattern\":\".*\\\\S+.*\"},domProps:{\"value\":(_vm.newCardTitle)},on:{\"focus\":_vm.onCreateCardFocus,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.stopCardCreation.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.newCardTitle=$event.target.value}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.stateCardCreating),expression:\"!stateCardCreating\"}],staticClass:\"icon-confirm\",attrs:{\"type\":\"submit\",\"value\":\"\"}})])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.searchQuery!=='')?_c('div',{staticClass:\"global-search\"},[_c('h2',[_c('NcRichText',{attrs:{\"text\":_vm.t('deck', 'Search for {searchQuery} in all boards'),\"arguments\":_vm.queryStringArgs}}),_vm._v(\" \"),(_vm.loading)?_c('div',{staticClass:\"icon-loading-small\"}):_vm._e()],1),_vm._v(\" \"),_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-close\"},on:{\"click\":function($event){return _vm.$store.commit('setSearchQuery', '')}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"search-wrapper\"},[(_vm.loading || _vm.filteredResults.length > 0)?_c('div',{staticClass:\"search-results\"},[_vm._l((_vm.filteredResults),function(card){return _c('CardItem',{key:card.id,attrs:{\"id\":card.id,\"standalone\":true}})}),_vm._v(\" \"),(_vm.loading)?_c('Placeholder'):_vm._e(),_vm._v(\" \"),_c('InfiniteLoading',{attrs:{\"identifier\":_vm.searchQuery},on:{\"infinite\":_vm.infiniteHandler}},[_c('div',{attrs:{\"slot\":\"spinner\"},slot:\"spinner\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'No results found'))+\"\\n\\t\\t\\t\\t\")])])],2):_c('div',[_c('p',[_vm._v(_vm._s(_vm.t('deck', 'No results found')))])])])],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div class=\"card--placeholder\">\n\t\t<svg class=\"card-placeholder__gradient\">\n\t\t\t<defs>\n\t\t\t\t<linearGradient id=\"card-placeholder__gradient\">\n\t\t\t\t\t<stop offset=\"0%\" :stop-color=\"light\">\n\t\t\t\t\t\t<animate attributeName=\"stop-color\"\n\t\t\t\t\t\t\t:values=\"`${light}; ${light}; ${dark}; ${dark}; ${light}`\"\n\t\t\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\t\t\trepeatCount=\"indefinite\" />\n\t\t\t\t\t</stop>\n\t\t\t\t\t<stop offset=\"100%\" :stop-color=\"dark\">\n\t\t\t\t\t\t<animate attributeName=\"stop-color\"\n\t\t\t\t\t\t\t:values=\"`${dark}; ${light}; ${light}; ${dark}; ${dark}`\"\n\t\t\t\t\t\t\tdur=\"2s\"\n\t\t\t\t\t\t\trepeatCount=\"indefinite\" />\n\t\t\t\t\t</stop>\n\t\t\t\t</linearGradient>\n\t\t\t</defs>\n\t\t</svg>\n\t\t<svg class=\"card-placeholder__placeholder\"\n\t\t\t:class=\"{ 'standalone': standalone }\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tfill=\"url(#card-placeholder__gradient)\">\n\t\t\t<rect class=\"card-placeholder__placeholder-line-header\" :style=\"{width: `calc(${randWidth()}%)`}\" />\n\t\t\t<rect class=\"card-placeholder__placeholder-line-one\" />\n\t\t\t<rect class=\"card-placeholder__placeholder-line-two\" :style=\"{width: `calc(${randWidth()}%)`}\" />\n\t\t</svg>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'Placeholder',\n\tdata() {\n\t\treturn {\n\t\t\tlight: null,\n\t\t\tdark: null,\n\t\t\tstandalone: true,\n\t\t}\n\t},\n\tmounted() {\n\t\tconst styles = getComputedStyle(document.documentElement)\n\t\tthis.dark = styles.getPropertyValue('--color-placeholder-dark')\n\t\tthis.light = styles.getPropertyValue('--color-placeholder-light')\n\t},\n\n\tmethods: {\n\t\trandWidth() {\n\t\t\treturn Math.floor(Math.random() * 20) + 40\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../css/variables';\n$clickable-area: var(--default-clickable-area);\n\n.card--placeholder {\n\twidth: $stack-width;\n\tmargin-right: $stack-spacing;\n\tpadding: $card-padding;\n\ttransition: box-shadow 0.1s ease-in-out;\n\tbox-shadow: 0 0 2px 0 var(--color-box-shadow);\n\tborder-radius: var(--border-radius-large);\n\tfont-size: 100%;\n\tmargin-bottom: $card-spacing;\n\theight: 100px;\n}\n\n.card-placeholder__gradient {\n\tposition: fixed;\n\theight: 0;\n\twidth: 0;\n\tz-index: -1;\n}\n\n.card-placeholder__placeholder {\n\twidth: 100%;\n\t&-line-header,\n\t&-line-one,\n\t&-line-two {\n\t\twidth: 100%;\n\t\theight: 1em;\n\t\tx: 0;\n\t}\n\t&-line-header {\n\t\tvisibility: hidden;\n\t}\n\t&-line-one {\n\t\ty: 5px;\n\t}\n\n\t&-line-two {\n\t\ty: 25px;\n\t}\n\n\t&.standalone {\n\t\t.card-placeholder__placeholder-line-header {\n\t\t\tvisibility: visible;\n\t\t\ty: 5px;\n\t\t}\n\t\t.card-placeholder__placeholder-line-one {\n\t\t\ty: 40px;\n\t\t}\n\n\t\t.card-placeholder__placeholder-line-two {\n\t\t\ty: 60px;\n\t\t}\n\t}\n}\n\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Placeholder.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Placeholder.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Placeholder.vue?vue&type=style&index=0&id=2ec8f4d4&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Placeholder.vue?vue&type=style&index=0&id=2ec8f4d4&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Placeholder.vue?vue&type=template&id=2ec8f4d4&scoped=true\"\nimport script from \"./Placeholder.vue?vue&type=script&lang=js\"\nexport * from \"./Placeholder.vue?vue&type=script&lang=js\"\nimport style0 from \"./Placeholder.vue?vue&type=style&index=0&id=2ec8f4d4&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ec8f4d4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card--placeholder\"},[_c('svg',{staticClass:\"card-placeholder__gradient\"},[_c('defs',[_c('linearGradient',{attrs:{\"id\":\"card-placeholder__gradient\"}},[_c('stop',{attrs:{\"offset\":\"0%\",\"stop-color\":_vm.light}},[_c('animate',{attrs:{\"attributeName\":\"stop-color\",\"values\":`${_vm.light}; ${_vm.light}; ${_vm.dark}; ${_vm.dark}; ${_vm.light}`,\"dur\":\"2s\",\"repeatCount\":\"indefinite\"}})]),_vm._v(\" \"),_c('stop',{attrs:{\"offset\":\"100%\",\"stop-color\":_vm.dark}},[_c('animate',{attrs:{\"attributeName\":\"stop-color\",\"values\":`${_vm.dark}; ${_vm.light}; ${_vm.light}; ${_vm.dark}; ${_vm.dark}`,\"dur\":\"2s\",\"repeatCount\":\"indefinite\"}})])],1)],1)]),_vm._v(\" \"),_c('svg',{staticClass:\"card-placeholder__placeholder\",class:{ 'standalone': _vm.standalone },attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"url(#card-placeholder__gradient)\"}},[_c('rect',{staticClass:\"card-placeholder__placeholder-line-header\",style:({width: `calc(${_vm.randWidth()}%)`})}),_vm._v(\" \"),_c('rect',{staticClass:\"card-placeholder__placeholder-line-one\"}),_vm._v(\" \"),_c('rect',{staticClass:\"card-placeholder__placeholder-line-two\",style:({width: `calc(${_vm.randWidth()}%)`})})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2021 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"searchQuery!==''\" class=\"global-search\">\n\t\t<h2>\n\t\t\t<NcRichText :text=\"t('deck', 'Search for {searchQuery} in all boards')\" :arguments=\"queryStringArgs\" />\n\t\t\t<div v-if=\"loading\" class=\"icon-loading-small\" />\n\t\t</h2>\n\t\t<NcActions>\n\t\t\t<NcActionButton icon=\"icon-close\" @click=\"$store.commit('setSearchQuery', '')\" />\n\t\t</NcActions>\n\t\t<div class=\"search-wrapper\">\n\t\t\t<div v-if=\"loading || filteredResults.length > 0\" class=\"search-results\">\n\t\t\t\t<CardItem v-for=\"card in filteredResults\"\n\t\t\t\t\t:id=\"card.id\"\n\t\t\t\t\t:key=\"card.id\"\n\t\t\t\t\t:standalone=\"true\" />\n\t\t\t\t<Placeholder v-if=\"loading\" />\n\t\t\t\t<InfiniteLoading :identifier=\"searchQuery\" @infinite=\"infiniteHandler\">\n\t\t\t\t\t<div slot=\"spinner\" />\n\t\t\t\t\t<div slot=\"no-more\" />\n\t\t\t\t\t<div slot=\"no-results\">\n\t\t\t\t\t\t{{ t('deck', 'No results found') }}\n\t\t\t\t\t</div>\n\t\t\t\t</InfiniteLoading>\n\t\t\t</div>\n\t\t\t<div v-else>\n\t\t\t\t<p>{{ t('deck', 'No results found') }}</p>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport CardItem from '../cards/CardItem.vue'\nimport { mapState } from 'vuex'\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl } from '@nextcloud/router'\nimport InfiniteLoading from 'vue-infinite-loading'\nimport Placeholder from './Placeholder.vue'\nimport { NcActions, NcActionButton, NcRichText } from '@nextcloud/vue'\n\nconst createCancelToken = () => axios.CancelToken.source()\n\n/**\n * @param root0\n * @param root0.query\n * @param root0.cursor\n */\nfunction search({ query, cursor }) {\n\tconst cancelToken = createCancelToken()\n\n\tconst request = async () => axios.get(generateOcsUrl('apps/deck/api/v1.0/search'), {\n\t\tcancelToken: cancelToken.token,\n\t\tparams: {\n\t\t\tterm: query,\n\t\t\tlimit: 20,\n\t\t\tcursor,\n\t\t},\n\t})\n\n\treturn {\n\t\trequest,\n\t\tcancel: cancelToken.cancel,\n\t}\n}\n\nexport default {\n\tname: 'GlobalSearchResults',\n\tcomponents: { CardItem, InfiniteLoading, NcRichText, Placeholder, NcActions, NcActionButton },\n\tdata() {\n\t\treturn {\n\t\t\tresults: [],\n\t\t\tcancel: null,\n\t\t\tloading: false,\n\t\t\tcursor: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tsearchQuery: state => state.searchQuery,\n\t\t}),\n\t\tfilteredResults() {\n\t\t\tconst sortFn = (a, b) => a.archived - b.archived || b.lastModified - a.lastModified\n\t\t\tif (this.$route.params.id) {\n\t\t\t\treturn this.results.filter((result) => result.relatedBoard.id.toString() !== this.$route.params.id.toString()).sort(sortFn)\n\t\t\t}\n\t\t\treturn [...this.results].sort(sortFn)\n\t\t},\n\t\tqueryStringArgs() {\n\t\t\treturn {\n\t\t\t\tsearchQuery: this.searchQuery,\n\t\t\t}\n\t\t},\n\t},\n\twatch: {\n\t\tasync searchQuery() {\n\t\t\tthis.cursor = null\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tawait this.search()\n\t\t\t\tthis.loading = false\n\t\t\t} catch (e) {\n\t\t\t\tif (!axios.isCancel(e)) {\n\t\t\t\t\tconsole.error('Search request failed', e)\n\t\t\t\t\tthis.loading = false\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\tmethods: {\n\t\tasync infiniteHandler($state) {\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tconst data = await this.search()\n\t\t\t\tif (data.length) {\n\t\t\t\t\t$state.loaded()\n\t\t\t\t} else {\n\t\t\t\t\t$state.complete()\n\t\t\t\t}\n\t\t\t\tthis.loading = false\n\t\t\t} catch (e) {\n\t\t\t\tif (!axios.isCancel(e)) {\n\t\t\t\t\tconsole.error('Search request failed', e)\n\t\t\t\t\t$state.complete()\n\t\t\t\t\tthis.loading = false\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync search() {\n\t\t\tif (this.cancel) {\n\t\t\t\tthis.cancel()\n\t\t\t}\n\t\t\tconst { request, cancel } = await search({ query: this.searchQuery, cursor: this.cursor })\n\t\t\tthis.cancel = cancel\n\t\t\tconst { data } = await request()\n\n\t\t\tif (this.cursor === null) {\n\t\t\t\tthis.results = []\n\t\t\t}\n\t\t\tif (data.ocs.data.length > 0) {\n\t\t\t\tdata.ocs.data.forEach((card) => {\n\t\t\t\t\tthis.$store.dispatch('addCardData', card)\n\t\t\t\t})\n\t\t\t\tthis.results = [...this.results, ...data.ocs.data]\n\t\t\t\tthis.cursor = data.ocs.data[data.ocs.data.length - 1].lastModified\n\t\t\t}\n\t\t\treturn data.ocs.data\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../css/variables';\n\n.global-search {\n\twidth: 100%;\n\tpadding: $board-spacing + $stack-spacing;\n\tpadding-bottom: 0;\n\toverflow: hidden;\n\tmin-height: 35vh;\n\tmax-height: 50vh;\n\tflex-shrink: 1;\n\tflex-grow: 1;\n\tborder-top: 1px solid var(--color-border);\n\tz-index: 1010;\n\tposition: relative;\n\n\t.action-item.icon-close {\n\t\tposition: absolute;\n\t\ttop: 10px;\n\t\tright: 10px;\n\t}\n\t.search-wrapper {\n\t\toverflow: scroll;\n\t\theight: 100%;\n\t\tposition: relative;\n\t\tpadding: 10px;\n\t}\n\n\th2 > div {\n\t\tdisplay: inline-block;\n\n\t\t&.icon-loading-small {\n\t\t\tmargin-right: 20px;\n\t\t}\n\t}\n\th2:deep(span) {\n\t\tbackground-color: var(--color-background-dark);\n\t\tpadding: 3px;\n\t\tborder-radius: var(--border-radius);\n\t}\n\n\t.search-results {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\n\t\t& > div {\n\t\t\tflex-grow: 0;\n\t\t}\n\t}\n\t&:deep(.card) {\n\t\twidth: $stack-width;\n\t\tmargin-right: $stack-spacing;\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSearchResults.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSearchResults.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSearchResults.vue?vue&type=style&index=0&id=7711a4ae&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSearchResults.vue?vue&type=style&index=0&id=7711a4ae&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./GlobalSearchResults.vue?vue&type=template&id=7711a4ae&scoped=true\"\nimport script from \"./GlobalSearchResults.vue?vue&type=script&lang=js\"\nexport * from \"./GlobalSearchResults.vue?vue&type=script&lang=js\"\nimport style0 from \"./GlobalSearchResults.vue?vue&type=style&index=0&id=7711a4ae&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7711a4ae\",\n  null\n  \n)\n\nexport default component.exports","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"copiedCard\">\n\t\t<TagSelector :card=\"card\"\n\t\t\t:labels=\"currentBoard.labels\"\n\t\t\t:disabled=\"!canEdit\"\n\t\t\t@select=\"addLabelToCard\"\n\t\t\t@remove=\"removeLabelFromCard\"\n\t\t\t@newtag=\"addLabelToBoardAndCard\" />\n\n\t\t<AssignmentSelector :card=\"card\"\n\t\t\t:assignables=\"assignables\"\n\t\t\t:can-edit=\"canEdit\"\n\t\t\t@select=\"assignUserToCard\"\n\t\t\t@remove=\"removeUserFromCard\" />\n\n\t\t<DueDateSelector :card=\"card\"\n\t\t\t:can-edit=\"canEdit\"\n\t\t\t@change=\"updateCardDue\"\n\t\t\t@input=\"debouncedUpdateCardDue\" />\n\n\t\t<div v-if=\"projectsEnabled\" class=\"section-wrapper\">\n\t\t\t<NcCollectionList v-if=\"card.id\"\n\t\t\t\t:id=\"`${card.id}`\"\n\t\t\t\t:name=\"card.title\"\n\t\t\t\ttype=\"deck-card\" />\n\t\t</div>\n\n\t\t<Description :key=\"card.id\"\n\t\t\t:card=\"card\"\n\t\t\t:can-edit=\"canEdit\"\n\t\t\tshow-attachments\n\t\t\t@change=\"descriptionChanged\" />\n\t</div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport moment from '@nextcloud/moment'\nimport { loadState } from '@nextcloud/initial-state'\n\nimport { NcCollectionList } from '@nextcloud/vue'\nimport Color from '../../mixins/color.js'\nimport {\n\tgetLocale,\n} from '@nextcloud/l10n'\nimport Description from './Description.vue'\nimport TagSelector from './TagSelector.vue'\nimport AssignmentSelector from './AssignmentSelector.vue'\nimport DueDateSelector from './DueDateSelector.vue'\nimport { debounce } from 'lodash'\n\nexport default {\n\tname: 'CardSidebarTabDetails',\n\tcomponents: {\n\t\tDueDateSelector,\n\t\tAssignmentSelector,\n\t\tTagSelector,\n\t\tDescription,\n\t\tNcCollectionList,\n\t},\n\tmixins: [Color],\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\taddedLabelToCard: null,\n\t\t\tcopiedCard: null,\n\t\t\tlocale: getLocale(),\n\t\t\tprojectsEnabled: loadState('core', 'projects_enabled', false),\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t}),\n\t\t...mapGetters(['canEdit', 'assignables']),\n\t\tcardDetailsInModal: {\n\t\t\tget() {\n\t\t\t\treturn this.$store.getters.config('cardDetailsInModal')\n\t\t\t},\n\t\t\tset(newValue) {\n\t\t\t\tthis.$store.dispatch('setConfig', { cardDetailsInModal: newValue })\n\t\t\t},\n\t\t},\n\t\tlabelsSorted() {\n\t\t\treturn [...this.currentBoard.labels].sort((a, b) => (a.title < b.title) ? -1 : 1)\n\t\t},\n\t},\n\twatch: {\n\t\tcard() {\n\t\t\tthis.initialize()\n\t\t},\n\t},\n\tmounted() {\n\t\tthis.initialize()\n\t},\n\tmethods: {\n\t\tasync descriptionChanged(newDesc) {\n\t\t\tif (newDesc === this.copiedCard.description) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.copiedCard.description = newDesc\n\t\t},\n\t\tasync initialize() {\n\t\t\tif (!this.card) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.copiedCard = JSON.parse(JSON.stringify(this.card))\n\t\t\tlocalStorage.setItem('deck.selectedBoardId', this.currentBoard.id)\n\t\t\tlocalStorage.setItem('deck.selectedStackId', this.card.stackId)\n\t\t},\n\n\t\tassignUserToCard(user) {\n\t\t\tthis.$store.dispatch('assignCardToUser', {\n\t\t\t\tcard: this.copiedCard,\n\t\t\t\tassignee: {\n\t\t\t\t\tuserId: user.uid,\n\t\t\t\t\ttype: user.type,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\n\t\tremoveUserFromCard(user) {\n\t\t\tthis.$store.dispatch('removeUserFromCard', {\n\t\t\t\tcard: this.copiedCard,\n\t\t\t\tassignee: {\n\t\t\t\t\tuserId: user.uid,\n\t\t\t\t\ttype: user.type,\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\n\t\tupdateCardDue(val) {\n\t\t\tthis.$store.dispatch('updateCardDue', {\n\t\t\t\t...this.copiedCard,\n\t\t\t\tduedate: val ? (new Date(val)).toISOString() : null,\n\t\t\t})\n\t\t},\n\n\t\tdebouncedUpdateCardDue: debounce(function(val) {\n\t\t\tthis.updateCardDue(val)\n\t\t}, 500),\n\n\t\taddLabelToCard(newLabel) {\n\t\t\tthis.copiedCard.labels.push(newLabel)\n\t\t\tconst data = {\n\t\t\t\tcard: this.copiedCard,\n\t\t\t\tlabelId: newLabel.id,\n\t\t\t}\n\t\t\tthis.$store.dispatch('addLabel', data)\n\t\t},\n\n\t\tasync addLabelToBoardAndCard(name) {\n\t\t\tawait this.$store.dispatch('addLabelToCurrentBoardAndCard', {\n\t\t\t\tcard: this.copiedCard,\n\t\t\t\tnewLabel: {\n\t\t\t\t\ttitle: name,\n\t\t\t\t\tcolor: this.randomColor(),\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\n\t\tremoveLabelFromCard(removedLabel) {\n\t\t\tconst removeIndex = this.copiedCard.labels.findIndex((label) => {\n\t\t\t\treturn label.id === removedLabel.id\n\t\t\t})\n\t\t\tif (removeIndex !== -1) {\n\t\t\t\tthis.copiedCard.labels.splice(removeIndex, 1)\n\t\t\t}\n\n\t\t\tconst data = {\n\t\t\t\tcard: this.copiedCard,\n\t\t\t\tlabelId: removedLabel.id,\n\t\t\t}\n\t\t\tthis.$store.dispatch('removeLabel', data)\n\t\t},\n\t\tstringify(date) {\n\t\t\treturn moment(date).locale(this.locale).format('LLL')\n\t\t},\n\t\tparse(value) {\n\t\t\treturn moment(value).toDate()\n\t\t},\n\t},\n}\n</script>\n<style lang=\"scss\" scoped>\n.section-wrapper {\n\tdisplay: flex;\n\tmax-width: 100%;\n\tmargin-top: 10px;\n\n\t.section-label {\n\t\tbackground-position: 0px center;\n\t\twidth: 28px;\n\t\tmargin-left: 9px;\n\t\tflex-shrink: 0;\n\t}\n\n\t.section-details {\n\t\tflex-grow: 1;\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\n\t\t.remove-due-button{\n\t\t\tmargin-top: -2px;\n\t\t\tmargin-left: 6px;\n\t\t}\n\t}\n}\n\n.button-group {\n\twidth: 100%;\n\tdisplay: flex;\n\n\tbutton {\n\t\twidth: 100%;\n\t}\n}\n\n.done {\n\tdisplay: flex;\n}\n\n.tag {\n\tflex-grow: 0;\n\tflex-shrink: 1;\n\toverflow: hidden;\n\tpadding: 0px 5px;\n\tborder-radius: 15px;\n\tfont-size: 85%;\n\tmargin-right: 3px;\n}\n\n.avatarLabel {\n\tpadding: 6px\n}\n\n.section-details:deep(.multiselect__tags-wrap) {\n\tflex-wrap: wrap;\n}\n\n.avatar-list--readonly .avatardiv {\n\tmargin-right: 3px;\n}\n\n.avatarlist--inline {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 3px;\n\t.avatarLabel {\n\t\tpadding: 0;\n\t}\n}\n\n.multiselect:deep(.multiselect__tags-wrap) {\n\tz-index: 2;\n}\n\n.multiselect.multiselect--active:deep(.multiselect__tags-wrap) {\n\tz-index: 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabDetails.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabDetails.vue?vue&type=style&index=0&id=1f76018f&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabDetails.vue?vue&type=style&index=0&id=1f76018f&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardSidebarTabDetails.vue?vue&type=template&id=1f76018f&scoped=true\"\nimport script from \"./CardSidebarTabDetails.vue?vue&type=script&lang=js\"\nexport * from \"./CardSidebarTabDetails.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardSidebarTabDetails.vue?vue&type=style&index=0&id=1f76018f&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f76018f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.copiedCard)?_c('div',[_c('TagSelector',{attrs:{\"card\":_vm.card,\"labels\":_vm.currentBoard.labels,\"disabled\":!_vm.canEdit},on:{\"select\":_vm.addLabelToCard,\"remove\":_vm.removeLabelFromCard,\"newtag\":_vm.addLabelToBoardAndCard}}),_vm._v(\" \"),_c('AssignmentSelector',{attrs:{\"card\":_vm.card,\"assignables\":_vm.assignables,\"can-edit\":_vm.canEdit},on:{\"select\":_vm.assignUserToCard,\"remove\":_vm.removeUserFromCard}}),_vm._v(\" \"),_c('DueDateSelector',{attrs:{\"card\":_vm.card,\"can-edit\":_vm.canEdit},on:{\"change\":_vm.updateCardDue,\"input\":_vm.debouncedUpdateCardDue}}),_vm._v(\" \"),(_vm.projectsEnabled)?_c('div',{staticClass:\"section-wrapper\"},[(_vm.card.id)?_c('NcCollectionList',{attrs:{\"id\":`${_vm.card.id}`,\"name\":_vm.card.title,\"type\":\"deck-card\"}}):_vm._e()],1):_vm._e(),_vm._v(\" \"),_c('Description',{key:_vm.card.id,attrs:{\"card\":_vm.card,\"can-edit\":_vm.canEdit,\"show-attachments\":\"\"},on:{\"change\":_vm.descriptionChanged}})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<AttachmentList :card-id=\"card.id\"\n\t\t:removable=\"true\"\n\t\t@delete-attachment=\"deleteAttachment\"\n\t\t@restore-attachment=\"restoreAttachment\" />\n</template>\n\n<script>\nimport AttachmentList from './AttachmentList.vue'\nexport default {\n\tname: 'CardSidebarTabAttachments',\n\tcomponents: {\n\t\tAttachmentList,\n\t},\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tmethods: {\n\t\tdeleteAttachment(attachment) {\n\t\t\tthis.$store.dispatch('deleteAttachment', attachment)\n\t\t},\n\t\trestoreAttachment(attachment) {\n\t\t\tthis.$store.dispatch('restoreAttachment', attachment)\n\t\t},\n\t},\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabAttachments.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabAttachments.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CardSidebarTabAttachments.vue?vue&type=template&id=6bf22c3d\"\nimport script from \"./CardSidebarTabAttachments.vue?vue&type=script&lang=js\"\nexport * from \"./CardSidebarTabAttachments.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('AttachmentList',{attrs:{\"card-id\":_vm.card.id,\"removable\":true},on:{\"delete-attachment\":_vm.deleteAttachment,\"restore-attachment\":_vm.restoreAttachment}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"comment--header\"},[_c('NcAvatar',{attrs:{\"user\":_vm.currentUser.uid}}),_vm._v(\" \"),_c('span',{staticClass:\"username\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.currentUser.displayName)+\"\\n\\t\\t\")])],1),_vm._v(\" \"),(_vm.replyTo)?_c('CommentItem',{attrs:{\"comment\":_vm.replyTo,\"reply\":true,\"preview\":true},on:{\"cancel\":_vm.cancelReply}}):_vm._e(),_vm._v(\" \"),_c('CommentForm',{on:{\"submit\":_vm.createComment},model:{value:(_vm.newComment),callback:function ($$v) {_vm.newComment=$$v},expression:\"newComment\"}}),_vm._v(\" \"),(_vm.getCommentsForCard(_vm.card.id).length > 0)?_c('ul',{attrs:{\"id\":\"commentsFeed\"}},[_vm._l((_vm.getCommentsForCard(_vm.card.id)),function(comment){return _c('CommentItem',{key:comment.id,attrs:{\"comment\":comment},on:{\"doReload\":_vm.loadComments}})}),_vm._v(\" \"),_c('InfiniteLoading',{attrs:{\"identifier\":_vm.card.id},on:{\"infinite\":_vm.infiniteHandler}},[_c('div',{staticClass:\"icon-loading\",attrs:{\"slot\":\"spinner\"},slot:\"spinner\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"})])],2):(_vm.isLoading)?_c('div',{staticClass:\"icon icon-loading\"}):_c('div',{staticClass:\"emptycontent\"},[_c('div',{class:{ 'icon-comment': !_vm.error, 'icon-error': _vm.error }}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.error || _vm.t('deck', 'No comments yet. Begin the discussion!')))])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nconst rawToParsed = (text) => {\n\ttext = text.replace(/<br>/g, '\\n')\n\ttext = text.replace(/&nbsp;/g, ' ')\n\n\t// Since we used innerHTML to get the content of the div.contenteditable\n\t// it is escaped. With this little trick from https://stackoverflow.com/a/7394787\n\t// We unescape the code again, so if you write `<strong>` we can display\n\t// it again instead of `&lt;strong&gt;`\n\tconst temp = document.createElement('textarea')\n\ttemp.innerHTML = text\n\ttext = temp.value\n\n\t// Although the text is fully trimmed, at the very least the last\n\t// \"\\n\" occurrence should be always removed, as browsers add a\n\t// \"<br>\" element as soon as some rich text is written in a content\n\t// editable div (for example, if a new line is added the div content\n\t// will be \"<br><br>\").\n\treturn text.trim()\n}\n\nexport {\n\trawToParsed,\n}\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"comment-form\">\n\t\t<form @submit.prevent=\"submit\">\n\t\t\t<At ref=\"at\"\n\t\t\t\tv-model=\"commentText\"\n\t\t\t\t:members=\"members\"\n\t\t\t\tname-key=\"displayname\"\n\t\t\t\t:tab-select=\"true\">\n\t\t\t\t<template #item=\"s\">\n\t\t\t\t\t<NcAvatar class=\"atwho-li--avatar\" :user=\"s.item.uid\" :size=\"24\" />\n\t\t\t\t\t<span class=\"atwho-li--name\" v-text=\"s.item.displayname\" />\n\t\t\t\t</template>\n\t\t\t\t<template #embeddedItem=\"scope\">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<NcUserBubble v-if=\"scope.current.uid\"\n\t\t\t\t\t\t\t:data-mention-id=\"scope.current.uid\"\n\t\t\t\t\t\t\t:user=\"scope.current.uid\"\n\t\t\t\t\t\t\t:display-name=\"scope.current.displayname\" />\n\t\t\t\t\t</span>\n\t\t\t\t</template>\n\t\t\t\t<div ref=\"contentEditable\"\n\t\t\t\t\tdir=\"auto\"\n\t\t\t\t\tclass=\"comment-form__contenteditable\"\n\t\t\t\t\tcontenteditable\n\t\t\t\t\t@keydown.enter=\"handleKeydown\"\n\t\t\t\t\t@paste=\"onPaste\"\n\t\t\t\t\t@blur=\"error = null\"\n\t\t\t\t\t@input=\"validate()\" />\n\t\t\t</At>\n\t\t\t<input :title=\"t('deck', 'Save')\"\n\t\t\t\tclass=\"icon-confirm\"\n\t\t\t\ttype=\"submit\"\n\t\t\t\tvalue=\"\"\n\t\t\t\t:disabled=\"commentText.length === null || error\">\n\t\t\t<slot />\n\t\t</form>\n\t\t<p v-if=\"error\">\n\t\t\t{{ error }}\n\t\t</p>\n\t</div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { NcUserBubble, NcAvatar } from '@nextcloud/vue'\nimport At from 'vue-at'\nimport { rawToParsed } from '../../helpers/mentions.js'\n\nexport default {\n\tname: 'CommentForm',\n\tcomponents: {\n\t\tAt,\n\t\tNcAvatar,\n\t\tNcUserBubble,\n\t},\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcommentText: this.value,\n\t\t\terror: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t}),\n\t\tmembers() {\n\t\t\treturn this.currentBoard.users\n\t\t},\n\t},\n\twatch: {\n\t\tvalue(val) {\n\t\t\tthis.commentText = val\n\t\t},\n\t},\n\tmethods: {\n\t\tvalidate(submit) {\n\t\t\tthis.error = null\n\t\t\tconst content = this.contentEditableToParsed()\n\t\t\tif (submit && content.length === 0) {\n\t\t\t\tthis.error = t('deck', 'The comment cannot be empty.')\n\t\t\t}\n\t\t\tif (content.length > 1000) {\n\t\t\t\tthis.error = t('deck', 'The comment cannot be longer than 1000 characters.')\n\t\t\t}\n\t\t\treturn this.error === null ? content : null\n\t\t},\n\t\tsubmit() {\n\t\t\tconst content = this.validate(true)\n\t\t\tif (content) {\n\t\t\t\t// We need the plain text representation for the input event as otherwise it will propagate back to the contenteditable\n\t\t\t\t// The input event is only used for change detection to make sure that the input is reset after posting the comment\n\t\t\t\tconst temp = document.createElement('div')\n\t\t\t\ttemp.innerHTML = content\n\t\t\t\tconst text = temp.textContent || temp.innerText || ''\n\t\t\t\tthis.$emit('input', text)\n\t\t\t\tthis.$emit('submit', text)\n\t\t\t}\n\t\t},\n\t\t/* All credits for this go to the talk app\n\t\t * https://github.com/nextcloud/spreed/blob/e69740b372e17eec4541337b47baa262a5766510/src/components/NewMessageForm/NewMessageForm.vue#L100-L143\n\t\t */\n\t\tcontentEditableToParsed() {\n\t\t\tif (!this.$refs.contentEditable) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst node = this.$refs.contentEditable.cloneNode(true)\n\t\t\tconst mentions = node.querySelectorAll('span[data-at-embedded]')\n\t\t\tmentions.forEach(mention => {\n\t\t\t\t// FIXME Adding a space after the mention should be improved to\n\t\t\t\t// do it or not based on the next element instead of always\n\t\t\t\t// adding it.\n\t\t\t\t// FIXME user names can contain spaces, in that case they need to be wrapped @\"user name\" [a-zA-Z0-9\\ _\\.@\\-']+\n\t\t\t\tlet mentionValue\n\t\t\t\tif (mention.attributes['data-at-embedded'].value === 'true') {\n\t\t\t\t\tmentionValue = mention.parentNode.parentNode.querySelector('.user-bubble__wrapper').attributes['data-mention-id'].value\n\t\t\t\t} else {\n\t\t\t\t\tmentionValue = mention.firstChild.attributes['data-mention-id'].value\n\t\t\t\t}\n\t\t\t\tif (mentionValue.indexOf(' ') !== -1) {\n\t\t\t\t\tmention.replaceWith(' @\"' + mentionValue + '\" ')\n\t\t\t\t} else {\n\t\t\t\t\tmention.replaceWith(' @' + mentionValue + ' ')\n\t\t\t\t}\n\t\t\t})\n\n\t\t\treturn rawToParsed(node.innerHTML)\n\t\t},\n\n\t\t/**\n\t\t * Emits the submit event when enter is pressed (look\n\t\t * at the v-on in the template) unless shift is pressed:\n\t\t * in this case a new line will be created.\n\t\t *\n\t\t * @param {object} event the event object;\n\t\t */\n\t\thandleKeydown(event) {\n\t\t\t// Prevent submit event when vue-at panel is open, as that should\n\t\t\t// just select the mention from the panel.\n\t\t\tif (this.atwho) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// TODO: add support for CTRL+ENTER new line\n\t\t\tif (!(event.shiftKey)) {\n\t\t\t\tevent.preventDefault()\n\t\t\t\tthis.submit()\n\t\t\t}\n\t\t},\n\n\t\tonPaste(e) {\n\t\t\te.preventDefault()\n\t\t\tconst text = e.clipboardData.getData('text/plain')\n\t\t\tdocument.execCommand('insertText', false, text)\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t@import '../../css/comments';\n\n\t.comment-form__contenteditable {\n\t\tword-break: break-word;\n\t\tborder-radius: var(--border-radius-large);\n\t\tpadding: var(--default-grid-baseline);\n\t\tmax-height: 200px;\n\t\toverflow: auto;\n\t}\n\n\t.atwho-wrap {\n\t\twidth: 100%;\n\t\t& > div[contenteditable] {\n\t\t\twidth: 100%;\n\n\t\t\t&:deep > span > div {\n\t\t\t\tvertical-align: middle;\n\t\t\t}\n\t\t}\n\t}\n\n\t.comment-form:deep(.atwho-li) {\n\t\theight: 32px;\n\t}\n\n\t.atwho-li--avatar {\n\t\tmargin-right: 10px;\n\t}\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=style&index=0&id=d37c026e&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentForm.vue?vue&type=style&index=0&id=d37c026e&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CommentForm.vue?vue&type=template&id=d37c026e&scoped=true\"\nimport script from \"./CommentForm.vue?vue&type=script&lang=js\"\nexport * from \"./CommentForm.vue?vue&type=script&lang=js\"\nimport style0 from \"./CommentForm.vue?vue&type=style&index=0&id=d37c026e&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d37c026e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-form\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submit.apply(null, arguments)}}},[_c('At',{ref:\"at\",attrs:{\"members\":_vm.members,\"name-key\":\"displayname\",\"tab-select\":true},scopedSlots:_vm._u([{key:\"item\",fn:function(s){return [_c('NcAvatar',{staticClass:\"atwho-li--avatar\",attrs:{\"user\":s.item.uid,\"size\":24}}),_vm._v(\" \"),_c('span',{staticClass:\"atwho-li--name\",domProps:{\"textContent\":_vm._s(s.item.displayname)}})]}},{key:\"embeddedItem\",fn:function(scope){return [_c('span',[(scope.current.uid)?_c('NcUserBubble',{attrs:{\"data-mention-id\":scope.current.uid,\"user\":scope.current.uid,\"display-name\":scope.current.displayname}}):_vm._e()],1)]}}]),model:{value:(_vm.commentText),callback:function ($$v) {_vm.commentText=$$v},expression:\"commentText\"}},[_vm._v(\" \"),_vm._v(\" \"),_c('div',{ref:\"contentEditable\",staticClass:\"comment-form__contenteditable\",attrs:{\"dir\":\"auto\",\"contenteditable\":\"\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.handleKeydown.apply(null, arguments)},\"paste\":_vm.onPaste,\"blur\":function($event){_vm.error = null},\"input\":function($event){return _vm.validate()}}})]),_vm._v(\" \"),_c('input',{staticClass:\"icon-confirm\",attrs:{\"title\":_vm.t('deck', 'Save'),\"type\":\"submit\",\"value\":\"\",\"disabled\":_vm.commentText.length === null || _vm.error}}),_vm._v(\" \"),_vm._t(\"default\")],2),_vm._v(\" \"),(_vm.error)?_c('p',[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.error)+\"\\n\\t\")]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div v-if=\"reply\" class=\"reply\" :class=\"{ 'reply--preview': preview }\">\n\t\t<div class=\"reply--wrapper\">\n\t\t\t<div class=\"reply--header\">\n\t\t\t\t<div class=\"reply--hint\">\n\t\t\t\t\t{{ t('deck', 'In reply to') }}\n\t\t\t\t\t<NcUserBubble :user=\"comment.actorId\" :display-name=\"comment.actorDisplayName\" />\n\t\t\t\t</div>\n\t\t\t\t<NcActions v-if=\"preview\" class=\"reply--cancel\">\n\t\t\t\t\t<NcActionButton icon=\"icon-close\" @click=\"$emit('cancel')\">\n\t\t\t\t\t\t{{ t('deck', 'Cancel reply') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t</NcActions>\n\t\t\t</div>\n\t\t\t<NcRichText class=\"comment--content\"\n\t\t\t\tdir=\"auto\"\n\t\t\t\tuse-markdown\n\t\t\t\t:text=\"richText(comment)\"\n\t\t\t\t:arguments=\"richArgs(comment)\"\n\t\t\t\t:autolink=\"true\" />\n\t\t</div>\n\t</div>\n\t<li v-else class=\"comment\">\n\t\t<div class=\"comment--header\">\n\t\t\t<NcAvatar :user=\"comment.actorId\" />\n\t\t\t<span class=\"username\">\n\t\t\t\t{{ comment.actorDisplayName }}\n\t\t\t</span>\n\t\t\t<NcActions v-show=\"!edit\" :force-menu=\"true\">\n\t\t\t\t<NcActionButton :close-after-click=\"true\" @click=\"replyTo()\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<ReplyIcon decorative />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ t('deck', 'Reply') }}\n\t\t\t\t</NcActionButton>\n\t\t\t\t<NcActionButton v-if=\"canEdit\"\n\t\t\t\t\ticon=\"icon-rename\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click=\"showUpdateForm()\">\n\t\t\t\t\t{{ t('deck', 'Update') }}\n\t\t\t\t</NcActionButton>\n\t\t\t\t<NcActionButton v-if=\"canEdit\"\n\t\t\t\t\ticon=\"icon-delete\"\n\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t@click=\"deleteComment()\">\n\t\t\t\t\t{{ t('deck', 'Delete') }}\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t\t<NcActions v-if=\"edit\">\n\t\t\t\t<NcActionButton icon=\"icon-close\" @click=\"hideUpdateForm\" />\n\t\t\t</NcActions>\n\t\t\t<div class=\"spacer\" />\n\t\t\t<div class=\"timestamp\"\n\t\t\t\t:aria-label=\"formattedTimestamp\"\n\t\t\t\t:title=\"formattedTimestamp\">\n\t\t\t\t{{ relativeDate(comment.creationDateTime) }}\n\t\t\t</div>\n\t\t</div>\n\t\t<CommentItem v-if=\"comment.replyTo\" :reply=\"true\" :comment=\"comment.replyTo\" />\n\t\t<div v-show=\"!edit\" ref=\"richTextElement\">\n\t\t\t<NcRichText class=\"comment--content\"\n\t\t\t\tdir=\"auto\"\n\t\t\t\tuse-markdown\n\t\t\t\t:text=\"richText(comment)\"\n\t\t\t\t:arguments=\"richArgs(comment)\"\n\t\t\t\t:autolink=\"true\" />\n\t\t</div>\n\t\t<CommentForm v-if=\"edit\"\n\t\t\tv-model=\"commentMsg\"\n\t\t\tdir=\"auto\"\n\t\t\t@submit=\"updateComment\" />\n\t</li>\n</template>\n\n<script>\nimport { NcAvatar, NcActions, NcActionButton, NcRichText, NcUserBubble } from '@nextcloud/vue'\nimport CommentForm from './CommentForm.vue'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport md5 from 'blueimp-md5'\nimport relativeDate from '../../mixins/relativeDate.js'\nimport ReplyIcon from 'vue-material-design-icons/ReplyOutline.vue'\nimport moment from 'moment'\n\nconst AtMention = {\n\tname: 'AtMention',\n\tfunctional: true,\n\trender(createElement, context) {\n\t\tconst { user, displayName } = context.props\n\t\treturn createElement(\n\t\t\t'span',\n\t\t\t{ attrs: { 'data-at-embedded': true, contenteditable: false } },\n\t\t\t[createElement(NcUserBubble, { props: { user, displayName }, attrs: { 'data-mention-id': user } })],\n\t\t)\n\t},\n}\n\nexport default {\n\tname: 'CommentItem',\n\tcomponents: {\n\t\tNcAvatar,\n\t\tNcUserBubble,\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tCommentForm,\n\t\tNcRichText,\n\t\tReplyIcon,\n\t},\n\tmixins: [relativeDate],\n\tprops: {\n\t\tcomment: {\n\t\t\ttype: Object,\n\t\t\tdefault: undefined,\n\t\t},\n\t\treply: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tpreview: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tedit: false,\n\t\t\tcommentMsg: '',\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tcanEdit() {\n\t\t\treturn this.comment.actorId === getCurrentUser().uid\n\t\t},\n\t\trichText() {\n\t\t\treturn (comment) => {\n\t\t\t\tlet message = this.parsedMessage(comment.message)\n\t\t\t\tcomment.mentions.forEach((mention, index) => {\n\t\t\t\t\t// Currently only [a-z\\-_0-9] are allowed inside of placeholders so we use a hash of the mention id as a unique identifier\n\t\t\t\t\tconst hash = md5(mention.mentionId)\n\t\t\t\t\tmessage = message.split('@' + mention.mentionId + '').join(`{user-${hash}}`)\n\t\t\t\t\tmessage = message.split('@\"' + mention.mentionId + '\"').join(`{user-${hash}}`)\n\n\t\t\t\t})\n\t\t\t\treturn message\n\t\t\t}\n\t\t},\n\t\trichArgs() {\n\t\t\treturn (comment) => {\n\t\t\t\tconst mentions = [...comment.mentions]\n\t\t\t\tconst result = mentions.reduce((result, item, index) => {\n\t\t\t\t\tconst itemKey = 'user-' + md5(item.mentionId)\n\t\t\t\t\tresult[itemKey] = {\n\t\t\t\t\t\tcomponent: AtMention,\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\tuser: item.mentionId,\n\t\t\t\t\t\t\tdisplayName: item.mentionDisplayName,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t\treturn result\n\t\t\t\t}, {})\n\t\t\t\treturn result\n\t\t\t}\n\t\t},\n\t\tparsedMessage() {\n\t\t\treturn (message) => {\n\t\t\t\tconst div = document.createElement('div')\n\t\t\t\tdiv.innerHTML = message\n\t\t\t\treturn (div.textContent || div.innerText || '')\n\t\t\t}\n\t\t},\n\t\tformattedTimestamp() {\n\t\t\treturn t('deck', 'Created:') + ' ' + moment(this.comment.creationDateTime).format('LLLL')\n\t\t},\n\t},\n\n\tmethods: {\n\t\treplyTo() {\n\t\t\tthis.$store.dispatch('setReplyTo', this.comment)\n\t\t},\n\t\tshowUpdateForm() {\n\t\t\tthis.edit = true\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.commentMsg = this.$refs.richTextElement.children[0].innerHTML\n\t\t\t})\n\t\t},\n\t\thideUpdateForm() {\n\t\t\tthis.commentMsg = ''\n\t\t\tthis.edit = false\n\t\t},\n\t\tasync updateComment() {\n\t\t\tconst data = {\n\t\t\t\tcomment: this.commentMsg,\n\t\t\t\tcardId: this.comment.objectId,\n\t\t\t\tid: this.comment.id,\n\t\t\t}\n\t\t\tawait this.$store.dispatch('updateComment', data)\n\t\t\tthis.hideUpdateForm()\n\t\t},\n\t\tdeleteComment() {\n\t\t\tconst data = {\n\t\t\t\tid: this.comment.id,\n\t\t\t\tcardId: this.comment.objectId,\n\t\t\t}\n\t\t\tthis.$store.dispatch('deleteComment', data)\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t@import '../../css/comments';\n\n\t.reply {\n\t\tmargin: 0 0 0 var(--default-clickable-area);\n\n\t\t&.reply--preview {\n\t\t\tmargin: 4px 0;\n\t\t\tpadding: 8px;\n\t\t\tbackground-color: var(--color-background-hover);\n\t\t\tborder-radius: var(--border-radius-large);\n\n\t\t\t.reply--wrapper {\n\t\t\t\tmargin: 8px;\n\t\t\t}\n\n\t\t\t.reply--cancel {\n\t\t\t\tmargin-right: -12px;\n\t\t\t\tmargin-top: -12px;\n\t\t\t}\n\t\t}\n\n\t\t.reply--wrapper {\n\t\t\tborder-left: 4px solid var(--color-border-dark);\n\t\t\tpadding-left: 8px;\n\t\t}\n\n\t\t&:deep(.rich-text--wrapper) {\n\t\t\tmargin-top: -3px;\n\t\t\tcolor: var(--color-text-lighter);\n\t\t}\n\n\t\t.reply--header {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t.reply--hint {\n\t\t\tcolor: var(--color-text-lighter);\n\t\t\tflex-grow: 1;\n\t\t}\n\n\t\t.comment--content {\n\t\t\tmargin: 0;\n\t\t}\n\t}\n\n\t.comment--content:deep {\n\t\ta {\n\t\t\ttext-decoration: underline;\n\t\t}\n\n\t\tp {\n\t\t\tmargin-bottom: 1em;\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=style&index=0&id=1d83c972&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=style&index=0&id=1d83c972&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CommentItem.vue?vue&type=template&id=1d83c972&scoped=true\"\nimport script from \"./CommentItem.vue?vue&type=script&lang=js\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./CommentItem.vue?vue&type=style&index=0&id=1d83c972&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d83c972\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.reply)?_c('div',{staticClass:\"reply\",class:{ 'reply--preview': _vm.preview }},[_c('div',{staticClass:\"reply--wrapper\"},[_c('div',{staticClass:\"reply--header\"},[_c('div',{staticClass:\"reply--hint\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'In reply to'))+\"\\n\\t\\t\\t\\t\"),_c('NcUserBubble',{attrs:{\"user\":_vm.comment.actorId,\"display-name\":_vm.comment.actorDisplayName}})],1),_vm._v(\" \"),(_vm.preview)?_c('NcActions',{staticClass:\"reply--cancel\"},[_c('NcActionButton',{attrs:{\"icon\":\"icon-close\"},on:{\"click\":function($event){return _vm.$emit('cancel')}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Cancel reply'))+\"\\n\\t\\t\\t\\t\")])],1):_vm._e()],1),_vm._v(\" \"),_c('NcRichText',{staticClass:\"comment--content\",attrs:{\"dir\":\"auto\",\"use-markdown\":\"\",\"text\":_vm.richText(_vm.comment),\"arguments\":_vm.richArgs(_vm.comment),\"autolink\":true}})],1)]):_c('li',{staticClass:\"comment\"},[_c('div',{staticClass:\"comment--header\"},[_c('NcAvatar',{attrs:{\"user\":_vm.comment.actorId}}),_vm._v(\" \"),_c('span',{staticClass:\"username\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.comment.actorDisplayName)+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('NcActions',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.edit),expression:\"!edit\"}],attrs:{\"force-menu\":true}},[_c('NcActionButton',{attrs:{\"close-after-click\":true},on:{\"click\":function($event){return _vm.replyTo()}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ReplyIcon',{attrs:{\"decorative\":\"\"}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Reply'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(_vm.canEdit)?_c('NcActionButton',{attrs:{\"icon\":\"icon-rename\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.showUpdateForm()}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Update'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canEdit)?_c('NcActionButton',{attrs:{\"icon\":\"icon-delete\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.deleteComment()}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Delete'))+\"\\n\\t\\t\\t\")]):_vm._e()],1),_vm._v(\" \"),(_vm.edit)?_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-close\"},on:{\"click\":_vm.hideUpdateForm}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"spacer\"}),_vm._v(\" \"),_c('div',{staticClass:\"timestamp\",attrs:{\"aria-label\":_vm.formattedTimestamp,\"title\":_vm.formattedTimestamp}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.relativeDate(_vm.comment.creationDateTime))+\"\\n\\t\\t\")])],1),_vm._v(\" \"),(_vm.comment.replyTo)?_c('CommentItem',{attrs:{\"reply\":true,\"comment\":_vm.comment.replyTo}}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.edit),expression:\"!edit\"}],ref:\"richTextElement\"},[_c('NcRichText',{staticClass:\"comment--content\",attrs:{\"dir\":\"auto\",\"use-markdown\":\"\",\"text\":_vm.richText(_vm.comment),\"arguments\":_vm.richArgs(_vm.comment),\"autolink\":true}})],1),_vm._v(\" \"),(_vm.edit)?_c('CommentForm',{attrs:{\"dir\":\"auto\"},on:{\"submit\":_vm.updateComment},model:{value:(_vm.commentMsg),callback:function ($$v) {_vm.commentMsg=$$v},expression:\"commentMsg\"}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabComments.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabComments.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n<template>\n\t<div>\n\t\t<div class=\"comment--header\">\n\t\t\t<NcAvatar :user=\"currentUser.uid\" />\n\t\t\t<span class=\"username\">\n\t\t\t\t{{ currentUser.displayName }}\n\t\t\t</span>\n\t\t</div>\n\n\t\t<CommentItem v-if=\"replyTo\"\n\t\t\t:comment=\"replyTo\"\n\t\t\t:reply=\"true\"\n\t\t\t:preview=\"true\"\n\t\t\t@cancel=\"cancelReply\" />\n\t\t<CommentForm v-model=\"newComment\" @submit=\"createComment\" />\n\n\t\t<ul v-if=\"getCommentsForCard(card.id).length > 0\" id=\"commentsFeed\">\n\t\t\t<CommentItem v-for=\"comment in getCommentsForCard(card.id)\"\n\t\t\t\t:key=\"comment.id\"\n\t\t\t\t:comment=\"comment\"\n\t\t\t\t@doReload=\"loadComments\" />\n\t\t\t<InfiniteLoading :identifier=\"card.id\" @infinite=\"infiniteHandler\">\n\t\t\t\t<div slot=\"spinner\" class=\"icon-loading\" />\n\t\t\t\t<div slot=\"no-more\" />\n\t\t\t\t<div slot=\"no-results\" />\n\t\t\t</InfiniteLoading>\n\t\t</ul>\n\t\t<div v-else-if=\"isLoading\" class=\"icon icon-loading\" />\n\t\t<div v-else class=\"emptycontent\">\n\t\t\t<div :class=\"{ 'icon-comment': !error, 'icon-error': error }\" />\n\t\t\t<p>{{ error || t('deck', 'No comments yet. Begin the discussion!') }}</p>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\nimport { NcAvatar } from '@nextcloud/vue'\nimport CommentItem from './CommentItem.vue'\nimport CommentForm from './CommentForm.vue'\nimport InfiniteLoading from 'vue-infinite-loading'\nimport { getCurrentUser } from '@nextcloud/auth'\n\nexport default {\n\tname: 'CardSidebarTabComments',\n\tcomponents: {\n\t\tNcAvatar,\n\t\tCommentItem,\n\t\tCommentForm,\n\t\tInfiniteLoading,\n\t},\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: undefined,\n\t\t},\n\t\ttabQuery: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tnewComment: '',\n\t\t\tisLoading: false,\n\t\t\tcurrentUser: getCurrentUser(),\n\t\t\terror: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tcurrentBoard: state => state.currentBoard,\n\t\t\treplyTo: state => state.comment.replyTo,\n\t\t}),\n\t\t...mapGetters([\n\t\t\t'getCommentsForCard',\n\t\t\t'hasMoreComments',\n\t\t]),\n\t\tmembers() {\n\t\t\treturn this.currentBoard.users\n\t\t},\n\t},\n\twatch: {\n\t\tcard: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tthis.loadComments()\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\tasync infiniteHandler($state) {\n\t\t\tthis.error = null\n\t\t\ttry {\n\t\t\t\tawait this.loadMore()\n\t\t\t\tif (this.hasMoreComments(this.card.id)) {\n\t\t\t\t\t$state.loaded()\n\t\t\t\t} else {\n\t\t\t\t\t$state.complete()\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Failed to fetch more comments during infinite loading', e)\n\t\t\t\tthis.error = t('deck', 'Failed to load comments')\n\t\t\t\t$state.complete()\n\t\t\t}\n\t\t},\n\t\tasync loadComments() {\n\t\t\tthis.$store.dispatch('setReplyTo', null)\n\t\t\tthis.error = null\n\t\t\tthis.isLoading = true\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('fetchComments', { cardId: this.card.id })\n\t\t\t\tthis.isLoading = false\n\t\t\t\tif (this.card.commentsUnread > 0) {\n\t\t\t\t\tawait this.$store.dispatch('markCommentsAsRead', this.card.id)\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tthis.isLoading = false\n\t\t\t\tconsole.error('Failed to fetch more comments during infinite loading', e)\n\t\t\t\tthis.error = t('deck', 'Failed to load comments')\n\t\t\t}\n\t\t},\n\t\tasync createComment(content) {\n\t\t\tconst commentObj = {\n\t\t\t\tcardId: this.card.id,\n\t\t\t\tcomment: content,\n\t\t\t}\n\t\t\tawait this.$store.dispatch('createComment', commentObj)\n\t\t\tthis.$store.dispatch('setReplyTo', null)\n\t\t\tthis.newComment = ''\n\t\t\tawait this.loadComments()\n\t\t},\n\t\tasync loadMore() {\n\t\t\tthis.isLoading = true\n\t\t\tawait this.$store.dispatch('fetchMore', { cardId: this.card.id })\n\t\t\tthis.isLoading = false\n\t\t},\n\t\tcancelReply() {\n\t\t\tthis.$store.dispatch('setReplyTo', null)\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t@import '../../css/comments';\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabComments.vue?vue&type=style&index=0&id=cd53af20&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabComments.vue?vue&type=style&index=0&id=cd53af20&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardSidebarTabComments.vue?vue&type=template&id=cd53af20&scoped=true\"\nimport script from \"./CardSidebarTabComments.vue?vue&type=script&lang=js\"\nexport * from \"./CardSidebarTabComments.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardSidebarTabComments.vue?vue&type=style&index=0&id=cd53af20&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cd53af20\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.$parent.isActive)?_c('ActivityList',{key:_vm.card.id,attrs:{\"filter\":\"filter\",\"object-id\":_vm.card.id,\"object-type\":\"deck_card\",\"type\":\"deck\"}}):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"activity\" class=\"activity\">\n\t\t<div class=\"activity--header\">\n\t\t\t<img :src=\"activity.icon\" class=\"activity--icon\" :class=\"applyMonochromeIconColor\">\n\t\t\t<NcRichText class=\"activity--subject\" :text=\"message.subject\" :arguments=\"message.parameters\" />\n\t\t\t<div class=\"activity--timestamp\" :name=\"formatReadableDate(activity.datetime)\">\n\t\t\t\t{{ relativeDate(activity.datetime) }}\n\t\t\t</div>\n\t\t</div>\n\t\t<!-- FIXME ins/del tags do no longer work with activity so we should get rid of that -->\n\t\t<p v-if=\"activity.message\" class=\"activity--message\" v-html=\"sanitizedMessage\" />\n\t</div>\n</template>\n\n<script>\nimport { NcRichText, NcUserBubble } from '@nextcloud/vue'\nimport moment from '@nextcloud/moment'\nimport DOMPurify from 'dompurify'\nimport relativeDate from '../mixins/relativeDate.js'\nimport formatReadableDate from '../mixins/readableDate.js'\n\nconst InternalLink = {\n\tname: 'InternalLink',\n\tfunctional: true,\n\tprops: {\n\t\thref: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tname: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\trender(createElement, context) {\n\t\treturn createElement('a', { attrs: { href: context.props.href }, style: { 'font-weight': 600 } }, context.props.name)\n\t},\n}\nexport default {\n\tname: 'ActivityEntry',\n\tcomponents: {\n\t\tNcRichText,\n\t},\n\tmixins: [relativeDate, formatReadableDate],\n\tprops: {\n\t\tactivity: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tcomputed: {\n\t\tmessage() {\n\t\t\tconst subject = this.activity.subject_rich[0]\n\t\t\tconst parameters = JSON.parse(JSON.stringify(this.activity.subject_rich[1]))\n\t\t\tif (parameters.after && typeof parameters.after.id === 'string' && parameters.after.id.startsWith('dt:')) {\n\t\t\t\tconst dateTime = parameters.after.id.slice(3)\n\t\t\t\tparameters.after.name = moment(dateTime).format('L LTS')\n\t\t\t}\n\n\t\t\tObject.keys(parameters).forEach(function(key, index) {\n\t\t\t\tconst { type } = parameters[key]\n\t\t\t\tswitch (type) {\n\t\t\t\tcase 'highlight':\n\t\t\t\t\tparameters[key] = {\n\t\t\t\t\t\tcomponent: InternalLink,\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\thref: parameters[key].link,\n\t\t\t\t\t\t\tname: parameters[key].name,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 'user':\n\t\t\t\t\tparameters[key] = {\n\t\t\t\t\t\tcomponent: NcUserBubble,\n\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\tuser: parameters[key].id,\n\t\t\t\t\t\t\tdisplayName: parameters[key].name,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tparameters[key] = `{${key}}`\n\t\t\t\t}\n\n\t\t\t})\n\n\t\t\treturn {\n\t\t\t\tsubject, parameters,\n\t\t\t}\n\t\t},\n\n\t\tapplyMonochromeIconColor() {\n\t\t\t// copied from https://github.com/nextcloud/activity/blob/db919d45c45356082b17104614018e2c7e691996/js/script.js#L225\n\t\t\tconst monochromeIcon = this.activity.type !== 'file_created' && this.activity.type !== 'file_deleted' && this.activity.type !== 'favorite' && !this.activity.icon.endsWith('-color.svg')\n\t\t\tif (monochromeIcon) {\n\t\t\t\treturn 'monochrome'\n\t\t\t}\n\t\t\treturn ''\n\t\t},\n\n\t\tsanitizedMessage() {\n\t\t\treturn DOMPurify.sanitize(this.activity.message, { ALLOWED_TAGS: ['ins', 'del'], ALLOWED_ATTR: ['class'] })\n\t\t},\n\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n\t.activity {\n\n\t\t.activity--header {\n\t\t\tdisplay: flex;\n\t\t\tpadding: 10px;\n\t\t}\n\n\t\t.activity--icon {\n\t\t\twidth: 16px;\n\t\t\theight: 16px;\n\t\t\tflex-shrink: 0;\n\t\t\tflex-grow: 0;\n\n\t\t\t/* colored icons, in addition to core ones */\n\t\t\t&.monochrome {\n\t\t\t\topacity: 0.8;\n\t\t\t\tfilter: var(--background-invert-if-dark);\n\t\t\t}\n\t\t}\n\t\t.activity--subject {\n\t\t\tmargin-left: 10px;\n\t\t}\n\t\t.activity--message {\n\t\t\tmargin-left: var(--default-clickable-area);\n\t\t\tcolor: var(--color-text-light);\n\t\t\tmargin-bottom: 10px;\n\t\t}\n\t\t.activity--timestamp {\n\t\t\tflex-grow: 1;\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\ttext-align: right;\n\t\t\tfont-size: 0.8em;\n\t\t\tpadding: 1px;\n\t\t}\n\t}\n</style>\n<style>\n\t.visualdiff ins {\n\t\tcolor: green;\n\t}\n\n\t.visualdiff del {\n\t\tcolor: darkred;\n\t}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=style&index=0&id=1d402ed0&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=style&index=0&id=1d402ed0&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=style&index=1&id=1d402ed0&prod&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityEntry.vue?vue&type=style&index=1&id=1d402ed0&prod&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ActivityEntry.vue?vue&type=template&id=1d402ed0&scoped=true\"\nimport script from \"./ActivityEntry.vue?vue&type=script&lang=js\"\nexport * from \"./ActivityEntry.vue?vue&type=script&lang=js\"\nimport style0 from \"./ActivityEntry.vue?vue&type=style&index=0&id=1d402ed0&prod&scoped=true&lang=scss\"\nimport style1 from \"./ActivityEntry.vue?vue&type=style&index=1&id=1d402ed0&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d402ed0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.activity)?_c('div',{staticClass:\"activity\"},[_c('div',{staticClass:\"activity--header\"},[_c('img',{staticClass:\"activity--icon\",class:_vm.applyMonochromeIconColor,attrs:{\"src\":_vm.activity.icon}}),_vm._v(\" \"),_c('NcRichText',{staticClass:\"activity--subject\",attrs:{\"text\":_vm.message.subject,\"arguments\":_vm.message.parameters}}),_vm._v(\" \"),_c('div',{staticClass:\"activity--timestamp\",attrs:{\"name\":_vm.formatReadableDate(_vm.activity.datetime)}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.relativeDate(_vm.activity.datetime))+\"\\n\\t\\t\")])],1),_vm._v(\" \"),(_vm.activity.message)?_c('p',{staticClass:\"activity--message\",domProps:{\"innerHTML\":_vm._s(_vm.sanitizedMessage)}}):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityList.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"activity-list\">\n\t\t<div v-if=\"isLoading\" class=\"icon icon-loading\" />\n\t\t<ActivityEntry v-for=\"activity in activities\"\n\t\t\t:key=\"activity.activity_id\"\n\t\t\t:activity=\"activity\" />\n\t\t<InfiniteLoading :identifier=\"objectId\" @infinite=\"infiniteHandler\" @change=\"changeObject\">\n\t\t\t<div slot=\"spinner\" class=\"icon-loading\" />\n\t\t\t<div slot=\"no-more\" />\n\t\t\t<div slot=\"no-results\" />\n\t\t</InfiniteLoading>\n\t</div>\n</template>\n\n<script>\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl } from '@nextcloud/router'\nimport ActivityEntry from './ActivityEntry.vue'\nimport InfiniteLoading from 'vue-infinite-loading'\n\nconst ACTIVITY_FETCH_LIMIT = 50\n\nexport default {\n\tname: 'ActivityList',\n\tcomponents: {\n\t\tActivityEntry,\n\t\tInfiniteLoading,\n\t},\n\tprops: {\n\t\tfilter: {\n\t\t\ttype: String,\n\t\t\tdefault: 'deck',\n\t\t},\n\t\ttype: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tobjectId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tobjectType: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tactivities: [],\n\t\t\tisLoading: false,\n\t\t\tsince: 0,\n\t\t\tendReached: false,\n\t\t}\n\t},\n\tmethods: {\n\t\tasync loadActivity() {\n\t\t\tconst params = new URLSearchParams()\n\t\t\tparams.append('format', 'json')\n\t\t\tparams.append('type', this.type)\n\t\t\tparams.append('since', this.since)\n\t\t\tparams.append('object_type', this.objectType)\n\t\t\tparams.append('object_id', '' + this.objectId)\n\t\t\tparams.append('limit', ACTIVITY_FETCH_LIMIT)\n\n\t\t\tconst response = await axios.get(\n\t\t\t\tgenerateOcsUrl(`apps/activity/api/v2/activity/${this.filter}`) + '?' + params,\n\t\t\t\t{\n\t\t\t\t\tvalidateStatus: (status) => {\n\t\t\t\t\t\treturn (status >= 200 && status < 300) || status === 304\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t)\n\n\t\t\tif (response.status === 304) {\n\t\t\t\tthis.endReached = true\n\t\t\t\treturn []\n\t\t\t}\n\n\t\t\tlet activities = response.data.ocs.data\n\t\t\tif (this.filter === 'deck') {\n\t\t\t\t// We need to manually filter activities here, since currently we use two different types and there is no way\n\t\t\t\t// to tell the backend to fetch all activites related to cards of a given board\n\t\t\t\tactivities = activities.filter((activity) => {\n\t\t\t\t\treturn (activity.object_type === 'deck_board' && activity.object_id === this.objectId)\n\t\t\t\t\t\t\t|| (activity.object_type === 'deck_card' && activity.subject_rich[1].board.id === this.objectId.toString())\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.activities.push(...activities)\n\t\t\tif (activities.length === 0) {\n\t\t\t\tthis.endReached = true\n\t\t\t\treturn []\n\t\t\t}\n\t\t\tthis.since = (activities[activities.length - 1].activity_id)\n\t\t\treturn activities\n\t\t},\n\t\tasync infiniteHandler($state) {\n\t\t\tawait this.loadActivity()\n\t\t\tif (!this.endReached) {\n\t\t\t\t$state.loaded()\n\t\t\t} else {\n\t\t\t\t$state.complete()\n\t\t\t}\n\t\t},\n\t\tchangeObject() {\n\t\t\tthis.since = 0\n\t\t\tthis.activities = []\n\t\t\tthis.endReached = false\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n\t.activity-list {\n\t\tmargin-bottom: 100px;\n\t}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityList.vue?vue&type=style&index=0&id=832405a6&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActivityList.vue?vue&type=style&index=0&id=832405a6&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ActivityList.vue?vue&type=template&id=832405a6&scoped=true\"\nimport script from \"./ActivityList.vue?vue&type=script&lang=js\"\nexport * from \"./ActivityList.vue?vue&type=script&lang=js\"\nimport style0 from \"./ActivityList.vue?vue&type=style&index=0&id=832405a6&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"832405a6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabActivity.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebarTabActivity.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2020 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<ActivityList v-if=\"$parent.isActive\"\n\t\t:key=\"card.id\"\n\t\tfilter=\"filter\"\n\t\t:object-id=\"card.id\"\n\t\tobject-type=\"deck_card\"\n\t\ttype=\"deck\" />\n</template>\n\n<script>\nimport ActivityList from '../ActivityList.vue'\n\nexport default {\n\tname: 'CardSidebarTabActivity',\n\tcomponents: {\n\t\tActivityList,\n\t},\n\tprops: {\n\t\tcard: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tid: 'activity',\n\t\t}\n\t},\n}\n</script>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"activity-list\"},[(_vm.isLoading)?_c('div',{staticClass:\"icon icon-loading\"}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.activities),function(activity){return _c('ActivityEntry',{key:activity.activity_id,attrs:{\"activity\":activity}})}),_vm._v(\" \"),_c('InfiniteLoading',{attrs:{\"identifier\":_vm.objectId},on:{\"infinite\":_vm.infiniteHandler,\"change\":_vm.changeObject}},[_c('div',{staticClass:\"icon-loading\",attrs:{\"slot\":\"spinner\"},slot:\"spinner\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"}),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"})])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./CardSidebarTabActivity.vue?vue&type=template&id=bde84950\"\nimport script from \"./CardSidebarTabActivity.vue?vue&type=script&lang=js\"\nexport * from \"./CardSidebarTabActivity.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<NcAppSidebar v-if=\"currentBoard && currentCard\"\n\t\tref=\"cardSidebar\"\n\t\t:active=\"tabId\"\n\t\t:name=\"displayTitle\"\n\t\t:subname=\"subtitle\"\n\t\t:subtitle=\"subtitleTooltip\"\n\t\t:name-editable.sync=\"isEditingTitle\"\n\t\t@update:name=\"(value) => titleEditing = value\"\n\t\t@update:active=\"(value) => activeTabId = value\"\n\t\t@dismiss-editing=\"titleEditing = currentCard.title\"\n\t\t@submit-name=\"handleSubmitTitle\"\n\t\t@opened=\"focusHeader\"\n\t\t@close=\"closeSidebar\">\n\t\t<template #secondary-actions>\n\t\t\t<NcActionButton v-if=\"cardDetailsInModal && isFullApp\" icon=\"icon-menu-sidebar\" @click.stop=\"closeModal()\">\n\t\t\t\t{{ t('deck', 'Open in sidebar view') }}\n\t\t\t</NcActionButton>\n\t\t\t<NcActionButton v-else-if=\"isFullApp\" icon=\"icon-external\" @click.stop=\"showModal()\">\n\t\t\t\t{{ t('deck', 'Open in bigger view') }}\n\t\t\t</NcActionButton>\n\n\t\t\t<CardMenuEntries :card=\"currentCard\" :hide-details-entry=\"true\" />\n\t\t</template>\n\t\t<template #description>\n\t\t\t<NcReferenceList v-if=\"currentCard.referenceData\"\n\t\t\t\t:text=\"currentCard.title\"\n\t\t\t\t:interactive=\"false\" />\n\t\t</template>\n\n\t\t<NcAppSidebarTab id=\"details\"\n\t\t\t:order=\"0\"\n\t\t\t:name=\"t('deck', 'Details')\">\n\t\t\t<CardSidebarTabDetails :card=\"currentCard\" />\n\t\t\t<template #icon>\n\t\t\t\t<HomeIcon v-if=\"activeTabId === 'details'\" :size=\"20\" />\n\t\t\t\t<HomeOutlineIcon v-else :size=\"20\" />\n\t\t\t</template>\n\t\t</NcAppSidebarTab>\n\n\t\t<NcAppSidebarTab id=\"attachments\"\n\t\t\t:order=\"1\"\n\t\t\t:name=\"t('deck', 'Attachments')\">\n\t\t\t<template #icon>\n\t\t\t\t<AttachmentIcon :size=\"20\" />\n\t\t\t</template>\n\t\t\t<CardSidebarTabAttachments :card=\"currentCard\" />\n\t\t</NcAppSidebarTab>\n\n\t\t<NcAppSidebarTab id=\"comments\"\n\t\t\t:order=\"2\"\n\t\t\t:name=\"t('deck', 'Comments')\">\n\t\t\t<template #icon>\n\t\t\t\t<CommentIcon v-if=\"activeTabId === 'comments'\" :size=\"20\" />\n\t\t\t\t<CommentOutlineIcon v-else :size=\"20\" />\n\t\t\t</template>\n\t\t\t<CardSidebarTabComments :card=\"currentCard\" :tab-query=\"tabQuery\" />\n\t\t</NcAppSidebarTab>\n\n\t\t<NcAppSidebarTab v-if=\"hasActivity\"\n\t\t\tid=\"timeline\"\n\t\t\t:order=\"3\"\n\t\t\t:name=\"t('deck', 'Activity')\">\n\t\t\t<template #icon>\n\t\t\t\t<ActivityIcon :size=\"20\" />\n\t\t\t</template>\n\t\t\t<CardSidebarTabActivity :card=\"currentCard\" />\n\t\t</NcAppSidebarTab>\n\t</NcAppSidebar>\n</template>\n\n<script>\nimport { NcActionButton, NcAppSidebar, NcAppSidebarTab } from '@nextcloud/vue'\nimport { NcReferenceList } from '@nextcloud/vue/dist/Components/NcRichText.js'\nimport { getCapabilities } from '@nextcloud/capabilities'\nimport { mapState, mapGetters } from 'vuex'\nimport CardSidebarTabDetails from './CardSidebarTabDetails.vue'\nimport CardSidebarTabAttachments from './CardSidebarTabAttachments.vue'\nimport CardSidebarTabComments from './CardSidebarTabComments.vue'\nimport CardSidebarTabActivity from './CardSidebarTabActivity.vue'\nimport relativeDate from '../../mixins/relativeDate.js'\nimport moment from '@nextcloud/moment'\nimport AttachmentIcon from 'vue-material-design-icons/Paperclip.vue'\nimport HomeIcon from 'vue-material-design-icons/Home.vue'\nimport HomeOutlineIcon from 'vue-material-design-icons/HomeOutline.vue'\nimport CommentIcon from 'vue-material-design-icons/Comment.vue'\nimport CommentOutlineIcon from 'vue-material-design-icons/CommentOutline.vue'\nimport ActivityIcon from 'vue-material-design-icons/LightningBolt.vue'\n\nimport { showError, showWarning } from '@nextcloud/dialogs'\nimport { getLocale } from '@nextcloud/l10n'\nimport CardMenuEntries from '../cards/CardMenuEntries.vue'\n\nconst capabilities = getCapabilities()\n\nexport default {\n\tname: 'CardSidebar',\n\tcomponents: {\n\t\tNcAppSidebar,\n\t\tNcAppSidebarTab,\n\t\tNcActionButton,\n\t\tNcReferenceList,\n\t\tCardSidebarTabAttachments,\n\t\tCardSidebarTabComments,\n\t\tCardSidebarTabActivity,\n\t\tCardSidebarTabDetails,\n\t\tActivityIcon,\n\t\tAttachmentIcon,\n\t\tCommentIcon,\n\t\tCommentOutlineIcon,\n\t\tHomeIcon,\n\t\tHomeOutlineIcon,\n\t\tCardMenuEntries,\n\t},\n\tmixins: [relativeDate],\n\tprops: {\n\t\tid: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\ttabId: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t\ttabQuery: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisEditingTitle: false,\n\t\t\ttitleEditing: '',\n\t\t\thasActivity: capabilities && capabilities.activity,\n\t\t\tlocale: getLocale(),\n\t\t\tactiveTabId: this.tabId || 'details',\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tisFullApp: (state) => state.isFullApp,\n\t\t\tcurrentBoard: (state) => state.currentBoard,\n\t\t\thasCardSaveError: (state) => state.hasCardSaveError,\n\t\t}),\n\t\t...mapGetters(['canEdit', 'assignables', 'cardActions', 'stackById']),\n\t\tcurrentCard() {\n\t\t\treturn this.$store.getters.cardById(this.id)\n\t\t},\n\t\tsubtitle() {\n\t\t\treturn t('deck', 'Modified') + ': ' + this.relativeDate(this.currentCard.lastModified * 1000) + '  ' + t('deck', 'Created') + ': ' + this.relativeDate(this.currentCard.createdAt * 1000)\n\t\t},\n\t\tsubtitleTooltip() {\n\t\t\treturn t('deck', 'Modified') + ': ' + this.formatDate(this.currentCard.lastModified) + '\\n' + t('deck', 'Created') + ': ' + this.formatDate(this.currentCard.createdAt)\n\t\t},\n\t\tcardDetailsInModal: {\n\t\t\tget() {\n\t\t\t\treturn this.$store.getters.config('cardDetailsInModal')\n\t\t\t},\n\t\t\tset(newValue) {\n\t\t\t\tthis.$store.dispatch('setConfig', { cardDetailsInModal: newValue })\n\t\t\t},\n\t\t},\n\t\tdisplayTitle: {\n\t\t\tget() {\n\t\t\t\tif (this.isEditingTitle) {\n\t\t\t\t\treturn this.titleEditing\n\t\t\t\t}\n\t\t\t\tconst reference = this.currentCard.referenceData\n\t\t\t\treturn reference ? reference.openGraphObject.name : this.currentCard.title\n\t\t\t},\n\t\t},\n\t},\n\twatch: {\n\t\tcurrentCard(newCard, oldCard) {\n\t\t\tif (newCard.id === oldCard.id) return\n\t\t\tthis.focusHeader()\n\t\t},\n\t\t'currentCard.title': {\n\t\t\timmediate: true,\n\t\t\thandler(newTitle) {\n\t\t\t\tthis.titleEditing = newTitle\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\tfocusHeader() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.$refs?.cardSidebar.$el.querySelector('.app-sidebar-header__mainname')?.focus()\n\t\t\t})\n\t\t},\n\t\thandleSubmitTitle() {\n\t\t\tif (this.titleEditing.trim() === '') {\n\t\t\t\tshowError(t('deck', 'The title cannot be empty.'))\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.isEditingTitle = false\n\t\t\tthis.$store.dispatch('updateCardTitle', {\n\t\t\t\t...this.currentCard,\n\t\t\t\ttitle: this.titleEditing,\n\t\t\t})\n\t\t},\n\n\t\tcloseSidebar() {\n\t\t\tif (this.hasCardSaveError) {\n\t\t\t\tshowWarning(t('deck', 'Cannot close unsaved card!'))\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.$router?.push({ name: 'board' })\n\t\t\tthis.$emit('close')\n\t\t},\n\n\t\tshowModal() {\n\t\t\tthis.$store.dispatch('setConfig', { cardDetailsInModal: true })\n\t\t},\n\t\tcloseModal() {\n\t\t\tthis.$store.dispatch('setConfig', { cardDetailsInModal: false })\n\t\t},\n\t\tformatDate(timestamp) {\n\t\t\treturn moment.unix(timestamp).locale(this.locale).format('LLLL')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n\nsection.app-sidebar__tab--active {\n\tmin-height: auto;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n}\n\n.modal-container {\n\toverflow: hidden;\n}\n\n// FIXME: Obivously we should at some point not randomly reuse the sidebar component\n// since this is not oficially supported\n.modal__card .app-sidebar {\n\tbox-sizing: unset;\n\t$modal-padding: 14px;\n\tborder: 0;\n\tmin-width: calc(100% - #{$modal-padding * 2});\n\tposition: relative;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tmax-width: calc(100% - #{$modal-padding * 2});\n\tmin-height: calc(100vh - var(--header-height) * 4);\n\tpadding: 0 14px;\n\theight: 97%;\n\toverflow: hidden !important;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\n\t.app-sidebar-header__mainname-container {\n\t\tpadding-top: calc(var(--default-grid-baseline, 4px) * 2);\n\t}\n\n\t.app-sidebar-tabs {\n\t\tmax-height: 90%;\n\t}\n\n\t.app-sidebar__tab {\n\t\tmin-height: calc(100% - 20px);\n\t\tmax-height: calc(100% - 20px);\n\t}\n\n\t// FIXME: test\n\t&:deep {\n\t\t.app-sidebar-header {\n\t\t\tposition: sticky;\n\t\t\ttop: 0;\n\t\t\tz-index: 100;\n\t\t\tbackground-color: var(--color-main-background);\n\t\t}\n\t\t.app-sidebar-tabs__nav {\n\t\t\tposition: sticky;\n\t\t\ttop: 87px;\n\t\t\tmargin: 0;\n\t\t\tz-index: 100;\n\t\t\tbackground-color: var(--color-main-background);\n\t\t}\n\n\t\t.app-sidebar__tab {\n\t\t\toverflow: initial;\n\t\t}\n\n\t\t#emptycontent, .emptycontent {\n\t\t\tmargin-top: 88px;\n\t\t}\n\t}\n}\n\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebar.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebar.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebar.vue?vue&type=style&index=0&id=2ceb750a&prod&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardSidebar.vue?vue&type=style&index=0&id=2ceb750a&prod&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CardSidebar.vue?vue&type=template&id=2ceb750a\"\nimport script from \"./CardSidebar.vue?vue&type=script&lang=js\"\nexport * from \"./CardSidebar.vue?vue&type=script&lang=js\"\nimport style0 from \"./CardSidebar.vue?vue&type=style&index=0&id=2ceb750a&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.currentBoard && _vm.currentCard)?_c('NcAppSidebar',{ref:\"cardSidebar\",attrs:{\"active\":_vm.tabId,\"name\":_vm.displayTitle,\"subname\":_vm.subtitle,\"subtitle\":_vm.subtitleTooltip,\"name-editable\":_vm.isEditingTitle},on:{\"update:nameEditable\":function($event){_vm.isEditingTitle=$event},\"update:name-editable\":function($event){_vm.isEditingTitle=$event},\"update:name\":(value) => _vm.titleEditing = value,\"update:active\":(value) => _vm.activeTabId = value,\"dismiss-editing\":function($event){_vm.titleEditing = _vm.currentCard.title},\"submit-name\":_vm.handleSubmitTitle,\"opened\":_vm.focusHeader,\"close\":_vm.closeSidebar},scopedSlots:_vm._u([{key:\"secondary-actions\",fn:function(){return [(_vm.cardDetailsInModal && _vm.isFullApp)?_c('NcActionButton',{attrs:{\"icon\":\"icon-menu-sidebar\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.closeModal()}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Open in sidebar view'))+\"\\n\\t\\t\")]):(_vm.isFullApp)?_c('NcActionButton',{attrs:{\"icon\":\"icon-external\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showModal()}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Open in bigger view'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('CardMenuEntries',{attrs:{\"card\":_vm.currentCard,\"hide-details-entry\":true}})]},proxy:true},{key:\"description\",fn:function(){return [(_vm.currentCard.referenceData)?_c('NcReferenceList',{attrs:{\"text\":_vm.currentCard.title,\"interactive\":false}}):_vm._e()]},proxy:true}],null,false,4213823266)},[_vm._v(\" \"),_vm._v(\" \"),_c('NcAppSidebarTab',{attrs:{\"id\":\"details\",\"order\":0,\"name\":_vm.t('deck', 'Details')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.activeTabId === 'details')?_c('HomeIcon',{attrs:{\"size\":20}}):_c('HomeOutlineIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,1788748723)},[_c('CardSidebarTabDetails',{attrs:{\"card\":_vm.currentCard}})],1),_vm._v(\" \"),_c('NcAppSidebarTab',{attrs:{\"id\":\"attachments\",\"order\":1,\"name\":_vm.t('deck', 'Attachments')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AttachmentIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,741344954)},[_vm._v(\" \"),_c('CardSidebarTabAttachments',{attrs:{\"card\":_vm.currentCard}})],1),_vm._v(\" \"),_c('NcAppSidebarTab',{attrs:{\"id\":\"comments\",\"order\":2,\"name\":_vm.t('deck', 'Comments')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.activeTabId === 'comments')?_c('CommentIcon',{attrs:{\"size\":20}}):_c('CommentOutlineIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,840792401)},[_vm._v(\" \"),_c('CardSidebarTabComments',{attrs:{\"card\":_vm.currentCard,\"tab-query\":_vm.tabQuery}})],1),_vm._v(\" \"),(_vm.hasActivity)?_c('NcAppSidebarTab',{attrs:{\"id\":\"timeline\",\"order\":3,\"name\":_vm.t('deck', 'Activity')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ActivityIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,502128366)},[_vm._v(\" \"),_c('CardSidebarTabActivity',{attrs:{\"card\":_vm.currentCard}})],1):_vm._e()],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=script&lang=js\"","<!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div class=\"board-wrapper\" :tabindex=\"-1\" @touchend=\"fixActionRestriction\">\n\t\t<Controls :board=\"board\" />\n\n\t\t<transition name=\"fade\" mode=\"out-in\">\n\t\t\t<div v-if=\"loading\" key=\"loading\" class=\"emptycontent\">\n\t\t\t\t<div class=\"icon icon-loading\" />\n\t\t\t\t<h2>{{ t('deck', 'Loading board') }}</h2>\n\t\t\t\t<p />\n\t\t\t</div>\n\t\t\t<div v-else-if=\"!board\" key=\"notfound\" class=\"emptycontent\">\n\t\t\t\t<div class=\"icon icon-deck\" />\n\t\t\t\t<h2>{{ t('deck', 'Board not found') }}</h2>\n\t\t\t\t<p />\n\t\t\t</div>\n\t\t\t<NcEmptyContent v-else-if=\"isEmpty\" key=\"empty\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<DeckIcon />\n\t\t\t\t</template>\n\t\t\t\t<template #name>\n\t\t\t\t\t{{ t('deck', 'No lists available') }}\n\t\t\t\t</template>\n\t\t\t\t<template v-if=\"canManage\" #action>\n\t\t\t\t\t{{ t('deck', 'Create a new list to add cards to this board') }}\n\t\t\t\t\t<form @submit.prevent=\"addNewStack()\">\n\t\t\t\t\t\t<NcTextField ref=\"newStackInput\"\n\t\t\t\t\t\t\t:disable=\"loading\"\n\t\t\t\t\t\t\t:value.sync=\"newStackTitle\"\n\t\t\t\t\t\t\t:placeholder=\"t('deck', 'List name')\"\n\t\t\t\t\t\t\ttype=\"text\" />\n\t\t\t\t\t\t<NcButton type=\"secondary\"\n\t\t\t\t\t\t\tnative-type=\"submit\"\n\t\t\t\t\t\t\t:disabled=\"loading\"\n\t\t\t\t\t\t\t:title=\"t('deck', 'Add list')\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<CheckIcon v-if=\"!loading\" :size=\"20\" />\n\t\t\t\t\t\t\t\t<NcLoadingIcon v-else :size=\"20\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t{{ t('deck', 'Add list') }}\n\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t</form>\n\t\t\t\t</template>\n\t\t\t</NcEmptyContent>\n\t\t\t<div v-else-if=\"!isEmpty && !loading\"\n\t\t\t\tkey=\"board\"\n\t\t\t\tref=\"board\"\n\t\t\t\tclass=\"board\"\n\t\t\t\t@mousedown=\"onMouseDown\">\n\t\t\t\t<Container lock-axix=\"y\"\n\t\t\t\t\torientation=\"horizontal\"\n\t\t\t\t\t:drag-handle-selector=\"dragHandleSelector\"\n\t\t\t\t\tdata-click-closes-sidebar=\"true\"\n\t\t\t\t\t@drag-start=\"draggingStack = true\"\n\t\t\t\t\t@drag-end=\"draggingStack = false\"\n\t\t\t\t\t@drop=\"onDropStack\">\n\t\t\t\t\t<Draggable v-for=\"stack in stacksByBoard\"\n\t\t\t\t\t\t:key=\"stack.id\"\n\t\t\t\t\t\tdata-click-closes-sidebar=\"true\"\n\t\t\t\t\t\tdata-dragscroll-enabled\n\t\t\t\t\t\tclass=\"stack-draggable-wrapper\">\n\t\t\t\t\t\t<Stack :stack=\"stack\" :dragging=\"draggingStack\" data-click-closes-sidebar=\"true\" />\n\t\t\t\t\t</Draggable>\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t</transition>\n\t\t<GlobalSearchResults v-if=\"isFullApp\" />\n\t\t<NcModal v-if=\"localModal\"\n\t\t\t:clear-view-delay=\"0\"\n\t\t\t:close-button-contained=\"true\"\n\t\t\tsize=\"large\"\n\t\t\t@close=\"localModal = null\">\n\t\t\t<div class=\"modal__content modal__card\">\n\t\t\t\t<CardSidebar :id=\"localModal\" @close=\"localModal = null\" />\n\t\t\t</div>\n\t\t</NcModal>\n\t</div>\n</template>\n\n<script>\nimport { Container, Draggable } from 'vue-smooth-dnd'\nimport { mapState, mapGetters } from 'vuex'\nimport Controls from '../Controls.vue'\nimport DeckIcon from '../icons/DeckIcon.vue'\nimport CheckIcon from 'vue-material-design-icons/Check.vue'\nimport Stack from './Stack.vue'\nimport { NcEmptyContent, NcModal, NcButton, NcTextField, NcLoadingIcon } from '@nextcloud/vue'\nimport GlobalSearchResults from '../search/GlobalSearchResults.vue'\nimport { showError } from '../../helpers/errors.js'\nimport { createSession } from '../../sessions.js'\nimport CardSidebar from '../card/CardSidebar.vue'\nexport default {\n\tname: 'Board',\n\tcomponents: {\n\t\tGlobalSearchResults,\n\t\tControls,\n\t\tContainer,\n\t\tDeckIcon,\n\t\tDraggable,\n\t\tStack,\n\t\tNcEmptyContent,\n\t\tNcModal,\n\t\tNcTextField,\n\t\tNcButton,\n\t\tNcLoadingIcon,\n\t\tCheckIcon,\n\t\tCardSidebar,\n\t},\n\tinject: [\n\t\t'boardApi',\n\t],\n\tprops: {\n\t\tid: {\n\t\t\ttype: Number,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdraggingStack: false,\n\t\t\tloading: true,\n\t\t\tnewStackTitle: '',\n\t\t\tcurrentScrollPosX: null,\n\t\t\tcurrentMousePosX: null,\n\t\t\tlocalModal: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tisFullApp: state => state.isFullApp,\n\t\t\tboard: state => state.currentBoard,\n\t\t\tshowArchived: state => state.showArchived,\n\t\t}),\n\t\t...mapGetters([\n\t\t\t'canEdit',\n\t\t\t'canManage',\n\t\t]),\n\t\tstacksByBoard() {\n\t\t\treturn this.board?.id ? this.$store.getters.stacksByBoard(this.board.id) : []\n\t\t},\n\t\tdragHandleSelector() {\n\t\t\treturn this.canEdit ? '.stack__title' : '.no-drag'\n\t\t},\n\t\tisEmpty() {\n\t\t\treturn this.stacksByBoard.length === 0\n\t\t},\n\t},\n\twatch: {\n\t\tid(newValue, oldValue) {\n\t\t\tthis.fetchData()\n\t\t},\n\t\tshowArchived() {\n\t\t\tthis.fetchData()\n\t\t},\n\t\tisEmpty(newValue) {\n\t\t\tnewValue && this.$nextTick(() => {\n\t\t\t\tthis.$refs?.newStackInput?.focus()\n\t\t\t})\n\t\t},\n\t},\n\tcreated() {\n\t\tthis.session = createSession(this.id)\n\t\tthis.fetchData()\n\t\tthis.$root.$on('open-card', (cardId) => {\n\t\t\tthis.localModal = cardId\n\t\t})\n\t},\n\tbeforeDestroy() {\n\t\tthis.session.close()\n\t},\n\tmethods: {\n\t\tasync fetchData() {\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tawait this.$store.dispatch('loadBoardById', this.id)\n\t\t\t\tawait this.$store.dispatch('loadStacks', this.id)\n\n\t\t\t\tconst routeCardId = parseInt(this.$route.params.cardId)\n\t\t\t\t// If an archived card is requested, and we cannot find it in the current we load the archived stacks instead\n\t\t\t\tif (routeCardId && !this.$store.getters.cardById(routeCardId)) {\n\t\t\t\t\tawait this.$store.dispatch('loadArchivedStacks', this.id)\n\n\t\t\t\t\tif (this.$store.getters.cardById(routeCardId)) {\n\t\t\t\t\t\tthis.$store.commit('toggleShowArchived', true)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.session?.close()\n\t\t\t\tthis.session = createSession(this.id)\n\t\t\t} catch (e) {\n\t\t\t\tthis.loading = false\n\t\t\t\tconsole.error(e)\n\t\t\t\tshowError(e)\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\n\t\tonDropStack({ removedIndex, addedIndex }) {\n\t\t\tthis.$store.dispatch('orderStack', { stack: this.stacksByBoard[removedIndex], removedIndex, addedIndex })\n\t\t},\n\n\t\taddNewStack() {\n\t\t\tconst newStack = {\n\t\t\t\ttitle: this.newStackTitle,\n\t\t\t\tboardId: this.id,\n\t\t\t}\n\t\t\tthis.$store.dispatch('createStack', newStack)\n\t\t\tthis.newStackTitle = ''\n\t\t},\n\n\t\tonMouseDown(event) {\n\t\t\tthis.startMouseDrag(event)\n\t\t},\n\n\t\tstartMouseDrag(event) {\n\t\t\tif (!('dragscrollEnabled' in event.target.dataset)) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tevent.preventDefault()\n\t\t\tthis.currentMousePosX = event.clientX\n\t\t\tthis.currentScrollPosX = this.$refs.board.scrollLeft\n\t\t\twindow.addEventListener('mousemove', this.handleMouseDrag)\n\t\t\twindow.addEventListener('mouseup', this.stopMouseDrag)\n\t\t\twindow.addEventListener('mouseleave', this.stopMouseDrag)\n\t\t},\n\n\t\thandleMouseDrag(event) {\n\t\t\tevent.preventDefault()\n\t\t\tconst deltaX = event.clientX - this.currentMousePosX\n\t\t\tthis.$refs.board.scrollLeft = this.currentScrollPosX - deltaX\n\t\t},\n\n\t\tstopMouseDrag(event) {\n\t\t\twindow.removeEventListener('mousemove', this.handleMouseDrag)\n\t\t\twindow.removeEventListener('mouseup', this.stopMouseDrag)\n\t\t\twindow.removeEventListener('mouseleave', this.stopMouseDrag)\n\t\t},\n\n\t\tfixActionRestriction() {\n\t\t\tdocument.body.classList.remove(\n\t\t\t\t'smooth-dnd-no-user-select',\n\t\t\t\t'smooth-dnd-disable-touch-action',\n\t\t\t)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\t@import '../../css/animations';\n\t@import '../../css/variables';\n\n\tform {\n\t\ttext-align: center;\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\tmargin: auto;\n\t\tmargin-top: calc(var(--default-grid-baseline) * 4);\n\t\tgap: var(--default-grid-baseline);\n\n\t\tinput[type=\"text\"] {\n\t\t\tflex-grow: 1;\n\t\t}\n\t\tbutton[type=\"submit\"] {\n\t\t\tflex-shrink: 0;\n\t\t}\n\t}\n\n\t.board-wrapper {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tmax-height: calc(100vh - 50px);\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.board {\n\t\tpadding-left: $board-spacing;\n\t\tposition: relative;\n\t\tmax-height: calc(100% - var(--default-clickable-area));\n\t\toverflow: hidden;\n\t\toverflow-x: auto;\n\t\tflex-grow: 1;\n\t}\n\n\t/**\n\t * Combined rules to handle proper board scrolling and\n\t * drag and drop behavior\n\t */\n\t.smooth-dnd-container.horizontal {\n\t\tdisplay: flex;\n\t\talign-items: stretch;\n\t\theight: 100%;\n\n\t\t&:deep(.stack-draggable-wrapper.smooth-dnd-draggable-wrapper) {\n\t\t\tdisplay: flex;\n\t\t\theight: auto;\n\n\t\t\t.stack {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tposition: relative;\n\n\t\t\t\t.smooth-dnd-container.vertical {\n\t\t\t\t\tflex-grow: 1;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t// Margin left instead of padidng to avoid jumps on dropping a card\n\t\t\t\t\tmargin-left: $stack-spacing;\n\t\t\t\t\tpadding-right: $stack-spacing;\n\t\t\t\t\toverflow-x: hidden;\n\t\t\t\t\toverflow-y: auto;\n\t\t\t\t\tpadding-top: 15px;\n\t\t\t\t\tmargin-top: -10px;\n\t\t\t\t\tscrollbar-gutter: stable;\n\t\t\t\t}\n\n\t\t\t\t.smooth-dnd-container.vertical > .smooth-dnd-draggable-wrapper {\n\t\t\t\t\toverflow: initial;\n\t\t\t\t}\n\n\t\t\t\t.smooth-dnd-container.vertical .smooth-dnd-draggable-wrapper {\n\t\t\t\t\theight: auto;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=style&index=0&id=046cdef2&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Board.vue?vue&type=style&index=0&id=046cdef2&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Board.vue?vue&type=template&id=046cdef2&scoped=true\"\nimport script from \"./Board.vue?vue&type=script&lang=js\"\nexport * from \"./Board.vue?vue&type=script&lang=js\"\nimport style0 from \"./Board.vue?vue&type=style&index=0&id=046cdef2&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"046cdef2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"board-wrapper\",attrs:{\"tabindex\":-1},on:{\"touchend\":_vm.fixActionRestriction}},[_c('Controls',{attrs:{\"board\":_vm.board}}),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.loading)?_c('div',{key:\"loading\",staticClass:\"emptycontent\"},[_c('div',{staticClass:\"icon icon-loading\"}),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.t('deck', 'Loading board')))]),_vm._v(\" \"),_c('p')]):(!_vm.board)?_c('div',{key:\"notfound\",staticClass:\"emptycontent\"},[_c('div',{staticClass:\"icon icon-deck\"}),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.t('deck', 'Board not found')))]),_vm._v(\" \"),_c('p')]):(_vm.isEmpty)?_c('NcEmptyContent',{key:\"empty\",scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('DeckIcon')]},proxy:true},{key:\"name\",fn:function(){return [_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'No lists available'))+\"\\n\\t\\t\\t\")]},proxy:true},(_vm.canManage)?{key:\"action\",fn:function(){return [_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Create a new list to add cards to this board'))+\"\\n\\t\\t\\t\\t\"),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addNewStack()}}},[_c('NcTextField',{ref:\"newStackInput\",attrs:{\"disable\":_vm.loading,\"value\":_vm.newStackTitle,\"placeholder\":_vm.t('deck', 'List name'),\"type\":\"text\"},on:{\"update:value\":function($event){_vm.newStackTitle=$event}}}),_vm._v(\" \"),_c('NcButton',{attrs:{\"type\":\"secondary\",\"native-type\":\"submit\",\"disabled\":_vm.loading,\"title\":_vm.t('deck', 'Add list')},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(!_vm.loading)?_c('CheckIcon',{attrs:{\"size\":20}}):_c('NcLoadingIcon',{attrs:{\"size\":20}})]},proxy:true}],null,false,77803760)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('deck', 'Add list'))+\"\\n\\t\\t\\t\\t\\t\")])],1)]},proxy:true}:null],null,true)}):(!_vm.isEmpty && !_vm.loading)?_c('div',{key:\"board\",ref:\"board\",staticClass:\"board\",on:{\"mousedown\":_vm.onMouseDown}},[_c('Container',{attrs:{\"lock-axix\":\"y\",\"orientation\":\"horizontal\",\"drag-handle-selector\":_vm.dragHandleSelector,\"data-click-closes-sidebar\":\"true\"},on:{\"drag-start\":function($event){_vm.draggingStack = true},\"drag-end\":function($event){_vm.draggingStack = false},\"drop\":_vm.onDropStack}},_vm._l((_vm.stacksByBoard),function(stack){return _c('Draggable',{key:stack.id,staticClass:\"stack-draggable-wrapper\",attrs:{\"data-click-closes-sidebar\":\"true\",\"data-dragscroll-enabled\":\"\"}},[_c('Stack',{attrs:{\"stack\":stack,\"dragging\":_vm.draggingStack,\"data-click-closes-sidebar\":\"true\"}})],1)}),1)],1):_vm._e()],1),_vm._v(\" \"),(_vm.isFullApp)?_c('GlobalSearchResults'):_vm._e(),_vm._v(\" \"),(_vm.localModal)?_c('NcModal',{attrs:{\"clear-view-delay\":0,\"close-button-contained\":true,\"size\":\"large\"},on:{\"close\":function($event){_vm.localModal = null}}},[_c('div',{staticClass:\"modal__content modal__card\"},[_c('CardSidebar',{attrs:{\"id\":_vm.localModal},on:{\"close\":function($event){_vm.localModal = null}}})],1)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n-->\n\n<template>\n\t<div v-if=\"interactive\" class=\"deck-board-reference-interactive\">\n\t\t<Board :id=\"board.id\" />\n\t</div>\n\t<div v-else class=\"deck-board-reference\">\n\t\t<div class=\"line\">\n\t\t\t<DeckIcon :size=\"20\" class=\"title-icon\" />\n\t\t\t<strong>\n\t\t\t\t<a :href=\"boardLink\"\n\t\t\t\t\t:title=\"boardTooltip\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\tclass=\"link\">\n\t\t\t\t\t{{ board.title }}\n\t\t\t\t</a>\n\t\t\t</strong>\n\t\t</div>\n\t\t<div class=\"line\">\n\t\t\t{{ t('deck', 'Owner') + ': ' }}\n\t\t\t<NcUserBubble :user=\"boardOwnerUserId\"\n\t\t\t\t:display-name=\"boardOwnerDisplayName\" />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Board from '../components/board/Board.vue'\nimport DeckIcon from '../components/icons/DeckIcon.vue'\nimport { BoardApi } from './../services/BoardApi.js'\nimport store from './../store/main.js'\n\nimport NcUserBubble from '@nextcloud/vue/dist/Components/NcUserBubble.js'\n\nimport moment from '@nextcloud/moment'\nimport { generateUrl } from '@nextcloud/router'\n\nconst boardApi = new BoardApi()\n\nexport default {\n\tname: 'BoardReferenceWidget',\n\n\tstore,\n\n\tcomponents: {\n\t\tDeckIcon,\n\t\tNcUserBubble,\n\t\tBoard,\n\t},\n\n\tprovide() {\n\t\treturn {\n\t\t\tboardApi,\n\t\t}\n\t},\n\n\tprops: {\n\t\trichObjectType: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\trichObject: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\taccessible: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tinteractive: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\tcomputed: {\n\t\tboard() {\n\t\t\treturn this.richObject.board\n\t\t},\n\t\tboardLink() {\n\t\t\treturn generateUrl('/apps/deck/#/board/{boardId}', { boardId: this.board.id })\n\t\t},\n\t\tboardTooltip() {\n\t\t\treturn t('deck', 'Deck board {name}\\n* Last modified on {lastMod}', {\n\t\t\t\tname: this.board.title,\n\t\t\t\tlastMod: moment.unix(this.board.lastModified).format('LLL'),\n\t\t\t})\n\t\t},\n\t\tboardOwnerUserId() {\n\t\t\treturn this.board.owner?.uid ?? '???'\n\t\t},\n\t\tboardOwnerDisplayName() {\n\t\t\treturn this.board.owner?.displayname ?? this.boardOwnerUserId\n\t\t},\n\t},\n\n\tcreated() {\n\t\tthis.$store.commit('setFullApp', false)\n\t},\n\n}\n</script>\n\n<style scoped lang=\"scss\">\n.deck-board-reference {\n\twidth: 100%;\n\t// needed for the specific case of Text\n\t.editor__content & {\n\t\twidth: calc(100% - 24px);\n\t}\n\twhite-space: normal;\n\tpadding: 12px;\n\n\t.link {\n\t\ttext-decoration: underline;\n\t\tcolor: var(--color-main-text) !important;\n\t\tpadding: 0 !important;\n\t}\n\n\t.line {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t.icon {\n\t\t\tmargin-right: 4px;\n\t\t}\n\t\t.title-icon {\n\t\t\tmargin-right: 8px;\n\t\t}\n\t}\n}\n\n.deck-board-reference-interactive {\n\twidth: 100%;\n\tmin-height: min(50vh, calc(100vh - 100px));\n\tmax-height: calc(100vh - 120px);\n\t&:deep(.controls) {\n\t\tpadding-left: 12px;\n\t}\n\t&:deep(.board) {\n\t\tpadding-left: 0;\n\t}\n\t&:deep(*) {\n\t\t-webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */\n\t\t-moz-box-sizing: border-box;    /* Firefox, other Gecko */\n\t\tbox-sizing: border-box;         /* Opera/IE 8+ */\n\t}\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardReferenceWidget.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardReferenceWidget.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardReferenceWidget.vue?vue&type=style&index=0&id=5ea0696f&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoardReferenceWidget.vue?vue&type=style&index=0&id=5ea0696f&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./BoardReferenceWidget.vue?vue&type=template&id=5ea0696f&scoped=true\"\nimport script from \"./BoardReferenceWidget.vue?vue&type=script&lang=js\"\nexport * from \"./BoardReferenceWidget.vue?vue&type=script&lang=js\"\nimport style0 from \"./BoardReferenceWidget.vue?vue&type=style&index=0&id=5ea0696f&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ea0696f\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AvatarList.vue?vue&type=script&lang=js\""],"names":["name","components","NcAvatar","NcPopover","AccountMultiple","props","users","type","Array","default","data","popoverVisible","computed","firstUsers","length","slice","avatarUrl","assignable","user","participant","uid","generateUrl","size","window","location","protocol","host","popover","map","session","href","icon","text","displayname","t","avatarUsers","filter","includes","methods","togglePopover","render","_vm","this","_c","_self","staticClass","scopedSlots","_u","key","fn","_ref","attrs","_b","on","$event","stopPropagation","_e","_v","_l","id","_s","staticRenderFns","mixins","Color","labelStyle","label","backgroundColor","color","textColor","___CSS_LOADER_EXPORT___","push","module","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","exports","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","sessions","Number","sessionsVisible","sessionAvatarStyle","style","sessionApi","url","generateOcsUrl","createSession","boardId","axios","put","ocs","syncSession","token","post","closeSession","closeSessionViaBeacon","body","blob","Blob","JSON","stringify","navigator","sendBeacon","state","actions","card","getters","cardActions","mutations","ADD_CARD_ACTION","action","addCardAction","commit","StackApi","loadStacks","get","then","response","Promise","err","reject","catch","deletedStacks","loadArchivedStacks","createStack","stack","reorderStack","stackId","order","deleteStack","delete","updateStack","arrayToSort","removedIndex","addedIndex","result","itemToAdd","splice","apiClient","stacks","stacksByBoard","sort","a","b","stackById","find","addStack","existingIndex","findIndex","_stack","existingStack","Vue","assign","orderStack","currentOrder","newOrder","applyOrderToArray","i","parseInt","title","_ref2","_ref3","OC","Notification","showTemporary","console","error","message","_ref4","call","showArchived","cards","j","_ref5","archivedStacks","_ref6","currentBoard","createdStack","_ref7","_ref8","CardApi","cardsByStack","rootState","tags","due","unassigned","completed","done","allTagsMatch","allUsersMatch","forEach","tag","labels","l","assignedUsers","u","datediffHour","Date","duedate","overdue","getSearchQuery","hasMatch","matches","match","filterOutQuotes","q","query","indexOf","split","isEmptyQuery","toLowerCase","description","comparator","isValidComparator","parsedCardDate","moment","parsedDate","isBefore","isSameOrBefore","isAfter","isSameOrAfter","isSame","assignment","primaryKey","createdAt","cardById","addCard","_card","existingCard","deleteCard","updateCard","updateCardsReorder","newCard","assignCardToUser","cardId","removeUserFromCard","foundIndex","_user","updateCardProperty","property","now","cardSetAttachmentCount","count","cardIncreaseAttachmentCount","attachmentCount","cardDecreaseAttachmentCount","addNewCard","setCards","deletedCards","c","cloneCard","targetStackId","createdCard","updateCardTitle","updatedCard","moveCard","reorderCard","newCards","values","_ref9","archiveUnarchiveCard","_ref10","archived","changeCardDoneStatus","_ref11","_ref12","_ref13","assignee","assignUser","userId","_ref14","_ref15","removeUser","addLabel","_ref16","assignLabelToCard","removeLabel","_ref17","removeLabelFromCard","updateCardDesc","_ref18","updateCardDue","_ref19","addCardData","_ref20","cardData","relatedStack","relatedBoard","generateRemoteUrl","loadComments","limit","offset","params","headers","createComment","comment","replyTo","parentId","updateComment","deleteComment","markCommentsAsRead","readMarker","toUTCString","method","comments","getCommentsForCard","hasMoreComments","hasMore","endReached","addComments","undefined","newComments","item","_comment","setReplyTo","fetchComments","fetchMore","dispatch","stackApi","cardApi","setDeletedStacks","delStacks","moveStackToTrash","deletedAt","Math","floor","removeStackFromTrash","setDeletedCards","delCards","moveCardToTrash","removeCardFromTrash","fetchDeletedItems","stackUndoDelete","cardUndoDelete","fetchAttachments","createAttachment","formData","onUploadProgress","updateAttachment","attachment","deleteAttachment","restoreAttachment","displayAttachment","attachments","attachmentsByCard","createAttachments","deletedAttachment","unshareAttachment","restoredAttachment","use","Vuex","assignedCards","loading","assignedCardsDashboard","setAssignedCards","setLoading","promise","loadUpcoming","assignedCardsFlat","flat","BoardApi","BOARD_FILTERS","modules","trashbin","overview","strict","process","isFullApp","config","loadState","navShown","localStorage","getItem","compactMode","showCardCover","sidebarShown","currentCard","hasCardSaveError","boards","sharees","assignableUsers","boardFilter","searchQuery","activity","activityLoadMore","shortcutLock","getFilter","boardById","board","assignables","acl","group","circle","noneArchivedBoards","archivedBoards","sharedBoards","shared","filteredBoards","currentBoardLabels","canEdit","permissions","PERMISSION_EDIT","canManage","PERMISSION_MANAGE","canShare","PERMISSION_SHARE","isArchived","setFullApp","setHasCardSaveError","SET_CONFIG","value","scope","configKey","indexExisting","settings","setSearchQuery","SET_FILTER","TOGGLE_FILTER","toggleShowArchived","newState","arguments","addBoard","cloneBoard","removeBoard","toggleNav","navState","setItem","toggleSidebar","toggleCompactMode","toggleShowCardCover","setBoards","setSharees","shareesUsersAndGroups","exact","groups","circles","setAssignableUsers","setBoardFilter","setCurrentBoard","setCurrentCard","removeLabelFromCurrentBoard","labelId","removeIndex","updateLabelFromCurrentBoard","newLabel","labelToUpdate","addLabelToCurrentBoard","addAclToCurrentBoard","createdAcl","updateAclFromCurrentBoard","acl_","deleteAclFromCurrentBoard","index","attr","TOGGLE_SHORTCUT_LOCK","lock","setConfig","setFilter","toggleFilter","loadBoardById","loadById","refreshBoard","etagHasChanged","ETag","archiveBoard","boardCopy","parse","updateBoard","unarchiveBoard","createBoard","boardData","importBoard","file","withCards","withAssignments","withLabels","withDueDate","moveCardsToLeftStack","restoreArchivedCards","newBoard","loadBoards","loadSharees","URLSearchParams","append","commmit","_ref21","_ref22","_ref23","_ref24","_ref25","_ref26","_ref27","deleteLabel","_ref28","updateLabel","_ref29","createLabel","addLabelToCurrentBoardAndCard","_ref30","_ref31","_ref32","newAcl","addAcl","_ref33","updateAcl","_ref34","deleteAcl","transferOwnership","_ref35","_ref36","newOwner","toggleShortcutLock","_ref37","hasPush","syncRunning","isOurSessionToken","defaults","startsWith","isNotifyPushEnabled","close","tokenPromise","create","res","ensureSession","async","status","interval","setInterval","SESSION_INTERVAL","visibilitychangeListener","document","visibilityState","clearInterval","store","addEventListener","removeEventListener","listen","_causingSessionToken","currentBoardId","CreateNewCardCustomPicker","NcModal","NcActions","NcActionButton","NcButton","ArchiveIcon","ImageIcon","FilterIcon","FilterOffIcon","ArrowCollapseVerticalIcon","ArrowExpandVerticalIcon","TableColumnPlusAfter","SessionList","required","overviewName","String","newStackTitle","filterVisible","isAddStackVisible","showAddCardModal","defaultPageTitle","mapGetters","mapState","detailsRoute","isFilterActive","labelsSorted","presentUsers","activeSessions","watch","current","previous","clearFilter","setPageTitle","beforeMount","subscribe","clickShowAddCardModel","triggerOpenFilters","triggerClearFilter","triggerFilterByMe","beforeDestroy","unsubscribe","beforeSetFilter","target","$store","$nextTick","addNewStack","showAddStack","hideAddStack","toggleDetailsView","$route","$router","filterReset","clickHideAddCardModel","substring","newTitle","$refs","filterPopover","$el","click","triggerOpenSearch","search","focus","getCurrentUser","directives","rawName","expression","preventDefault","domProps","composing","apply","proxy","ref","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","$set","concat","_q","slot","DueState","CheckCircle","Clock","ClockOutline","dueState","days","diff","$root","time","relativeDate","date","fromNow","absoluteDate","format","DueDate","NcAvatarList","TextIcon","AttachmentIcon","CheckmarkIcon","CommentIcon","CommentUnreadIcon","CardId","checkListCount","checkListCheckedCount","commentsHint","commentsUnread","commentsCount","unread","idBadge","openComments","tabId","trim","_t","CardBulletedIcon","PencilIcon","hideDetailsEntry","Boolean","emits","modalShow","selectedBoard","selectedStack","stacksFromBoard","canEditBoard","isCurrentUserAssigned","cardRichObject","boardname","stackname","link","openCard","$emit","editTitle","undoCard","showUndo","currentRoute","assignCardToMe","unassignCardFromMe","openCardMoveDialog","emit","callback","LinkIcon","CardMenuEntries","openLink","open","referenceData","openGraphObject","extendedData","hasPreview","attachmentPreview","stackWidth","getComputedStyle","documentElement","getPropertyValue","x","ceil","fileid","referencePreview","richObject","thumb","immediate","handler","mapActions","backgroundImage","class","TITLE_EDITING_STATE","CardBadges","AttachmentDragAndDrop","CardMenu","CardCover","ClickOutside","standalone","dragging","highlight","editingTitle","displayTitle","reference","hasLabels","hasBadges","showMenuAtTitle","showMenuAtLabels","showMenuAtBadges","newValue","scrollIntoView","behavior","block","inline","hasSelection","getSelection","toString","event","tagName","triggerEditTitle","setTimeout","sel","selectAllChildren","titleContentEditable","collapseToEnd","onTitleBlur","innerText","replace","onTitleFocus","handleCardKeyboardShortcut","OCP","Accessibility","disableKeyboardShortcuts","shiftKey","ctrlKey","altKey","metaKey","querySelector","getElementById","toggleSelfAsignment","applyLabelFilter","isAssigned","currentTarget","_k","keyCode","CardItem","Container","Draggable","CardPlusOutline","editing","draggingCard","copiedStack","newCardTitle","showAddCard","stateCardCreating","animate","modalArchivAllCardsShow","stackTransfer","total","dragHandleSelector","cardDetailsInModal","set","newCardInput","mounted","setupAutoscrollOnDrag","stopCardCreation","parentElement","onDropCard","payload","debug","payloadForCard","setArchivedToAllCardsFromStack","startEditing","finishedEdit","cancelEdit","clickAddCard","showError","onCreateCardFocus","timer","viewportX","clientX","boardElement","clientWidth","scrollBoundary","innerWidth","scrollToX","scrollLeft","scrollTo","scrollTop","autoscroll","animated","refInFor","light","dark","styles","randWidth","random","width","cursor","cancelToken","CancelToken","source","request","term","cancel","InfiniteLoading","NcRichText","Placeholder","results","filteredResults","sortFn","lastModified","queryStringArgs","infiniteHandler","$state","loaded","complete","DueDateSelector","AssignmentSelector","TagSelector","Description","NcCollectionList","addedLabelToCard","copiedCard","locale","getLocale","projectsEnabled","initialize","descriptionChanged","newDesc","assignUserToCard","val","toISOString","debouncedUpdateCardDue","debounce","addLabelToCard","addLabelToBoardAndCard","randomColor","removedLabel","toDate","AttachmentList","At","NcUserBubble","commentText","members","validate","submit","content","contentEditableToParsed","temp","createElement","innerHTML","textContent","contentEditable","node","cloneNode","querySelectorAll","mention","mentionValue","attributes","parentNode","firstChild","replaceWith","rawToParsed","handleKeydown","atwho","onPaste","clipboardData","getData","execCommand","s","model","AtMention","functional","context","displayName","contenteditable","CommentForm","ReplyIcon","reply","preview","edit","commentMsg","actorId","richText","parsedMessage","mentions","hash","md5","mentionId","join","richArgs","reduce","component","mentionDisplayName","div","formattedTimestamp","creationDateTime","showUpdateForm","richTextElement","children","hideUpdateForm","objectId","actorDisplayName","CommentItem","tabQuery","newComment","isLoading","currentUser","loadMore","commentObj","cancelReply","InternalLink","formatReadableDate","subject","subject_rich","parameters","after","dateTime","applyMonochromeIconColor","endsWith","sanitizedMessage","DOMPurify","sanitize","ALLOWED_TAGS","ALLOWED_ATTR","datetime","ActivityEntry","objectType","activities","since","loadActivity","validateStatus","object_type","object_id","activity_id","changeObject","ActivityList","$parent","isActive","capabilities","getCapabilities","NcAppSidebar","NcAppSidebarTab","NcReferenceList","CardSidebarTabAttachments","CardSidebarTabComments","CardSidebarTabActivity","CardSidebarTabDetails","ActivityIcon","CommentOutlineIcon","HomeIcon","HomeOutlineIcon","isEditingTitle","titleEditing","hasActivity","activeTabId","subtitle","subtitleTooltip","formatDate","oldCard","focusHeader","cardSidebar","handleSubmitTitle","closeSidebar","showWarning","showModal","closeModal","timestamp","unix","GlobalSearchResults","Controls","DeckIcon","Stack","NcEmptyContent","NcTextField","NcLoadingIcon","CheckIcon","CardSidebar","inject","draggingStack","currentScrollPosX","currentMousePosX","localModal","isEmpty","oldValue","fetchData","newStackInput","created","$on","routeCardId","onDropStack","newStack","onMouseDown","startMouseDrag","dataset","handleMouseDrag","stopMouseDrag","deltaX","fixActionRestriction","classList","remove","boardApi","Board","provide","richObjectType","accessible","interactive","boardLink","boardTooltip","lastMod","boardOwnerUserId","owner","boardOwnerDisplayName"],"sourceRoot":""}