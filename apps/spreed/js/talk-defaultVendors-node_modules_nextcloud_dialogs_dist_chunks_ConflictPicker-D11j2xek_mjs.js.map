{"version":3,"file":"talk-defaultVendors-node_modules_nextcloud_dialogs_dist_chunks_ConflictPicker-D11j2xek_mjs.js?v=00c3a0003c741df2b158","mappings":"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","sources":["webpack:///talk/node_modules/@nextcloud/dialogs/dist/chunks/ConflictPicker-D11j2xek.mjs"],"sourcesContent":["import { defineComponent, mergeModels, useModel, ref, computed, watch, createElementBlock, openBlock, normalizeClass, createElementVNode, createVNode, toDisplayString, unref, withCtx, createBlock, useTemplateRef, shallowRef, createTextVNode, Fragment, withModifiers, renderList, createCommentVNode } from \"vue\";\nimport { mdiFolder, mdiFile, mdiClose, mdiArrowRight } from \"@mdi/js\";\nimport NcButton from \"@nextcloud/vue/components/NcButton\";\nimport NcCheckboxRadioSwitch from \"@nextcloud/vue/components/NcCheckboxRadioSwitch\";\nimport NcDialog from \"@nextcloud/vue/components/NcDialog\";\nimport NcIconSvgWrapper from \"@nextcloud/vue/components/NcIconSvgWrapper\";\nimport { FileType } from \"@nextcloud/files\";\nimport NcDateTime from \"@nextcloud/vue/components/NcDateTime\";\nimport { g as getPreviewURL } from \"./preview-BIbJGxXF.mjs\";\nimport { t, n, l as logger, s as showError } from \"./index-hZPKu-D6.mjs\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nconst _hoisted_1$1 = [\"src\"];\nconst _hoisted_2$1 = { key: 1 };\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = { key: 1 };\nconst PREVIEW_SIZE = 64;\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  __name: \"ConflictPickerEntry\",\n  props: /* @__PURE__ */ mergeModels({\n    existing: {},\n    incoming: {}\n  }, {\n    \"existingSelected\": { type: Boolean, ...{ required: true } },\n    \"existingSelectedModifiers\": {},\n    \"incomingSelected\": { type: Boolean, ...{ required: true } },\n    \"incomingSelectedModifiers\": {}\n  }),\n  emits: [\"update:existingSelected\", \"update:incomingSelected\"],\n  setup(__props, { expose: __expose }) {\n    const existingSelected = useModel(__props, \"existingSelected\");\n    const incomingSelected = useModel(__props, \"incomingSelected\");\n    const props = __props;\n    __expose({ validate });\n    const isFileSystemEntry = (o) => \"FileSystemEntry\" in window && o instanceof window.FileSystemEntry;\n    const isFileSystemFileEntry = (o) => \"FileSystemFileEntry\" in window && o instanceof window.FileSystemFileEntry;\n    const validationMessage = ref(\"\");\n    const incomingPreview = ref();\n    const existingPreview = ref();\n    const incomingMTime = ref();\n    const existingMTime = ref();\n    const incomingSize = ref();\n    const existingSize = ref();\n    const conflictResolved = computed(() => incomingSelected.value || existingSelected.value);\n    const isExistingFolder = computed(() => props.existing.type === FileType.Folder);\n    const isIncomingFolder = computed(() => {\n      if (isFileSystemEntry(props.incoming)) {\n        return props.incoming.isDirectory;\n      } else if (props.incoming instanceof File) {\n        return false;\n      }\n      return props.incoming.type === FileType.Folder;\n    });\n    watch(() => props.existing, async () => {\n      existingMTime.value = getMTime(props.existing);\n      existingSize.value = getSize(props.existing);\n      existingPreview.value = await getPreview(props.existing);\n    });\n    watch(() => props.incoming, async () => {\n      const file = await getFileOrNode(props.incoming);\n      if (file === null) {\n        return;\n      }\n      incomingMTime.value = getMTime(file);\n      incomingSize.value = getSize(file);\n      incomingPreview.value = await getPreview(file);\n    });\n    async function getFileOrNode(input) {\n      if (isFileSystemFileEntry(input)) {\n        return await new Promise((resolve, reject) => input.file(resolve, reject));\n      } else if (isFileSystemEntry(input)) {\n        return null;\n      }\n      return input;\n    }\n    function getSize(input) {\n      return input.size;\n    }\n    function getMTime(input) {\n      if (input instanceof File) {\n        const mtime = input.lastModified;\n        if (mtime > 0) {\n          return new Date(mtime);\n        }\n      } else {\n        return input.mtime;\n      }\n    }\n    async function getPreview(input) {\n      if (input instanceof File) {\n        return await getFilePreview(input);\n      }\n      return getPreviewURL(input, { size: PREVIEW_SIZE })?.toString();\n    }\n    async function getFilePreview(file) {\n      if (!file.type.startsWith(\"image/\")) {\n        return void 0;\n      }\n      const { resolve, promise } = Promise.withResolvers();\n      const reader = new FileReader();\n      reader.onload = async (e) => {\n        const result = e?.target?.result;\n        if (result instanceof ArrayBuffer) {\n          const blob = new Blob([result], { type: file.type });\n          const url = URL.createObjectURL(blob);\n          resolve(url);\n          return;\n        }\n        resolve(void 0);\n      };\n      reader.readAsArrayBuffer(file);\n      return promise;\n    }\n    function validate() {\n      validationMessage.value = !incomingSelected.value && !existingSelected.value ? t(\"You need to choose at least one conflict solution\") : \"\";\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"fieldset\", {\n        class: normalizeClass(_ctx.$style.pickerEntry)\n      }, [\n        createElementVNode(\"legend\", null, toDisplayString(__props.existing.basename), 1),\n        createVNode(unref(NcCheckboxRadioSwitch), {\n          modelValue: incomingSelected.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => incomingSelected.value = $event),\n          error: !!validationMessage.value,\n          \"helper-text\": validationMessage.value,\n          required: !conflictResolved.value\n        }, {\n          default: withCtx(() => [\n            createElementVNode(\"span\", {\n              class: normalizeClass(_ctx.$style.pickerEntryItem)\n            }, [\n              !incomingPreview.value ? (openBlock(), createBlock(unref(NcIconSvgWrapper), {\n                key: 0,\n                class: normalizeClass([_ctx.$style.pickerEntryIcon, { [_ctx.$style.pickerEntryIcon_folder]: isExistingFolder.value }]),\n                path: isIncomingFolder.value ? unref(mdiFolder) : unref(mdiFile),\n                size: 48\n              }, null, 8, [\"class\", \"path\"])) : (openBlock(), createElementBlock(\"img\", {\n                key: 1,\n                class: normalizeClass(_ctx.$style.pickerEntryPreview),\n                src: incomingPreview.value,\n                alt: \"\",\n                loading: \"lazy\"\n              }, null, 10, _hoisted_1$1)),\n              createElementVNode(\"span\", {\n                class: normalizeClass(_ctx.$style.pickerEntryDescription)\n              }, [\n                createElementVNode(\"span\", null, toDisplayString(unref(t)(\"New version\")), 1),\n                incomingMTime.value ? (openBlock(), createBlock(unref(NcDateTime), {\n                  key: 0,\n                  timestamp: incomingMTime.value,\n                  \"relative-time\": false,\n                  format: { timeStyle: \"short\", dateStyle: \"medium\" }\n                }, null, 8, [\"timestamp\"])) : (openBlock(), createElementBlock(\"span\", _hoisted_2$1, toDisplayString(unref(t)(\"Last modified date unknown\")), 1)),\n                createElementVNode(\"span\", null, toDisplayString(incomingSize.value), 1)\n              ], 2)\n            ], 2)\n          ]),\n          _: 1\n        }, 8, [\"modelValue\", \"error\", \"helper-text\", \"required\"]),\n        createVNode(unref(NcCheckboxRadioSwitch), {\n          modelValue: existingSelected.value,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => existingSelected.value = $event),\n          error: !!validationMessage.value,\n          \"helper-text\": validationMessage.value,\n          required: !conflictResolved.value\n        }, {\n          default: withCtx(() => [\n            createElementVNode(\"span\", {\n              class: normalizeClass(_ctx.$style.pickerEntryItem)\n            }, [\n              !existingPreview.value ? (openBlock(), createBlock(unref(NcIconSvgWrapper), {\n                key: 0,\n                class: normalizeClass([_ctx.$style.pickerEntryIcon, { [_ctx.$style.pickerEntryIcon_folder]: isExistingFolder.value }]),\n                path: isExistingFolder.value ? unref(mdiFolder) : unref(mdiFile),\n                size: 48\n              }, null, 8, [\"class\", \"path\"])) : (openBlock(), createElementBlock(\"img\", {\n                key: 1,\n                class: normalizeClass(_ctx.$style.pickerEntryPreview),\n                src: existingPreview.value,\n                alt: \"\",\n                loading: \"lazy\"\n              }, null, 10, _hoisted_3)),\n              createElementVNode(\"span\", {\n                class: normalizeClass(_ctx.$style.pickerEntryDescription)\n              }, [\n                createElementVNode(\"span\", null, toDisplayString(unref(t)(\"Existing version\")), 1),\n                existingMTime.value ? (openBlock(), createBlock(unref(NcDateTime), {\n                  key: 0,\n                  timestamp: existingMTime.value,\n                  \"relative-time\": false,\n                  format: { timeStyle: \"short\", dateStyle: \"medium\" }\n                }, null, 8, [\"timestamp\"])) : (openBlock(), createElementBlock(\"span\", _hoisted_4, toDisplayString(unref(t)(\"Last modified date unknown\")), 1)),\n                createElementVNode(\"span\", null, toDisplayString(existingSize.value), 1)\n              ], 2)\n            ], 2)\n          ]),\n          _: 1\n        }, 8, [\"modelValue\", \"error\", \"helper-text\", \"required\"])\n      ], 2);\n    };\n  }\n});\nconst pickerEntry = \"_pickerEntry_xk2pl_1\";\nconst pickerEntryItem = \"_pickerEntryItem_xk2pl_5\";\nconst pickerEntryIcon = \"_pickerEntryIcon_xk2pl_11\";\nconst pickerEntryPreview = \"_pickerEntryPreview_xk2pl_12\";\nconst pickerEntryIcon_folder = \"_pickerEntryIcon_folder_xk2pl_24\";\nconst pickerEntryDescription = \"_pickerEntryDescription_xk2pl_34\";\nconst style0$1 = {\n  pickerEntry,\n  pickerEntryItem,\n  pickerEntryIcon,\n  pickerEntryPreview,\n  pickerEntryIcon_folder,\n  pickerEntryDescription\n};\nconst cssModules$1 = {\n  \"$style\": style0$1\n};\nconst ConflictPickerEntry = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"__cssModules\", cssModules$1]]);\nconst _hoisted_1 = { class: \"hidden-visually\" };\nconst _hoisted_2 = {\n  key: 0,\n  class: \"hidden-visually\"\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"ConflictPicker\",\n  props: {\n    container: {},\n    dirname: {},\n    existing: {},\n    incoming: {},\n    recursiveUpload: { type: Boolean }\n  },\n  emits: [\"close\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit = __emit;\n    const blockedTitle = t(\"You need to select at least one version of each file to continue.\");\n    const formElement = useTemplateRef(\"form\");\n    const conflictEntries = useTemplateRef(\"conflictEntry\");\n    const newSelected = shallowRef([]);\n    const oldSelected = shallowRef([]);\n    const isNoNewSelected = computed(() => newSelected.value.length === 0);\n    const areAllNewSelected = computed(() => newSelected.value.length === props.incoming.length);\n    const areSomeNewSelected = computed(() => !areAllNewSelected.value && !isNoNewSelected.value);\n    const areAllOldSelected = computed(() => oldSelected.value.length === props.existing.length);\n    const areSomeOldSelected = computed(() => !areAllOldSelected.value && !isNoNewSelected.value);\n    const areConflictsResolved = computed(() => {\n      for (const conflict of props.incoming) {\n        if (oldSelected.value.includes(conflict) || newSelected.value.includes(conflict)) {\n          continue;\n        }\n        return false;\n      }\n      return true;\n    });\n    const dialogName = computed(() => props.dirname?.trim() !== \"\" ? n(\"%n file conflict in {dirname}\", \"%n file conflicts in {dirname}\", props.incoming.length, { dirname: props.dirname }) : n(\"%n file conflict\", \"%n files conflict\", props.incoming.length));\n    function onCancel() {\n      emit(\"close\", null);\n    }\n    function onSkipAll() {\n      logger.debug(\"Conflict skipped. Ignoring all conflicting files\");\n      emit(\"close\", {\n        selected: [],\n        renamed: [],\n        skipped: [...props.incoming]\n      });\n    }\n    function onSelectAllNew(selected) {\n      if (selected) {\n        logger.debug(\"Selected all new files\");\n        newSelected.value = [...props.incoming];\n      } else {\n        logger.debug(\"Cleared new selection\");\n        newSelected.value = [];\n      }\n    }\n    function onSelectAllOld(selected) {\n      if (selected) {\n        logger.debug(\"Selected all existing files\");\n        oldSelected.value = [...props.incoming];\n      } else {\n        logger.debug(\"Cleared old selection\");\n        oldSelected.value = [];\n      }\n    }\n    function toggleOldSelected(conflict) {\n      if (oldSelected.value.includes(conflict)) {\n        oldSelected.value = oldSelected.value.filter((entry) => entry !== conflict);\n      } else {\n        oldSelected.value = [...oldSelected.value, conflict];\n      }\n    }\n    function toggleNewSelected(conflict) {\n      if (newSelected.value.includes(conflict)) {\n        newSelected.value = newSelected.value.filter((entry) => entry !== conflict);\n      } else {\n        newSelected.value = [...newSelected.value, conflict];\n      }\n    }\n    function onSubmit() {\n      if (!areConflictsResolved.value) {\n        for (const entry of conflictEntries.value) {\n          entry.validate();\n        }\n        formElement.value.reportValidity();\n        showError(blockedTitle);\n        return;\n      }\n      const selected = newSelected.value.filter((entry) => !oldSelected.value.includes(entry));\n      const renamed = newSelected.value.filter((entry) => oldSelected.value.includes(entry));\n      const skipped = oldSelected.value.filter((entry) => !newSelected.value.includes(entry));\n      emit(\"close\", {\n        renamed,\n        selected,\n        skipped\n      });\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(NcDialog), {\n        container: __props.container,\n        class: normalizeClass(_ctx.$style.picker),\n        name: dialogName.value,\n        size: \"large\",\n        onClosing: onCancel\n      }, {\n        actions: withCtx(() => [\n          createVNode(unref(NcButton), {\n            title: unref(t)(\"Cancel the entire operation\"),\n            \"data-cy-conflict-picker-cancel\": \"\",\n            variant: \"tertiary\",\n            onClick: onCancel\n          }, {\n            icon: withCtx(() => [\n              createVNode(unref(NcIconSvgWrapper), { path: unref(mdiClose) }, null, 8, [\"path\"])\n            ]),\n            default: withCtx(() => [\n              createTextVNode(\" \" + toDisplayString(unref(t)(\"Cancel\")), 1)\n            ]),\n            _: 1\n          }, 8, [\"title\"]),\n          createElementVNode(\"span\", {\n            class: normalizeClass(_ctx.$style.pickerActionSeparator)\n          }, null, 2),\n          createVNode(unref(NcButton), { onClick: onSkipAll }, {\n            icon: withCtx(() => [\n              createVNode(unref(NcIconSvgWrapper), { path: unref(mdiClose) }, null, 8, [\"path\"])\n            ]),\n            default: withCtx(() => [\n              createTextVNode(\" \" + toDisplayString(__props.incoming.length === 1 ? unref(t)(\"Skip this file\") : unref(n)(\"Skip %n file\", \"Skip %n files\", __props.incoming.length)), 1)\n            ]),\n            _: 1\n          }),\n          createVNode(unref(NcButton), {\n            \"aria-disabled\": !areConflictsResolved.value,\n            class: normalizeClass([\n              _ctx.$style.pickerActionSubmit,\n              {\n                [_ctx.$style.pickerActionSubmit_disabled]: !areConflictsResolved.value\n              }\n            ]),\n            title: areConflictsResolved.value ? \"\" : unref(blockedTitle),\n            type: \"submit\",\n            variant: \"primary\",\n            onClick: withModifiers(onSubmit, [\"stop\", \"prevent\"])\n          }, {\n            icon: withCtx(() => [\n              createVNode(unref(NcIconSvgWrapper), {\n                directional: \"\",\n                path: unref(mdiArrowRight)\n              }, null, 8, [\"path\"])\n            ]),\n            default: withCtx(() => [\n              createTextVNode(\" \" + toDisplayString(unref(t)(\"Continue\")) + \" \", 1),\n              !areConflictsResolved.value ? (openBlock(), createElementBlock(\"span\", _hoisted_2, toDisplayString(unref(blockedTitle)), 1)) : createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          }, 8, [\"aria-disabled\", \"class\", \"title\"])\n        ]),\n        default: withCtx(() => [\n          createElementVNode(\"div\", {\n            class: normalizeClass(_ctx.$style.pickerHeader)\n          }, [\n            createElementVNode(\"p\", {\n              id: \"conflict-picker-description\",\n              class: normalizeClass(_ctx.$style.pickerDescription)\n            }, [\n              createTextVNode(toDisplayString(unref(t)(\"Which files do you want to keep?\")), 1),\n              _cache[0] || (_cache[0] = createElementVNode(\"br\", null, null, -1)),\n              createTextVNode(\" \" + toDisplayString(unref(t)(\"If you select both versions, the incoming file will have a number added to its name.\")), 1),\n              _cache[1] || (_cache[1] = createElementVNode(\"br\", null, null, -1)),\n              __props.recursiveUpload ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n                createTextVNode(toDisplayString(unref(t)(\"When an incoming folder is selected, the content is written into the existing folder and a recursive conflict resolution is performed.\")), 1)\n              ], 64)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n                createTextVNode(toDisplayString(unref(t)(\"When an incoming folder is selected, any conflicting files within it will also be overwritten.\")), 1)\n              ], 64))\n            ], 2)\n          ], 2),\n          createElementVNode(\"form\", {\n            ref: \"form\",\n            \"aria-labelledby\": \"conflict-picker-description\",\n            class: normalizeClass(_ctx.$style.pickerForm),\n            onSubmit: withModifiers(onSubmit, [\"prevent\", \"stop\"])\n          }, [\n            createElementVNode(\"fieldset\", {\n              class: normalizeClass(_ctx.$style.pickerSelectAll)\n            }, [\n              createElementVNode(\"legend\", _hoisted_1, toDisplayString(unref(t)(\"Select all checkboxes\")), 1),\n              createVNode(unref(NcCheckboxRadioSwitch), {\n                \"model-value\": areAllNewSelected.value,\n                indeterminate: areSomeNewSelected.value,\n                \"onUpdate:modelValue\": onSelectAllNew\n              }, {\n                default: withCtx(() => [\n                  createTextVNode(toDisplayString(unref(t)(\"Select all new files\")), 1)\n                ]),\n                _: 1\n              }, 8, [\"model-value\", \"indeterminate\"]),\n              createVNode(unref(NcCheckboxRadioSwitch), {\n                \"model-value\": areAllOldSelected.value,\n                indeterminate: areSomeOldSelected.value,\n                \"onUpdate:modelValue\": onSelectAllOld\n              }, {\n                default: withCtx(() => [\n                  createTextVNode(toDisplayString(unref(t)(\"Select all existing files\")), 1)\n                ]),\n                _: 1\n              }, 8, [\"model-value\", \"indeterminate\"])\n            ], 2),\n            (openBlock(true), createElementBlock(Fragment, null, renderList(__props.existing, (node, index) => {\n              return openBlock(), createBlock(ConflictPickerEntry, {\n                ref_for: true,\n                ref: \"conflictEntry\",\n                key: node.fileid,\n                incoming: __props.incoming[index],\n                existing: node,\n                \"incoming-selected\": newSelected.value.includes(__props.incoming[index]),\n                \"existing-selected\": oldSelected.value.includes(__props.incoming[index]),\n                \"onUpdate:existingSelected\": ($event) => toggleOldSelected(__props.incoming[index]),\n                \"onUpdate:incomingSelected\": ($event) => toggleNewSelected(__props.incoming[index])\n              }, null, 8, [\"incoming\", \"existing\", \"incoming-selected\", \"existing-selected\", \"onUpdate:existingSelected\", \"onUpdate:incomingSelected\"]);\n            }), 128))\n          ], 34)\n        ]),\n        _: 1\n      }, 8, [\"container\", \"class\", \"name\"]);\n    };\n  }\n});\nconst picker = \"_picker_6q4ek_1\";\nconst pickerHeader = \"_pickerHeader_6q4ek_6\";\nconst pickerForm = \"_pickerForm_6q4ek_15\";\nconst pickerActionSubmit_disabled = \"_pickerActionSubmit_disabled_6q4ek_22\";\nconst pickerSelectAll = \"_pickerSelectAll_6q4ek_27\";\nconst style0 = {\n  picker,\n  pickerHeader,\n  pickerForm,\n  pickerActionSubmit_disabled,\n  pickerSelectAll,\n  \"conflict-picker__all\": \"_conflict-picker__all_6q4ek_40\"\n};\nconst cssModules = {\n  \"$style\": style0\n};\nconst ConflictPicker = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__cssModules\", cssModules]]);\nexport {\n  ConflictPicker as default\n};\n//# sourceMappingURL=ConflictPicker-D11j2xek.mjs.map\n"],"names":["_hoisted_1$1","_hoisted_2$1","_hoisted_3","_hoisted_4","PREVIEW_SIZE","_sfc_main$1","__props","__expose","existingSelected","incomingSelected","props","validate","isFileSystemEntry","o","isFileSystemFileEntry","validationMessage","incomingPreview","existingPreview","incomingMTime","existingMTime","incomingSize","existingSize","conflictResolved","isExistingFolder","isIncomingFolder","getMTime","getSize","getPreview","file","getFileOrNode","input","resolve","reject","mtime","getFilePreview","promise","reader","e","result","blob","url","_ctx","_cache","$event","cssModules$1","ConflictPickerEntry","_hoisted_1","_hoisted_2","_sfc_main","__emit","emit","blockedTitle","formElement","conflictEntries","newSelected","oldSelected","isNoNewSelected","areAllNewSelected","areSomeNewSelected","areAllOldSelected","areSomeOldSelected","areConflictsResolved","conflict","dialogName","onCancel","onSkipAll","onSelectAllNew","selected","onSelectAllOld","toggleOldSelected","entry","toggleNewSelected","onSubmit","renamed","skipped","node","index","cssModules","ConflictPicker"],"sourceRoot":""}