(()=>{var Tr=Object.defineProperty;var ur=_e=>{throw TypeError(_e)};var Nr=(_e,Ee,se)=>Ee in _e?Tr(_e,Ee,{enumerable:!0,configurable:!0,writable:!0,value:se}):_e[Ee]=se;var Te=(_e,Ee,se)=>Nr(_e,typeof Ee!="symbol"?Ee+"":Ee,se),Hn=(_e,Ee,se)=>Ee.has(_e)||ur("Cannot "+se);var q=(_e,Ee,se)=>(Hn(_e,Ee,"read from private field"),se?se.call(_e):Ee.get(_e)),vt=(_e,Ee,se)=>Ee.has(_e)?ur("Cannot add the same private member more than once"):Ee instanceof WeakSet?Ee.add(_e):Ee.set(_e,se),We=(_e,Ee,se,he)=>(Hn(_e,Ee,"write to private field"),he?he.call(_e,se):Ee.set(_e,se),se),Bt=(_e,Ee,se)=>(Hn(_e,Ee,"access private method"),se);(self.webpackChunktalk=self.webpackChunktalk||[]).push([["defaultVendors-node_modules_nextcloud_dialogs_dist_chunks__plugin-vue_export-helper-1tPrXgE0_-e37598"],{36117:function(_e,Ee){var se,he,ye;function De(ee){"@babel/helpers - typeof";return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},De(ee)}(function(ee,ne){if(1)he=[Ee],se=ne,ye=typeof se=="function"?se.apply(Ee,he):se,ye!==void 0&&(_e.exports=ye);else var J})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:this,function(ee){"use strict";Object.defineProperty(ee,"__esModule",{value:!0}),ee.CancelablePromise=void 0,ee.cancelable=Et,ee.default=void 0,ee.isCancelablePromise=$e;function ne(C,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create($&&$.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),$&&J(C,$)}function J(C,$){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ie,Ne){return ie.__proto__=Ne,ie},J(C,$)}function L(C){var $=K();return function(){var ie=ce(C),Ne;if($){var Ae=ce(this).constructor;Ne=Reflect.construct(ie,arguments,Ae)}else Ne=ie.apply(this,arguments);return j(this,Ne)}}function j(C,$){if($&&(De($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z(C)}function Z(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function K(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ce(C){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},ce(C)}function Q(C,$){var B=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!B){if(Array.isArray(C)||(B=te(C))||$&&C&&typeof C.length=="number"){B&&(C=B);var ie=0,Ne=function(){};return{s:Ne,n:function(){return ie>=C.length?{done:!0}:{done:!1,value:C[ie++]}},e:function(dt){throw dt},f:Ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ae=!0,Me=!1,ht;return{s:function(){B=B.call(C)},n:function(){var dt=B.next();return Ae=dt.done,dt},e:function(dt){Me=!0,ht=dt},f:function(){try{!Ae&&B.return!=null&&B.return()}finally{if(Me)throw ht}}}}function te(C,$){if(C){if(typeof C=="string")return pe(C,$);var B=Object.prototype.toString.call(C).slice(8,-1);if(B==="Object"&&C.constructor&&(B=C.constructor.name),B==="Map"||B==="Set")return Array.from(C);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return pe(C,$)}}function pe(C,$){($==null||$>C.length)&&($=C.length);for(var B=0,ie=new Array($);B<$;B++)ie[B]=C[B];return ie}function oe(C,$){if(!(C instanceof $))throw new TypeError("Cannot call a class as a function")}function Se(C,$){for(var B=0;B<$.length;B++){var ie=$[B];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(C,ie.key,ie)}}function ve(C,$,B){return $&&Se(C.prototype,$),B&&Se(C,B),Object.defineProperty(C,"prototype",{writable:!1}),C}function F(C,$,B){return $ in C?Object.defineProperty(C,$,{value:B,enumerable:!0,configurable:!0,writable:!0}):C[$]=B,C}function X(C,$,B){me(C,$),$.set(C,B)}function me(C,$){if($.has(C))throw new TypeError("Cannot initialize the same private elements twice on an object")}function we(C,$){var B=yt(C,$,"get");return Pe(C,B)}function Pe(C,$){return $.get?$.get.call(C):$.value}function At(C,$,B){var ie=yt(C,$,"set");return Ct(C,ie,B),B}function yt(C,$,B){if(!$.has(C))throw new TypeError("attempted to "+B+" private field on non-instance");return $.get(C)}function Ct(C,$,B){if($.set)$.set.call(C,B);else{if(!$.writable)throw new TypeError("attempted to set read only private field");$.value=B}}var Ot=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",Fe=new WeakMap,bt=new WeakMap,ft=function(){function C($){var B=$.executor,ie=B===void 0?function(){}:B,Ne=$.internals,Ae=Ne===void 0?G():Ne,Me=$.promise,ht=Me===void 0?new Promise(function(Ze,dt){return ie(Ze,dt,function(Gt){Ae.onCancelList.push(Gt)})}):Me;oe(this,C),X(this,Fe,{writable:!0,value:void 0}),X(this,bt,{writable:!0,value:void 0}),F(this,Ot,"CancelablePromise"),this.cancel=this.cancel.bind(this),At(this,Fe,Ae),At(this,bt,ht||new Promise(function(Ze,dt){return ie(Ze,dt,function(Gt){Ae.onCancelList.push(Gt)})}))}return ve(C,[{key:"then",value:function(B,ie){return gt(we(this,bt).then(Qe(B,we(this,Fe)),Qe(ie,we(this,Fe))),we(this,Fe))}},{key:"catch",value:function(B){return gt(we(this,bt).catch(Qe(B,we(this,Fe))),we(this,Fe))}},{key:"finally",value:function(B,ie){var Ne=this;return ie&&we(this,Fe).onCancelList.push(B),gt(we(this,bt).finally(Qe(function(){if(B)return ie&&(we(Ne,Fe).onCancelList=we(Ne,Fe).onCancelList.filter(function(Ae){return Ae!==B})),B()},we(this,Fe))),we(this,Fe))}},{key:"cancel",value:function(){we(this,Fe).isCanceled=!0;var B=we(this,Fe).onCancelList;we(this,Fe).onCancelList=[];var ie=Q(B),Ne;try{for(ie.s();!(Ne=ie.n()).done;){var Ae=Ne.value;if(typeof Ae=="function")try{Ae()}catch(Me){console.error(Me)}}}catch(Me){ie.e(Me)}finally{ie.f()}}},{key:"isCanceled",value:function(){return we(this,Fe).isCanceled===!0}}]),C}(),Ke=function(C){ne(B,C);var $=L(B);function B(ie){return oe(this,B),$.call(this,{executor:ie})}return ve(B)}(ft);ee.CancelablePromise=Ke,F(Ke,"all",function($){return D($,Promise.all($))}),F(Ke,"allSettled",function($){return D($,Promise.allSettled($))}),F(Ke,"any",function($){return D($,Promise.any($))}),F(Ke,"race",function($){return D($,Promise.race($))}),F(Ke,"resolve",function($){return Et(Promise.resolve($))}),F(Ke,"reject",function($){return Et(Promise.reject($))}),F(Ke,"isCancelable",$e);var Vt=Ke;ee.default=Vt;function Et(C){return gt(C,G())}function $e(C){return C instanceof Ke||C instanceof ft}function Qe(C,$){if(C)return function(B){if(!$.isCanceled){var ie=C(B);return $e(ie)&&$.onCancelList.push(ie.cancel),ie}return B}}function gt(C,$){return new ft({internals:$,promise:C})}function D(C,$){var B=G();return B.onCancelList.push(function(){var ie=Q(C),Ne;try{for(ie.s();!(Ne=ie.n()).done;){var Ae=Ne.value;$e(Ae)&&Ae.cancel()}}catch(Me){ie.e(Me)}finally{ie.f()}}),new ft({internals:B,promise:$})}function G(){return{isCanceled:!1,onCancelList:[]}}})},57975:(_e,Ee,se)=>{"use strict";var he=se(65606);function ye(J){if(typeof J!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(J))}function De(J,L){for(var j="",Z=0,K=-1,ce=0,Q,te=0;te<=J.length;++te){if(te<J.length)Q=J.charCodeAt(te);else{if(Q===47)break;Q=47}if(Q===47){if(!(K===te-1||ce===1))if(K!==te-1&&ce===2){if(j.length<2||Z!==2||j.charCodeAt(j.length-1)!==46||j.charCodeAt(j.length-2)!==46){if(j.length>2){var pe=j.lastIndexOf("/");if(pe!==j.length-1){pe===-1?(j="",Z=0):(j=j.slice(0,pe),Z=j.length-1-j.lastIndexOf("/")),K=te,ce=0;continue}}else if(j.length===2||j.length===1){j="",Z=0,K=te,ce=0;continue}}L&&(j.length>0?j+="/..":j="..",Z=2)}else j.length>0?j+="/"+J.slice(K+1,te):j=J.slice(K+1,te),Z=te-K-1;K=te,ce=0}else Q===46&&ce!==-1?++ce:ce=-1}return j}function ee(J,L){var j=L.dir||L.root,Z=L.base||(L.name||"")+(L.ext||"");return j?j===L.root?j+Z:j+J+Z:Z}var ne={resolve:function(){for(var L="",j=!1,Z,K=arguments.length-1;K>=-1&&!j;K--){var ce;K>=0?ce=arguments[K]:(Z===void 0&&(Z=he.cwd()),ce=Z),ye(ce),ce.length!==0&&(L=ce+"/"+L,j=ce.charCodeAt(0)===47)}return L=De(L,!j),j?L.length>0?"/"+L:"/":L.length>0?L:"."},normalize:function(L){if(ye(L),L.length===0)return".";var j=L.charCodeAt(0)===47,Z=L.charCodeAt(L.length-1)===47;return L=De(L,!j),L.length===0&&!j&&(L="."),L.length>0&&Z&&(L+="/"),j?"/"+L:L},isAbsolute:function(L){return ye(L),L.length>0&&L.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var L,j=0;j<arguments.length;++j){var Z=arguments[j];ye(Z),Z.length>0&&(L===void 0?L=Z:L+="/"+Z)}return L===void 0?".":ne.normalize(L)},relative:function(L,j){if(ye(L),ye(j),L===j||(L=ne.resolve(L),j=ne.resolve(j),L===j))return"";for(var Z=1;Z<L.length&&L.charCodeAt(Z)===47;++Z);for(var K=L.length,ce=K-Z,Q=1;Q<j.length&&j.charCodeAt(Q)===47;++Q);for(var te=j.length,pe=te-Q,oe=ce<pe?ce:pe,Se=-1,ve=0;ve<=oe;++ve){if(ve===oe){if(pe>oe){if(j.charCodeAt(Q+ve)===47)return j.slice(Q+ve+1);if(ve===0)return j.slice(Q+ve)}else ce>oe&&(L.charCodeAt(Z+ve)===47?Se=ve:ve===0&&(Se=0));break}var F=L.charCodeAt(Z+ve),X=j.charCodeAt(Q+ve);if(F!==X)break;F===47&&(Se=ve)}var me="";for(ve=Z+Se+1;ve<=K;++ve)(ve===K||L.charCodeAt(ve)===47)&&(me.length===0?me+="..":me+="/..");return me.length>0?me+j.slice(Q+Se):(Q+=Se,j.charCodeAt(Q)===47&&++Q,j.slice(Q))},_makeLong:function(L){return L},dirname:function(L){if(ye(L),L.length===0)return".";for(var j=L.charCodeAt(0),Z=j===47,K=-1,ce=!0,Q=L.length-1;Q>=1;--Q)if(j=L.charCodeAt(Q),j===47){if(!ce){K=Q;break}}else ce=!1;return K===-1?Z?"/":".":Z&&K===1?"//":L.slice(0,K)},basename:function(L,j){if(j!==void 0&&typeof j!="string")throw new TypeError('"ext" argument must be a string');ye(L);var Z=0,K=-1,ce=!0,Q;if(j!==void 0&&j.length>0&&j.length<=L.length){if(j.length===L.length&&j===L)return"";var te=j.length-1,pe=-1;for(Q=L.length-1;Q>=0;--Q){var oe=L.charCodeAt(Q);if(oe===47){if(!ce){Z=Q+1;break}}else pe===-1&&(ce=!1,pe=Q+1),te>=0&&(oe===j.charCodeAt(te)?--te===-1&&(K=Q):(te=-1,K=pe))}return Z===K?K=pe:K===-1&&(K=L.length),L.slice(Z,K)}else{for(Q=L.length-1;Q>=0;--Q)if(L.charCodeAt(Q)===47){if(!ce){Z=Q+1;break}}else K===-1&&(ce=!1,K=Q+1);return K===-1?"":L.slice(Z,K)}},extname:function(L){ye(L);for(var j=-1,Z=0,K=-1,ce=!0,Q=0,te=L.length-1;te>=0;--te){var pe=L.charCodeAt(te);if(pe===47){if(!ce){Z=te+1;break}continue}K===-1&&(ce=!1,K=te+1),pe===46?j===-1?j=te:Q!==1&&(Q=1):j!==-1&&(Q=-1)}return j===-1||K===-1||Q===0||Q===1&&j===K-1&&j===Z+1?"":L.slice(j,K)},format:function(L){if(L===null||typeof L!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof L);return ee("/",L)},parse:function(L){ye(L);var j={root:"",dir:"",base:"",ext:"",name:""};if(L.length===0)return j;var Z=L.charCodeAt(0),K=Z===47,ce;K?(j.root="/",ce=1):ce=0;for(var Q=-1,te=0,pe=-1,oe=!0,Se=L.length-1,ve=0;Se>=ce;--Se){if(Z=L.charCodeAt(Se),Z===47){if(!oe){te=Se+1;break}continue}pe===-1&&(oe=!1,pe=Se+1),Z===46?Q===-1?Q=Se:ve!==1&&(ve=1):Q!==-1&&(ve=-1)}return Q===-1||pe===-1||ve===0||ve===1&&Q===pe-1&&Q===te+1?pe!==-1&&(te===0&&K?j.base=j.name=L.slice(1,pe):j.base=j.name=L.slice(te,pe)):(te===0&&K?(j.name=L.slice(1,Q),j.base=L.slice(1,pe)):(j.name=L.slice(te,Q),j.base=L.slice(te,pe)),j.ext=L.slice(Q,pe)),te>0?j.dir=L.slice(0,te-1):K&&(j.dir="/"),j},sep:"/",delimiter:":",win32:null,posix:null};ne.posix=ne,_e.exports=ne},83141:(_e,Ee,se)=>{"use strict";var he=se(15003).Buffer,ye=he.isEncoding||function(F){switch(F=""+F,F&&F.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function De(F){if(!F)return"utf8";for(var X;;)switch(F){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return F;default:if(X)return;F=(""+F).toLowerCase(),X=!0}}function ee(F){var X=De(F);if(typeof X!="string"&&(he.isEncoding===ye||!ye(F)))throw new Error("Unknown encoding: "+F);return X||F}Ee.I=ne;function ne(F){this.encoding=ee(F);var X;switch(this.encoding){case"utf16le":this.text=Q,this.end=te,X=4;break;case"utf8":this.fillLast=Z,X=4;break;case"base64":this.text=pe,this.end=oe,X=3;break;default:this.write=Se,this.end=ve;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=he.allocUnsafe(X)}ne.prototype.write=function(F){if(F.length===0)return"";var X,me;if(this.lastNeed){if(X=this.fillLast(F),X===void 0)return"";me=this.lastNeed,this.lastNeed=0}else me=0;return me<F.length?X?X+this.text(F,me):this.text(F,me):X||""},ne.prototype.end=ce,ne.prototype.text=K,ne.prototype.fillLast=function(F){if(this.lastNeed<=F.length)return F.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);F.copy(this.lastChar,this.lastTotal-this.lastNeed,0,F.length),this.lastNeed-=F.length};function J(F){return F<=127?0:F>>5===6?2:F>>4===14?3:F>>3===30?4:F>>6===2?-1:-2}function L(F,X,me){var we=X.length-1;if(we<me)return 0;var Pe=J(X[we]);return Pe>=0?(Pe>0&&(F.lastNeed=Pe-1),Pe):--we<me||Pe===-2?0:(Pe=J(X[we]),Pe>=0?(Pe>0&&(F.lastNeed=Pe-2),Pe):--we<me||Pe===-2?0:(Pe=J(X[we]),Pe>=0?(Pe>0&&(Pe===2?Pe=0:F.lastNeed=Pe-3),Pe):0))}function j(F,X,me){if((X[0]&192)!==128)return F.lastNeed=0,"\uFFFD";if(F.lastNeed>1&&X.length>1){if((X[1]&192)!==128)return F.lastNeed=1,"\uFFFD";if(F.lastNeed>2&&X.length>2&&(X[2]&192)!==128)return F.lastNeed=2,"\uFFFD"}}function Z(F){var X=this.lastTotal-this.lastNeed,me=j(this,F,X);if(me!==void 0)return me;if(this.lastNeed<=F.length)return F.copy(this.lastChar,X,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);F.copy(this.lastChar,X,0,F.length),this.lastNeed-=F.length}function K(F,X){var me=L(this,F,X);if(!this.lastNeed)return F.toString("utf8",X);this.lastTotal=me;var we=F.length-(me-this.lastNeed);return F.copy(this.lastChar,0,we),F.toString("utf8",X,we)}function ce(F){var X=F&&F.length?this.write(F):"";return this.lastNeed?X+"\uFFFD":X}function Q(F,X){if((F.length-X)%2===0){var me=F.toString("utf16le",X);if(me){var we=me.charCodeAt(me.length-1);if(we>=55296&&we<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=F[F.length-2],this.lastChar[1]=F[F.length-1],me.slice(0,-1)}return me}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=F[F.length-1],F.toString("utf16le",X,F.length-1)}function te(F){var X=F&&F.length?this.write(F):"";if(this.lastNeed){var me=this.lastTotal-this.lastNeed;return X+this.lastChar.toString("utf16le",0,me)}return X}function pe(F,X){var me=(F.length-X)%3;return me===0?F.toString("base64",X):(this.lastNeed=3-me,this.lastTotal=3,me===1?this.lastChar[0]=F[F.length-1]:(this.lastChar[0]=F[F.length-2],this.lastChar[1]=F[F.length-1]),F.toString("base64",X,F.length-me))}function oe(F){var X=F&&F.length?this.write(F):"";return this.lastNeed?X+this.lastChar.toString("base64",0,3-this.lastNeed):X}function Se(F){return F.toString(this.encoding)}function ve(F){return F&&F.length?this.write(F):""}},15003:(_e,Ee,se)=>{var he=se(48287),ye=he.Buffer;function De(ne,J){for(var L in ne)J[L]=ne[L]}ye.from&&ye.alloc&&ye.allocUnsafe&&ye.allocUnsafeSlow?_e.exports=he:(De(he,Ee),Ee.Buffer=ee);function ee(ne,J,L){return ye(ne,J,L)}ee.prototype=Object.create(ye.prototype),De(ye,ee),ee.from=function(ne,J,L){if(typeof ne=="number")throw new TypeError("Argument must not be a number");return ye(ne,J,L)},ee.alloc=function(ne,J,L){if(typeof ne!="number")throw new TypeError("Argument must be a number");var j=ye(ne);return J!==void 0?typeof L=="string"?j.fill(J,L):j.fill(J):j.fill(0),j},ee.allocUnsafe=function(ne){if(typeof ne!="number")throw new TypeError("Argument must be a number");return ye(ne)},ee.allocUnsafeSlow=function(ne){if(typeof ne!="number")throw new TypeError("Argument must be a number");return he.SlowBuffer(ne)}},50240:(_e,Ee,se)=>{"use strict";se.d(Ee,{_:()=>he});const he=(ye,De)=>{const ee=ye.__vccOpts||ye;for(const[ne,J]of De)ee[ne]=J;return ee}},65981:(_e,Ee,se)=>{"use strict";se.d(Ee,{F:()=>Q,P:()=>te,b:()=>Et,c:()=>$e,d:()=>Ke,e:()=>Qe,l:()=>Ot,n:()=>bt,r:()=>gt,s:()=>X});var he=se(21777);function ye(D,G,C){const $=document.querySelector(`#initial-state-${D}-${G}`);if($===null){if(C!==void 0)return C;throw new Error(`Could not find initial state ${G} of ${D}`)}try{return JSON.parse(atob($.value))}catch{throw new Error(`Could not parse initial state ${G} of ${D}`)}}/*!
 * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: GPL-3.0-or-later
 */function De(){return ye("files_sharing","isPublic",null)??document.querySelector('input#isPublic[type="hidden"][name="isPublic"][value="1"]')!==null}function ee(){return ye("files_sharing","sharingToken",null)??document.querySelector('input#sharingToken[type="hidden"]')?.value??null}var ne=se(63814),J=se(36117),L=se(44719),j=se(35947),Z=se(57975),K=se(71225);const ce=(0,j.YK)().setApp("@nextcloud/files").detectUser().build();var Q=(D=>(D.Folder="folder",D.File="file",D))(Q||{}),te=(D=>(D[D.NONE=0]="NONE",D[D.CREATE=4]="CREATE",D[D.READ=1]="READ",D[D.UPDATE=2]="UPDATE",D[D.DELETE=8]="DELETE",D[D.SHARE=16]="SHARE",D[D.ALL=31]="ALL",D))(te||{});const pe=function(D,G){return D.match(G)!==null},oe=(D,G)=>{if(D.id&&typeof D.id!="number")throw new Error("Invalid id type of value");if(!D.source)throw new Error("Missing mandatory source");try{new URL(D.source)}catch{throw new Error("Invalid source format, source must be a valid URL")}if(!D.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(D.displayname&&typeof D.displayname!="string")throw new Error("Invalid displayname type");if(D.mtime&&!(D.mtime instanceof Date))throw new Error("Invalid mtime type");if(D.crtime&&!(D.crtime instanceof Date))throw new Error("Invalid crtime type");if(!D.mime||typeof D.mime!="string"||!D.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in D&&typeof D.size!="number"&&D.size!==void 0)throw new Error("Invalid size type");if("permissions"in D&&D.permissions!==void 0&&!(typeof D.permissions=="number"&&D.permissions>=te.NONE&&D.permissions<=te.ALL))throw new Error("Invalid permissions");if(D.owner&&D.owner!==null&&typeof D.owner!="string")throw new Error("Invalid owner type");if(D.attributes&&typeof D.attributes!="object")throw new Error("Invalid attributes type");if(D.root&&typeof D.root!="string")throw new Error("Invalid root type");if(D.root&&!D.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(D.root&&!D.source.includes(D.root))throw new Error("Root must be part of the source");if(D.root&&pe(D.source,G)){const C=D.source.match(G)[0];if(!D.source.includes((0,Z.join)(C,D.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(D.status&&!Object.values(Se).includes(D.status))throw new Error("Status must be a valid NodeStatus")};var Se=(D=>(D.NEW="new",D.FAILED="failed",D.LOADING="loading",D.LOCKED="locked",D))(Se||{});class ve{constructor(G,C){Te(this,"_data");Te(this,"_attributes");Te(this,"_knownDavService",/(remote|public)\.php\/(web)?dav/i);Te(this,"readonlyAttributes",Object.entries(Object.getOwnPropertyDescriptors(ve.prototype)).filter(G=>typeof G[1].get=="function"&&G[0]!=="__proto__").map(G=>G[0]));Te(this,"handler",{set:(G,C,$)=>this.readonlyAttributes.includes(C)?!1:Reflect.set(G,C,$),deleteProperty:(G,C)=>this.readonlyAttributes.includes(C)?!1:Reflect.deleteProperty(G,C),get:(G,C,$)=>this.readonlyAttributes.includes(C)?(ce.warn(`Accessing "Node.attributes.${C}" is deprecated, access it directly on the Node instance.`),Reflect.get(this,C)):Reflect.get(G,C,$)});G.mime||(G.mime="application/octet-stream"),oe(G,C||this._knownDavService),this._data={displayname:G.attributes?.displayname,...G,attributes:{}},this._attributes=new Proxy(this._data.attributes,this.handler),this.update(G.attributes??{}),C&&(this._knownDavService=C)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:G}=new URL(this.source);return G+(0,K.O0)(this.source.slice(G.length))}get basename(){return(0,Z.basename)(this.source)}get displayname(){return this._data.displayname||this.basename}set displayname(G){oe({...this._data,displayname:G},this._knownDavService),this._data.displayname=G}get extension(){return(0,Z.extname)(this.source)}get dirname(){if(this.root){let C=this.source;this.isDavResource&&(C=C.split(this._knownDavService).pop());const $=C.indexOf(this.root),B=this.root.replace(/\/$/,"");return(0,Z.dirname)(C.slice($+B.length)||"/")}const G=new URL(this.source);return(0,Z.dirname)(G.pathname)}get mime(){return this._data.mime||"application/octet-stream"}set mime(G){G??(G="application/octet-stream"),oe({...this._data,mime:G},this._knownDavService),this._data.mime=G}get mtime(){return this._data.mtime}set mtime(G){oe({...this._data,mtime:G},this._knownDavService),this._data.mtime=G}get crtime(){return this._data.crtime}get size(){return this._data.size}set size(G){oe({...this._data,size:G},this._knownDavService),this.updateMtime(),this._data.size=G}get attributes(){return this._attributes}get permissions(){return this.owner===null&&!this.isDavResource?te.READ:this._data.permissions!==void 0?this._data.permissions:te.NONE}set permissions(G){oe({...this._data,permissions:G},this._knownDavService),this.updateMtime(),this._data.permissions=G}get owner(){return this.isDavResource?this._data.owner:null}get isDavResource(){return pe(this.source,this._knownDavService)}get isDavRessource(){return this.isDavResource}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavResource&&(0,Z.dirname)(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){let G=this.source;this.isDavResource&&(G=G.split(this._knownDavService).pop());const C=G.indexOf(this.root),$=this.root.replace(/\/$/,"");return G.slice(C+$.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){return this._data?.id}get status(){return this._data?.status}set status(G){oe({...this._data,status:G},this._knownDavService),this._data.status=G}get data(){return structuredClone(this._data)}move(G){oe({...this._data,source:G},this._knownDavService);const C=this.basename;this._data.source=G,this.displayname===C&&this.basename!==C&&(this.displayname=this.basename)}rename(G){if(G.includes("/"))throw new Error("Invalid basename");this.move((0,Z.dirname)(this.source)+"/"+G)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}update(G){for(const[C,$]of Object.entries(G))try{$===void 0?delete this.attributes[C]:this.attributes[C]=$}catch(B){if(B instanceof TypeError)continue;throw B}}}class F extends ve{get type(){return Q.File}clone(){return new F(this.data)}}class X extends ve{constructor(G){super({...G,mime:"httpd/unix-directory"})}get type(){return Q.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}clone(){return new X(this.data)}}const me=function(D=""){let G=te.NONE;return D&&((D.includes("C")||D.includes("K"))&&(G|=te.CREATE),D.includes("G")&&(G|=te.READ),(D.includes("W")||D.includes("N")||D.includes("V"))&&(G|=te.UPDATE),D.includes("D")&&(G|=te.DELETE),D.includes("R")&&(G|=te.SHARE)),G},we=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:creationdate","d:displayname","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:size"],Pe={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},At=function(D,G={nc:"http://nextcloud.org/ns"}){typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...we],window._nc_dav_namespaces={...Pe});const C={...window._nc_dav_namespaces,...G};if(window._nc_dav_properties.find(B=>B===D))return ce.warn(`${D} already registered`,{prop:D}),!1;if(D.startsWith("<")||D.split(":").length!==2)return ce.error(`${D} is not valid. See example: 'oc:fileid'`,{prop:D}),!1;const $=D.split(":")[0];return C[$]?(window._nc_dav_properties.push(D),window._nc_dav_namespaces=C,!0):(ce.error(`${D} namespace unknown`,{prop:D,namespaces:C}),!1)},yt=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...we]),window._nc_dav_properties.map(D=>`<${D} />`).join(" ")},Ct=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces={...Pe}),Object.keys(window._nc_dav_namespaces).map(D=>`xmlns:${D}="${window._nc_dav_namespaces?.[D]}"`).join(" ")},Ot=function(){return`<?xml version="1.0"?>
		<d:propfind ${Ct()}>
			<d:prop>
				${yt()}
			</d:prop>
		</d:propfind>`},Fe=function(){return`<?xml version="1.0"?>
		<oc:filter-files ${Ct()}>
			<d:prop>
				${yt()}
			</d:prop>
			<oc:filter-rules>
				<oc:favorite>1</oc:favorite>
			</oc:filter-rules>
		</oc:filter-files>`},bt=function(D){return`<?xml version="1.0" encoding="UTF-8"?>
<d:searchrequest ${Ct()}
	xmlns:ns="https://github.com/icewind1991/SearchDAV/ns">
	<d:basicsearch>
		<d:select>
			<d:prop>
				${yt()}
			</d:prop>
		</d:select>
		<d:from>
			<d:scope>
				<d:href>/files/${(0,he.HW)()?.uid}/</d:href>
				<d:depth>infinity</d:depth>
			</d:scope>
		</d:from>
		<d:where>
			<d:and>
				<d:or>
					<d:not>
						<d:eq>
							<d:prop>
								<d:getcontenttype/>
							</d:prop>
							<d:literal>httpd/unix-directory</d:literal>
						</d:eq>
					</d:not>
					<d:eq>
						<d:prop>
							<oc:size/>
						</d:prop>
						<d:literal>0</d:literal>
					</d:eq>
				</d:or>
				<d:gt>
					<d:prop>
						<d:getlastmodified/>
					</d:prop>
					<d:literal>${D}</d:literal>
				</d:gt>
			</d:and>
		</d:where>
		<d:orderby>
			<d:order>
				<d:prop>
					<d:getlastmodified/>
				</d:prop>
				<d:descending/>
			</d:order>
		</d:orderby>
		<d:limit>
			<d:nresults>100</d:nresults>
			<ns:firstresult>0</ns:firstresult>
		</d:limit>
	</d:basicsearch>
</d:searchrequest>`};function ft(){return De()?`/files/${ee()}`:`/files/${(0,he.HW)()?.uid}`}const Ke=ft();function Vt(){const D=(0,ne.dC)("dav");return De()?D.replace("remote.php","public.php"):D}const Et=Vt(),$e=function(D=Et,G={}){const C=(0,L.UU)(D,{headers:G});function $(ie){C.setHeaders({...G,"X-Requested-With":"XMLHttpRequest",requesttoken:ie??""})}return(0,he.zo)($),$((0,he.do)()),(0,L.Gu)().patch("fetch",(ie,Ne)=>{const Ae=Ne.headers;return Ae?.method&&(Ne.method=Ae.method,delete Ae.method),fetch(ie,Ne)}),C},Qe=(D,G="/",C=Ke)=>{const $=new AbortController;return new J.CancelablePromise(async(B,ie,Ne)=>{Ne(()=>$.abort());try{const Me=(await D.getDirectoryContents(`${C}${G}`,{signal:$.signal,details:!0,data:Fe(),headers:{method:"REPORT"},includeSelf:!0})).data.filter(ht=>ht.filename!==G).map(ht=>gt(ht,C));B(Me)}catch(Ae){ie(Ae)}})},gt=function(D,G=Ke,C=Et){let $=(0,he.HW)()?.uid;if(De())$=$??"anonymous";else if(!$)throw new Error("No user id found");const B=D.props,ie=me(B?.permissions),Ne=String(B?.["owner-id"]||$),Ae=B.fileid||0,Me=new Date(Date.parse(D.lastmod)),ht=new Date(Date.parse(B.creationdate)),Ze={id:Ae,source:`${C}${D.filename}`,mtime:!isNaN(Me.getTime())&&Me.getTime()!==0?Me:void 0,crtime:!isNaN(ht.getTime())&&ht.getTime()!==0?ht:void 0,mime:D.mime||"application/octet-stream",displayname:B.displayname!==void 0?String(B.displayname):void 0,size:B?.size||Number.parseInt(B.getcontentlength||"0"),status:Ae<0?Se.FAILED:void 0,permissions:ie,owner:Ne,root:G,attributes:{...D,...B,hasPreview:B?.["has-preview"]}};return delete Ze.attributes?.props,D.type==="file"?new F(Ze):new X(Ze)}},35810:(_e,Ee,se)=>{"use strict";se.d(Ee,{Al:()=>he.r,H4:()=>he.c,KT:()=>In,PY:()=>he.b,Q$:()=>he.e,R3:()=>he.n,VL:()=>he.l,aX:()=>he.P,di:()=>Ft,lJ:()=>he.d,nF:()=>An,pt:()=>he.F,ur:()=>Vn,v7:()=>Un,vd:()=>he.s});var he=se(65981),ye=se(380),De=se(83141),ee=se(28719),ne=se(57975),J=se(53334),L=se(65606),j=se(48287).Buffer,Z=(T=>(T.DEFAULT="default",T.HIDDEN="hidden",T))(Z||{});class K{constructor(y){Te(this,"_action");this.validateAction(y),this._action=y}get id(){return this._action.id}get displayName(){return this._action.displayName}get title(){return this._action.title}get iconSvgInline(){return this._action.iconSvgInline}get enabled(){return this._action.enabled}get exec(){return this._action.exec}get execBatch(){return this._action.execBatch}get hotkey(){return this._action.hotkey}get order(){return this._action.order}get parent(){return this._action.parent}get default(){return this._action.default}get destructive(){return this._action.destructive}get inline(){return this._action.inline}get renderInline(){return this._action.renderInline}validateAction(y){if(!y.id||typeof y.id!="string")throw new Error("Invalid id");if(!y.displayName||typeof y.displayName!="function")throw new Error("Invalid displayName function");if("title"in y&&typeof y.title!="function")throw new Error("Invalid title function");if(!y.iconSvgInline||typeof y.iconSvgInline!="function")throw new Error("Invalid iconSvgInline function");if(!y.exec||typeof y.exec!="function")throw new Error("Invalid exec function");if("enabled"in y&&typeof y.enabled!="function")throw new Error("Invalid enabled function");if("execBatch"in y&&typeof y.execBatch!="function")throw new Error("Invalid execBatch function");if("order"in y&&typeof y.order!="number")throw new Error("Invalid order");if(y.destructive!==void 0&&typeof y.destructive!="boolean")throw new Error("Invalid destructive flag");if("parent"in y&&typeof y.parent!="string")throw new Error("Invalid parent");if(y.default&&!Object.values(Z).includes(y.default))throw new Error("Invalid default");if("inline"in y&&typeof y.inline!="function")throw new Error("Invalid inline function");if("renderInline"in y&&typeof y.renderInline!="function")throw new Error("Invalid renderInline function");if("hotkey"in y&&y.hotkey!==void 0){if(typeof y.hotkey!="object")throw new Error("Invalid hotkey configuration");if(typeof y.hotkey.key!="string"||!y.hotkey.key)throw new Error("Missing or invalid hotkey key");if(typeof y.hotkey.description!="string"||!y.hotkey.description)throw new Error("Missing or invalid hotkey description")}}}const ce=function(T){if(typeof window._nc_fileactions>"u"&&(window._nc_fileactions=[],logger.debug("FileActions initialized")),window._nc_fileactions.find(y=>y.id===T.id)){logger.error(`FileAction ${T.id} already registered`,{action:T});return}window._nc_fileactions.push(T)},Q=function(){return typeof window._nc_fileactions>"u"&&(window._nc_fileactions=[],logger.debug("FileActions initialized")),window._nc_fileactions};class te{constructor(y){Te(this,"_action");this.validateAction(y),this._action=y}get id(){return this._action.id}get displayName(){return this._action.displayName}get iconSvgInline(){return this._action.iconSvgInline}get order(){return this._action.order}get enabled(){return this._action.enabled}get exec(){return this._action.exec}validateAction(y){if(!y.id||typeof y.id!="string")throw new Error("Invalid id");if(!y.displayName||typeof y.displayName!="function")throw new Error("Invalid displayName function");if("iconSvgInline"in y&&typeof y.iconSvgInline!="function")throw new Error("Invalid iconSvgInline function");if("order"in y&&typeof y.order!="number")throw new Error("Invalid order");if("enabled"in y&&typeof y.enabled!="function")throw new Error("Invalid enabled function");if(!y.exec||typeof y.exec!="function")throw new Error("Invalid exec function")}}const pe=T=>{if(typeof window._nc_filelistactions>"u"&&(window._nc_filelistactions=[]),window._nc_filelistactions.find(y=>y.id===T.id)){logger.error(`FileListAction with id "${T.id}" is already registered`,{action:T});return}window._nc_filelistactions.push(T)},oe=()=>(typeof window._nc_filelistactions>"u"&&(window._nc_filelistactions=[]),window._nc_filelistactions);function Se(T){return T&&T.__esModule&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T}var ve,F;function X(){return F||(F=1,ve=typeof L=="object"&&L.env&&L.env.NODE_DEBUG&&/\bsemver\b/i.test(L.env.NODE_DEBUG)?(...y)=>console.error("SEMVER",...y):()=>{}),ve}var me,we;function Pe(){if(we)return me;we=1;const T="2.0.0",y=256,U=Number.MAX_SAFE_INTEGER||9007199254740991,H=16,re=y-6;return me={MAX_LENGTH:y,MAX_SAFE_COMPONENT_LENGTH:H,MAX_SAFE_BUILD_LENGTH:re,MAX_SAFE_INTEGER:U,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:T,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},me}var At={exports:{}},yt;function Ct(){return yt||(yt=1,function(T,y){const{MAX_SAFE_COMPONENT_LENGTH:U,MAX_SAFE_BUILD_LENGTH:H,MAX_LENGTH:re}=Pe(),Ie=X();y=T.exports={};const ue=y.re=[],Oe=y.safeRe=[],W=y.src=[],S=y.t={};let le=0;const be="[a-zA-Z0-9-]",Re=[["\\s",1],["\\d",re],[be,H]],Ue=rt=>{for(const[Be,mt]of Re)rt=rt.split(`${Be}*`).join(`${Be}{0,${mt}}`).split(`${Be}+`).join(`${Be}{1,${mt}}`);return rt},fe=(rt,Be,mt)=>{const St=Ue(Be),_t=le++;Ie(rt,_t,Be),S[rt]=_t,W[_t]=Be,ue[_t]=new RegExp(Be,mt?"g":void 0),Oe[_t]=new RegExp(St,mt?"g":void 0)};fe("NUMERICIDENTIFIER","0|[1-9]\\d*"),fe("NUMERICIDENTIFIERLOOSE","\\d+"),fe("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${be}*`),fe("MAINVERSION",`(${W[S.NUMERICIDENTIFIER]})\\.(${W[S.NUMERICIDENTIFIER]})\\.(${W[S.NUMERICIDENTIFIER]})`),fe("MAINVERSIONLOOSE",`(${W[S.NUMERICIDENTIFIERLOOSE]})\\.(${W[S.NUMERICIDENTIFIERLOOSE]})\\.(${W[S.NUMERICIDENTIFIERLOOSE]})`),fe("PRERELEASEIDENTIFIER",`(?:${W[S.NUMERICIDENTIFIER]}|${W[S.NONNUMERICIDENTIFIER]})`),fe("PRERELEASEIDENTIFIERLOOSE",`(?:${W[S.NUMERICIDENTIFIERLOOSE]}|${W[S.NONNUMERICIDENTIFIER]})`),fe("PRERELEASE",`(?:-(${W[S.PRERELEASEIDENTIFIER]}(?:\\.${W[S.PRERELEASEIDENTIFIER]})*))`),fe("PRERELEASELOOSE",`(?:-?(${W[S.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${W[S.PRERELEASEIDENTIFIERLOOSE]})*))`),fe("BUILDIDENTIFIER",`${be}+`),fe("BUILD",`(?:\\+(${W[S.BUILDIDENTIFIER]}(?:\\.${W[S.BUILDIDENTIFIER]})*))`),fe("FULLPLAIN",`v?${W[S.MAINVERSION]}${W[S.PRERELEASE]}?${W[S.BUILD]}?`),fe("FULL",`^${W[S.FULLPLAIN]}$`),fe("LOOSEPLAIN",`[v=\\s]*${W[S.MAINVERSIONLOOSE]}${W[S.PRERELEASELOOSE]}?${W[S.BUILD]}?`),fe("LOOSE",`^${W[S.LOOSEPLAIN]}$`),fe("GTLT","((?:<|>)?=?)"),fe("XRANGEIDENTIFIERLOOSE",`${W[S.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),fe("XRANGEIDENTIFIER",`${W[S.NUMERICIDENTIFIER]}|x|X|\\*`),fe("XRANGEPLAIN",`[v=\\s]*(${W[S.XRANGEIDENTIFIER]})(?:\\.(${W[S.XRANGEIDENTIFIER]})(?:\\.(${W[S.XRANGEIDENTIFIER]})(?:${W[S.PRERELEASE]})?${W[S.BUILD]}?)?)?`),fe("XRANGEPLAINLOOSE",`[v=\\s]*(${W[S.XRANGEIDENTIFIERLOOSE]})(?:\\.(${W[S.XRANGEIDENTIFIERLOOSE]})(?:\\.(${W[S.XRANGEIDENTIFIERLOOSE]})(?:${W[S.PRERELEASELOOSE]})?${W[S.BUILD]}?)?)?`),fe("XRANGE",`^${W[S.GTLT]}\\s*${W[S.XRANGEPLAIN]}$`),fe("XRANGELOOSE",`^${W[S.GTLT]}\\s*${W[S.XRANGEPLAINLOOSE]}$`),fe("COERCEPLAIN",`(^|[^\\d])(\\d{1,${U}})(?:\\.(\\d{1,${U}}))?(?:\\.(\\d{1,${U}}))?`),fe("COERCE",`${W[S.COERCEPLAIN]}(?:$|[^\\d])`),fe("COERCEFULL",W[S.COERCEPLAIN]+`(?:${W[S.PRERELEASE]})?(?:${W[S.BUILD]})?(?:$|[^\\d])`),fe("COERCERTL",W[S.COERCE],!0),fe("COERCERTLFULL",W[S.COERCEFULL],!0),fe("LONETILDE","(?:~>?)"),fe("TILDETRIM",`(\\s*)${W[S.LONETILDE]}\\s+`,!0),y.tildeTrimReplace="$1~",fe("TILDE",`^${W[S.LONETILDE]}${W[S.XRANGEPLAIN]}$`),fe("TILDELOOSE",`^${W[S.LONETILDE]}${W[S.XRANGEPLAINLOOSE]}$`),fe("LONECARET","(?:\\^)"),fe("CARETTRIM",`(\\s*)${W[S.LONECARET]}\\s+`,!0),y.caretTrimReplace="$1^",fe("CARET",`^${W[S.LONECARET]}${W[S.XRANGEPLAIN]}$`),fe("CARETLOOSE",`^${W[S.LONECARET]}${W[S.XRANGEPLAINLOOSE]}$`),fe("COMPARATORLOOSE",`^${W[S.GTLT]}\\s*(${W[S.LOOSEPLAIN]})$|^$`),fe("COMPARATOR",`^${W[S.GTLT]}\\s*(${W[S.FULLPLAIN]})$|^$`),fe("COMPARATORTRIM",`(\\s*)${W[S.GTLT]}\\s*(${W[S.LOOSEPLAIN]}|${W[S.XRANGEPLAIN]})`,!0),y.comparatorTrimReplace="$1$2$3",fe("HYPHENRANGE",`^\\s*(${W[S.XRANGEPLAIN]})\\s+-\\s+(${W[S.XRANGEPLAIN]})\\s*$`),fe("HYPHENRANGELOOSE",`^\\s*(${W[S.XRANGEPLAINLOOSE]})\\s+-\\s+(${W[S.XRANGEPLAINLOOSE]})\\s*$`),fe("STAR","(<|>)?=?\\s*\\*"),fe("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),fe("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(At,At.exports)),At.exports}var Ot,Fe;function bt(){if(Fe)return Ot;Fe=1;const T=Object.freeze({loose:!0}),y=Object.freeze({});return Ot=H=>H?typeof H!="object"?T:H:y,Ot}var ft,Ke;function Vt(){if(Ke)return ft;Ke=1;const T=/^[0-9]+$/,y=(H,re)=>{const Ie=T.test(H),ue=T.test(re);return Ie&&ue&&(H=+H,re=+re),H===re?0:Ie&&!ue?-1:ue&&!Ie?1:H<re?-1:1};return ft={compareIdentifiers:y,rcompareIdentifiers:(H,re)=>y(re,H)},ft}var Et,$e;function Qe(){if($e)return Et;$e=1;const T=X(),{MAX_LENGTH:y,MAX_SAFE_INTEGER:U}=Pe(),{safeRe:H,t:re}=Ct(),Ie=bt(),{compareIdentifiers:ue}=Vt();class Oe{constructor(S,le){if(le=Ie(le),S instanceof Oe){if(S.loose===!!le.loose&&S.includePrerelease===!!le.includePrerelease)return S;S=S.version}else if(typeof S!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof S}".`);if(S.length>y)throw new TypeError(`version is longer than ${y} characters`);T("SemVer",S,le),this.options=le,this.loose=!!le.loose,this.includePrerelease=!!le.includePrerelease;const be=S.trim().match(le.loose?H[re.LOOSE]:H[re.FULL]);if(!be)throw new TypeError(`Invalid Version: ${S}`);if(this.raw=S,this.major=+be[1],this.minor=+be[2],this.patch=+be[3],this.major>U||this.major<0)throw new TypeError("Invalid major version");if(this.minor>U||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>U||this.patch<0)throw new TypeError("Invalid patch version");be[4]?this.prerelease=be[4].split(".").map(Re=>{if(/^[0-9]+$/.test(Re)){const Ue=+Re;if(Ue>=0&&Ue<U)return Ue}return Re}):this.prerelease=[],this.build=be[5]?be[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(S){if(T("SemVer.compare",this.version,this.options,S),!(S instanceof Oe)){if(typeof S=="string"&&S===this.version)return 0;S=new Oe(S,this.options)}return S.version===this.version?0:this.compareMain(S)||this.comparePre(S)}compareMain(S){return S instanceof Oe||(S=new Oe(S,this.options)),ue(this.major,S.major)||ue(this.minor,S.minor)||ue(this.patch,S.patch)}comparePre(S){if(S instanceof Oe||(S=new Oe(S,this.options)),this.prerelease.length&&!S.prerelease.length)return-1;if(!this.prerelease.length&&S.prerelease.length)return 1;if(!this.prerelease.length&&!S.prerelease.length)return 0;let le=0;do{const be=this.prerelease[le],Re=S.prerelease[le];if(T("prerelease compare",le,be,Re),be===void 0&&Re===void 0)return 0;if(Re===void 0)return 1;if(be===void 0)return-1;if(be===Re)continue;return ue(be,Re)}while(++le)}compareBuild(S){S instanceof Oe||(S=new Oe(S,this.options));let le=0;do{const be=this.build[le],Re=S.build[le];if(T("build compare",le,be,Re),be===void 0&&Re===void 0)return 0;if(Re===void 0)return 1;if(be===void 0)return-1;if(be===Re)continue;return ue(be,Re)}while(++le)}inc(S,le,be){switch(S){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",le,be);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",le,be);break;case"prepatch":this.prerelease.length=0,this.inc("patch",le,be),this.inc("pre",le,be);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",le,be),this.inc("pre",le,be);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const Re=Number(be)?1:0;if(!le&&be===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[Re];else{let Ue=this.prerelease.length;for(;--Ue>=0;)typeof this.prerelease[Ue]=="number"&&(this.prerelease[Ue]++,Ue=-2);if(Ue===-1){if(le===this.prerelease.join(".")&&be===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(Re)}}if(le){let Ue=[le,Re];be===!1&&(Ue=[le]),ue(this.prerelease[0],le)===0?isNaN(this.prerelease[1])&&(this.prerelease=Ue):this.prerelease=Ue}break}default:throw new Error(`invalid increment argument: ${S}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Et=Oe,Et}var gt,D;function G(){if(D)return gt;D=1;const T=Qe();return gt=(U,H,re=!1)=>{if(U instanceof T)return U;try{return new T(U,H)}catch(Ie){if(!re)return null;throw Ie}},gt}var C,$;function B(){if($)return C;$=1;const T=G();return C=(U,H)=>{const re=T(U,H);return re?re.version:null},C}var ie=B();const Ne=null;var Ae,Me;function ht(){if(Me)return Ae;Me=1;const T=Qe();return Ae=(U,H)=>new T(U,H).major,Ae}var Ze=ht();const dt=null;class Gt{constructor(y){Te(this,"bus");typeof y.getVersion!="function"||!Ne(y.getVersion())?console.warn("Proxying an event bus with an unknown or invalid version"):dt(y.getVersion())!==dt(this.getVersion())&&console.warn("Proxying an event bus of version "+y.getVersion()+" with "+this.getVersion()),this.bus=y}getVersion(){return"3.3.2"}subscribe(y,U){this.bus.subscribe(y,U)}unsubscribe(y,U){this.bus.unsubscribe(y,U)}emit(y,...U){this.bus.emit(y,...U)}}class wn{constructor(){Te(this,"handlers",new Map)}getVersion(){return"3.3.2"}subscribe(y,U){this.handlers.set(y,(this.handlers.get(y)||[]).concat(U))}unsubscribe(y,U){this.handlers.set(y,(this.handlers.get(y)||[]).filter(H=>H!==U))}emit(y,...U){(this.handlers.get(y)||[]).forEach(re=>{try{re(U[0])}catch(Ie){console.error("could not invoke event listener",Ie)}})}}let $t=null;function rn(){return $t!==null?$t:typeof window>"u"?new Proxy({},{get:()=>()=>console.error("Window not available, EventBus can not be established!")}):(window.OC?._eventBus&&typeof window._nc_event_bus>"u"&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),typeof window?._nc_event_bus<"u"?$t=new Gt(window._nc_event_bus):$t=window._nc_event_bus=new wn,$t)}function Kt(T,...y){rn().emit(T,...y)}/*!
 * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */class Sn extends ye.m{constructor(U,H=100){super();Te(this,"id");Te(this,"order");this.id=U,this.order=H}filter(U){throw new Error("Not implemented")}updateChips(U){this.dispatchTypedEvent("update:chips",new CustomEvent("update:chips",{detail:U}))}filterUpdated(){this.dispatchTypedEvent("update:filter",new CustomEvent("update:filter"))}}function Kn(T){if(window._nc_filelist_filters||(window._nc_filelist_filters=new Map),window._nc_filelist_filters.has(T.id))throw new Error(`File list filter "${T.id}" already registered`);window._nc_filelist_filters.set(T.id,T),Kt("files:filter:added",T)}function qe(T){window._nc_filelist_filters&&window._nc_filelist_filters.has(T)&&(window._nc_filelist_filters.delete(T),Kt("files:filter:removed",T))}function ze(){return window._nc_filelist_filters?[...window._nc_filelist_filters.values()]:[]}class sn{constructor(y){Te(this,"_header");this.validateHeader(y),this._header=y}get id(){return this._header.id}get order(){return this._header.order}get enabled(){return this._header.enabled}get render(){return this._header.render}get updated(){return this._header.updated}validateHeader(y){if(!y.id||!y.render||!y.updated)throw new Error("Invalid header: id, render and updated are required");if(typeof y.id!="string")throw new Error("Invalid id property");if(y.enabled!==void 0&&typeof y.enabled!="function")throw new Error("Invalid enabled property");if(y.render&&typeof y.render!="function")throw new Error("Invalid render property");if(y.updated&&typeof y.updated!="function")throw new Error("Invalid updated property")}}const Qn=function(T){if(typeof window._nc_filelistheader>"u"&&(window._nc_filelistheader=[],logger.debug("FileListHeaders initialized")),window._nc_filelistheader.find(y=>y.id===T.id)){logger.error(`Header ${T.id} already registered`,{header:T});return}window._nc_filelistheader.push(T)},on=function(){return typeof window._nc_filelistheader>"u"&&(window._nc_filelistheader=[],logger.debug("FileListHeaders initialized")),window._nc_filelistheader};class Rn extends null{constructor(){super(...arguments);Te(this,"_views",[]);Te(this,"_currentView",null)}register(U){if(this._views.find(H=>H.id===U.id))throw new Error(`View id ${U.id} is already registered`);this._views.push(U),this.dispatchTypedEvent("update",new CustomEvent("update"))}remove(U){const H=this._views.findIndex(re=>re.id===U);H!==-1&&(this._views.splice(H,1),this.dispatchTypedEvent("update",new CustomEvent("update")))}setActive(U){this._currentView=U;const H=new CustomEvent("updateActive",{detail:U});this.dispatchTypedEvent("updateActive",H)}get active(){return this._currentView}get views(){return this._views}}const Qt=function(){return typeof window._nc_navigation>"u"&&(window._nc_navigation=new Rn,logger.debug("Navigation service initialized")),window._nc_navigation};class yn{constructor(y){Te(this,"_column");Ln(y),this._column=y}get id(){return this._column.id}get title(){return this._column.title}get render(){return this._column.render}get sort(){return this._column.sort}get summary(){return this._column.summary}}const Ln=function(T){if(!T.id||typeof T.id!="string")throw new Error("A column id is required");if(!T.title||typeof T.title!="string")throw new Error("A column title is required");if(!T.render||typeof T.render!="function")throw new Error("A render function is required");if(T.sort&&typeof T.sort!="function")throw new Error("Column sortFunction must be a function");if(T.summary&&typeof T.summary!="function")throw new Error("Column summary must be a function");return!0};var Pt={},bn;function _n(){return bn||(bn=1,function(T){(function(y){y.parser=function(g,u){return new H(g,u)},y.SAXParser=H,y.SAXStream=le,y.createStream=S,y.MAX_BUFFER_LENGTH=64*1024;var U=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];y.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function H(g,u){if(!(this instanceof H))return new H(g,u);var M=this;Ie(M),M.q=M.c="",M.bufferCheckPosition=y.MAX_BUFFER_LENGTH,M.opt=u||{},M.opt.lowercase=M.opt.lowercase||M.opt.lowercasetags,M.looseCase=M.opt.lowercase?"toLowerCase":"toUpperCase",M.tags=[],M.closed=M.closedRoot=M.sawRoot=!1,M.tag=M.error=null,M.strict=!!g,M.noscript=!!(g||M.opt.noscript),M.state=x.BEGIN,M.strictEntities=M.opt.strictEntities,M.ENTITIES=M.strictEntities?Object.create(y.XML_ENTITIES):Object.create(y.ENTITIES),M.attribList=[],M.opt.xmlns&&(M.ns=Object.create(rt)),M.opt.unquotedAttributeValues===void 0&&(M.opt.unquotedAttributeValues=!g),M.trackPosition=M.opt.position!==!1,M.trackPosition&&(M.position=M.line=M.column=0),Wt(M,"onready")}Object.create||(Object.create=function(g){function u(){}u.prototype=g;var M=new u;return M}),Object.keys||(Object.keys=function(g){var u=[];for(var M in g)g.hasOwnProperty(M)&&u.push(M);return u});function re(g){for(var u=Math.max(y.MAX_BUFFER_LENGTH,10),M=0,N=0,Ce=U.length;N<Ce;N++){var Ge=g[U[N]].length;if(Ge>u)switch(U[N]){case"textNode":jt(g);break;case"cdata":ke(g,"oncdata",g.cdata),g.cdata="";break;case"script":ke(g,"onscript",g.script),g.script="";break;default:Tt(g,"Max buffer length exceeded: "+U[N])}M=Math.max(M,Ge)}var Xe=y.MAX_BUFFER_LENGTH-M;g.bufferCheckPosition=Xe+g.position}function Ie(g){for(var u=0,M=U.length;u<M;u++)g[U[u]]=""}function ue(g){jt(g),g.cdata!==""&&(ke(g,"oncdata",g.cdata),g.cdata=""),g.script!==""&&(ke(g,"onscript",g.script),g.script="")}H.prototype={end:function(){dn(this)},write:Wn,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){ue(this)}};var Oe;try{Oe=require("stream").Stream}catch{Oe=function(){}}Oe||(Oe=function(){});var W=y.EVENTS.filter(function(g){return g!=="error"&&g!=="end"});function S(g,u){return new le(g,u)}function le(g,u){if(!(this instanceof le))return new le(g,u);Oe.apply(this),this._parser=new H(g,u),this.writable=!0,this.readable=!0;var M=this;this._parser.onend=function(){M.emit("end")},this._parser.onerror=function(N){M.emit("error",N),M._parser.error=null},this._decoder=null,W.forEach(function(N){Object.defineProperty(M,"on"+N,{get:function(){return M._parser["on"+N]},set:function(Ce){if(!Ce)return M.removeAllListeners(N),M._parser["on"+N]=Ce,Ce;M.on(N,Ce)},enumerable:!0,configurable:!1})})}le.prototype=Object.create(Oe.prototype,{constructor:{value:le}}),le.prototype.write=function(g){if(typeof j=="function"&&typeof j.isBuffer=="function"&&j.isBuffer(g)){if(!this._decoder){var u=De.I;this._decoder=new u("utf8")}g=this._decoder.write(g)}return this._parser.write(g.toString()),this.emit("data",g),!0},le.prototype.end=function(g){return g&&g.length&&this.write(g),this._parser.end(),!0},le.prototype.on=function(g,u){var M=this;return!M._parser["on"+g]&&W.indexOf(g)!==-1&&(M._parser["on"+g]=function(){var N=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);N.splice(0,0,g),M.emit.apply(M,N)}),Oe.prototype.on.call(M,g,u)};var be="[CDATA[",Re="DOCTYPE",Ue="http://www.w3.org/XML/1998/namespace",fe="http://www.w3.org/2000/xmlns/",rt={xml:Ue,xmlns:fe},Be=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,mt=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,St=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_t=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function it(g){return g===" "||g===`
`||g==="\r"||g==="	"}function Xt(g){return g==='"'||g==="'"}function fn(g){return g===">"||it(g)}function wt(g,u){return g.test(u)}function xn(g,u){return!wt(g,u)}var x=0;y.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},y.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},y.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(y.ENTITIES).forEach(function(g){var u=y.ENTITIES[g],M=typeof u=="number"?String.fromCharCode(u):u;y.ENTITIES[g]=M});for(var hn in y.STATE)y.STATE[y.STATE[hn]]=hn;x=y.STATE;function Wt(g,u,M){g[u]&&g[u](M)}function ke(g,u,M){g.textNode&&jt(g),Wt(g,u,M)}function jt(g){g.textNode=st(g.opt,g.textNode),g.textNode&&Wt(g,"ontext",g.textNode),g.textNode=""}function st(g,u){return g.trim&&(u=u.trim()),g.normalize&&(u=u.replace(/\s+/g," ")),u}function Tt(g,u){return jt(g),g.trackPosition&&(u+=`
Line: `+g.line+`
Column: `+g.column+`
Char: `+g.c),u=new Error(u),g.error=u,Wt(g,"onerror",u),g}function dn(g){return g.sawRoot&&!g.closedRoot&&xe(g,"Unclosed root tag"),g.state!==x.BEGIN&&g.state!==x.BEGIN_WHITESPACE&&g.state!==x.TEXT&&Tt(g,"Unexpected end"),jt(g),g.c="",g.closed=!0,Wt(g,"onend"),H.call(g,g.strict,g.opt),g}function xe(g,u){if(typeof g!="object"||!(g instanceof H))throw new Error("bad call to strictFail");g.strict&&Tt(g,u)}function Gn(g){g.strict||(g.tagName=g.tagName[g.looseCase]());var u=g.tags[g.tags.length-1]||g,M=g.tag={name:g.tagName,attributes:{}};g.opt.xmlns&&(M.ns=u.ns),g.attribList.length=0,ke(g,"onopentagstart",M)}function Jt(g,u){var M=g.indexOf(":"),N=M<0?["",g]:g.split(":"),Ce=N[0],Ge=N[1];return u&&g==="xmlns"&&(Ce="xmlns",Ge=""),{prefix:Ce,local:Ge}}function pn(g){if(g.strict||(g.attribName=g.attribName[g.looseCase]()),g.attribList.indexOf(g.attribName)!==-1||g.tag.attributes.hasOwnProperty(g.attribName)){g.attribName=g.attribValue="";return}if(g.opt.xmlns){var u=Jt(g.attribName,!0),M=u.prefix,N=u.local;if(M==="xmlns")if(N==="xml"&&g.attribValue!==Ue)xe(g,"xml: prefix must be bound to "+Ue+`
Actual: `+g.attribValue);else if(N==="xmlns"&&g.attribValue!==fe)xe(g,"xmlns: prefix must be bound to "+fe+`
Actual: `+g.attribValue);else{var Ce=g.tag,Ge=g.tags[g.tags.length-1]||g;Ce.ns===Ge.ns&&(Ce.ns=Object.create(Ge.ns)),Ce.ns[N]=g.attribValue}g.attribList.push([g.attribName,g.attribValue])}else g.tag.attributes[g.attribName]=g.attribValue,ke(g,"onattribute",{name:g.attribName,value:g.attribValue});g.attribName=g.attribValue=""}function Rt(g,u){if(g.opt.xmlns){var M=g.tag,N=Jt(g.tagName);M.prefix=N.prefix,M.local=N.local,M.uri=M.ns[N.prefix]||"",M.prefix&&!M.uri&&(xe(g,"Unbound namespace prefix: "+JSON.stringify(g.tagName)),M.uri=N.prefix);var Ce=g.tags[g.tags.length-1]||g;M.ns&&Ce.ns!==M.ns&&Object.keys(M.ns).forEach(function(nn){ke(g,"onopennamespace",{prefix:nn,uri:M.ns[nn]})});for(var Ge=0,Xe=g.attribList.length;Ge<Xe;Ge++){var ut=g.attribList[Ge],ot=ut[0],Lt=ut[1],Je=Jt(ot,!0),It=Je.prefix,qn=Je.local,tn=It===""?"":M.ns[It]||"",mn={name:ot,value:Lt,prefix:It,local:qn,uri:tn};It&&It!=="xmlns"&&!tn&&(xe(g,"Unbound namespace prefix: "+JSON.stringify(It)),mn.uri=It),g.tag.attributes[ot]=mn,ke(g,"onattribute",mn)}g.attribList.length=0}g.tag.isSelfClosing=!!u,g.sawRoot=!0,g.tags.push(g.tag),ke(g,"onopentag",g.tag),u||(!g.noscript&&g.tagName.toLowerCase()==="script"?g.state=x.SCRIPT:g.state=x.TEXT,g.tag=null,g.tagName=""),g.attribName=g.attribValue="",g.attribList.length=0}function gn(g){if(!g.tagName){xe(g,"Weird empty close tag."),g.textNode+="</>",g.state=x.TEXT;return}if(g.script){if(g.tagName!=="script"){g.script+="</"+g.tagName+">",g.tagName="",g.state=x.SCRIPT;return}ke(g,"onscript",g.script),g.script=""}var u=g.tags.length,M=g.tagName;g.strict||(M=M[g.looseCase]());for(var N=M;u--;){var Ce=g.tags[u];if(Ce.name!==N)xe(g,"Unexpected close tag");else break}if(u<0){xe(g,"Unmatched closing tag: "+g.tagName),g.textNode+="</"+g.tagName+">",g.state=x.TEXT;return}g.tagName=M;for(var Ge=g.tags.length;Ge-- >u;){var Xe=g.tag=g.tags.pop();g.tagName=g.tag.name,ke(g,"onclosetag",g.tagName);var ut={};for(var ot in Xe.ns)ut[ot]=Xe.ns[ot];var Lt=g.tags[g.tags.length-1]||g;g.opt.xmlns&&Xe.ns!==Lt.ns&&Object.keys(Xe.ns).forEach(function(Je){var It=Xe.ns[Je];ke(g,"onclosenamespace",{prefix:Je,uri:It})})}u===0&&(g.closedRoot=!0),g.tagName=g.attribValue=g.attribName="",g.attribList.length=0,g.state=x.TEXT}function Xn(g){var u=g.entity,M=u.toLowerCase(),N,Ce="";return g.ENTITIES[u]?g.ENTITIES[u]:g.ENTITIES[M]?g.ENTITIES[M]:(u=M,u.charAt(0)==="#"&&(u.charAt(1)==="x"?(u=u.slice(2),N=parseInt(u,16),Ce=N.toString(16)):(u=u.slice(1),N=parseInt(u,10),Ce=N.toString(10))),u=u.replace(/^0+/,""),isNaN(N)||Ce.toLowerCase()!==u?(xe(g,"Invalid character entity"),"&"+g.entity+";"):String.fromCodePoint(N))}function Cn(g,u){u==="<"?(g.state=x.OPEN_WAKA,g.startTagPosition=g.position):it(u)||(xe(g,"Non-whitespace before first tag."),g.textNode=u,g.state=x.TEXT)}function en(g,u){var M="";return u<g.length&&(M=g.charAt(u)),M}function Wn(g){var u=this;if(this.error)throw this.error;if(u.closed)return Tt(u,"Cannot write after close. Assign an onready handler.");if(g===null)return dn(u);typeof g=="object"&&(g=g.toString());for(var M=0,N="";N=en(g,M++),u.c=N,!!N;)switch(u.trackPosition&&(u.position++,N===`
`?(u.line++,u.column=0):u.column++),u.state){case x.BEGIN:if(u.state=x.BEGIN_WHITESPACE,N==="\uFEFF")continue;Cn(u,N);continue;case x.BEGIN_WHITESPACE:Cn(u,N);continue;case x.TEXT:if(u.sawRoot&&!u.closedRoot){for(var Ce=M-1;N&&N!=="<"&&N!=="&";)N=en(g,M++),N&&u.trackPosition&&(u.position++,N===`
`?(u.line++,u.column=0):u.column++);u.textNode+=g.substring(Ce,M-1)}N==="<"&&!(u.sawRoot&&u.closedRoot&&!u.strict)?(u.state=x.OPEN_WAKA,u.startTagPosition=u.position):(!it(N)&&(!u.sawRoot||u.closedRoot)&&xe(u,"Text data outside of root node."),N==="&"?u.state=x.TEXT_ENTITY:u.textNode+=N);continue;case x.SCRIPT:N==="<"?u.state=x.SCRIPT_ENDING:u.script+=N;continue;case x.SCRIPT_ENDING:N==="/"?u.state=x.CLOSE_TAG:(u.script+="<"+N,u.state=x.SCRIPT);continue;case x.OPEN_WAKA:if(N==="!")u.state=x.SGML_DECL,u.sgmlDecl="";else if(!it(N))if(wt(Be,N))u.state=x.OPEN_TAG,u.tagName=N;else if(N==="/")u.state=x.CLOSE_TAG,u.tagName="";else if(N==="?")u.state=x.PROC_INST,u.procInstName=u.procInstBody="";else{if(xe(u,"Unencoded <"),u.startTagPosition+1<u.position){var Ge=u.position-u.startTagPosition;N=new Array(Ge).join(" ")+N}u.textNode+="<"+N,u.state=x.TEXT}continue;case x.SGML_DECL:if(u.sgmlDecl+N==="--"){u.state=x.COMMENT,u.comment="",u.sgmlDecl="";continue}u.doctype&&u.doctype!==!0&&u.sgmlDecl?(u.state=x.DOCTYPE_DTD,u.doctype+="<!"+u.sgmlDecl+N,u.sgmlDecl=""):(u.sgmlDecl+N).toUpperCase()===be?(ke(u,"onopencdata"),u.state=x.CDATA,u.sgmlDecl="",u.cdata=""):(u.sgmlDecl+N).toUpperCase()===Re?(u.state=x.DOCTYPE,(u.doctype||u.sawRoot)&&xe(u,"Inappropriately located doctype declaration"),u.doctype="",u.sgmlDecl=""):N===">"?(ke(u,"onsgmldeclaration",u.sgmlDecl),u.sgmlDecl="",u.state=x.TEXT):(Xt(N)&&(u.state=x.SGML_DECL_QUOTED),u.sgmlDecl+=N);continue;case x.SGML_DECL_QUOTED:N===u.q&&(u.state=x.SGML_DECL,u.q=""),u.sgmlDecl+=N;continue;case x.DOCTYPE:N===">"?(u.state=x.TEXT,ke(u,"ondoctype",u.doctype),u.doctype=!0):(u.doctype+=N,N==="["?u.state=x.DOCTYPE_DTD:Xt(N)&&(u.state=x.DOCTYPE_QUOTED,u.q=N));continue;case x.DOCTYPE_QUOTED:u.doctype+=N,N===u.q&&(u.q="",u.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:N==="]"?(u.doctype+=N,u.state=x.DOCTYPE):N==="<"?(u.state=x.OPEN_WAKA,u.startTagPosition=u.position):Xt(N)?(u.doctype+=N,u.state=x.DOCTYPE_DTD_QUOTED,u.q=N):u.doctype+=N;continue;case x.DOCTYPE_DTD_QUOTED:u.doctype+=N,N===u.q&&(u.state=x.DOCTYPE_DTD,u.q="");continue;case x.COMMENT:N==="-"?u.state=x.COMMENT_ENDING:u.comment+=N;continue;case x.COMMENT_ENDING:N==="-"?(u.state=x.COMMENT_ENDED,u.comment=st(u.opt,u.comment),u.comment&&ke(u,"oncomment",u.comment),u.comment=""):(u.comment+="-"+N,u.state=x.COMMENT);continue;case x.COMMENT_ENDED:N!==">"?(xe(u,"Malformed comment"),u.comment+="--"+N,u.state=x.COMMENT):u.doctype&&u.doctype!==!0?u.state=x.DOCTYPE_DTD:u.state=x.TEXT;continue;case x.CDATA:N==="]"?u.state=x.CDATA_ENDING:u.cdata+=N;continue;case x.CDATA_ENDING:N==="]"?u.state=x.CDATA_ENDING_2:(u.cdata+="]"+N,u.state=x.CDATA);continue;case x.CDATA_ENDING_2:N===">"?(u.cdata&&ke(u,"oncdata",u.cdata),ke(u,"onclosecdata"),u.cdata="",u.state=x.TEXT):N==="]"?u.cdata+="]":(u.cdata+="]]"+N,u.state=x.CDATA);continue;case x.PROC_INST:N==="?"?u.state=x.PROC_INST_ENDING:it(N)?u.state=x.PROC_INST_BODY:u.procInstName+=N;continue;case x.PROC_INST_BODY:if(!u.procInstBody&&it(N))continue;N==="?"?u.state=x.PROC_INST_ENDING:u.procInstBody+=N;continue;case x.PROC_INST_ENDING:N===">"?(ke(u,"onprocessinginstruction",{name:u.procInstName,body:u.procInstBody}),u.procInstName=u.procInstBody="",u.state=x.TEXT):(u.procInstBody+="?"+N,u.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:wt(mt,N)?u.tagName+=N:(Gn(u),N===">"?Rt(u):N==="/"?u.state=x.OPEN_TAG_SLASH:(it(N)||xe(u,"Invalid character in tag name"),u.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:N===">"?(Rt(u,!0),gn(u)):(xe(u,"Forward-slash in opening tag not followed by >"),u.state=x.ATTRIB);continue;case x.ATTRIB:if(it(N))continue;N===">"?Rt(u):N==="/"?u.state=x.OPEN_TAG_SLASH:wt(Be,N)?(u.attribName=N,u.attribValue="",u.state=x.ATTRIB_NAME):xe(u,"Invalid attribute name");continue;case x.ATTRIB_NAME:N==="="?u.state=x.ATTRIB_VALUE:N===">"?(xe(u,"Attribute without value"),u.attribValue=u.attribName,pn(u),Rt(u)):it(N)?u.state=x.ATTRIB_NAME_SAW_WHITE:wt(mt,N)?u.attribName+=N:xe(u,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if(N==="=")u.state=x.ATTRIB_VALUE;else{if(it(N))continue;xe(u,"Attribute without value"),u.tag.attributes[u.attribName]="",u.attribValue="",ke(u,"onattribute",{name:u.attribName,value:""}),u.attribName="",N===">"?Rt(u):wt(Be,N)?(u.attribName=N,u.state=x.ATTRIB_NAME):(xe(u,"Invalid attribute name"),u.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(it(N))continue;Xt(N)?(u.q=N,u.state=x.ATTRIB_VALUE_QUOTED):(u.opt.unquotedAttributeValues||Tt(u,"Unquoted attribute value"),u.state=x.ATTRIB_VALUE_UNQUOTED,u.attribValue=N);continue;case x.ATTRIB_VALUE_QUOTED:if(N!==u.q){N==="&"?u.state=x.ATTRIB_VALUE_ENTITY_Q:u.attribValue+=N;continue}pn(u),u.q="",u.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:it(N)?u.state=x.ATTRIB:N===">"?Rt(u):N==="/"?u.state=x.OPEN_TAG_SLASH:wt(Be,N)?(xe(u,"No whitespace between attributes"),u.attribName=N,u.attribValue="",u.state=x.ATTRIB_NAME):xe(u,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(!fn(N)){N==="&"?u.state=x.ATTRIB_VALUE_ENTITY_U:u.attribValue+=N;continue}pn(u),N===">"?Rt(u):u.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(u.tagName)N===">"?gn(u):wt(mt,N)?u.tagName+=N:u.script?(u.script+="</"+u.tagName,u.tagName="",u.state=x.SCRIPT):(it(N)||xe(u,"Invalid tagname in closing tag"),u.state=x.CLOSE_TAG_SAW_WHITE);else{if(it(N))continue;xn(Be,N)?u.script?(u.script+="</"+N,u.state=x.SCRIPT):xe(u,"Invalid tagname in closing tag."):u.tagName=N}continue;case x.CLOSE_TAG_SAW_WHITE:if(it(N))continue;N===">"?gn(u):xe(u,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var Xe,ut;switch(u.state){case x.TEXT_ENTITY:Xe=x.TEXT,ut="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:Xe=x.ATTRIB_VALUE_QUOTED,ut="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:Xe=x.ATTRIB_VALUE_UNQUOTED,ut="attribValue";break}if(N===";"){var ot=Xn(u);u.opt.unparsedEntities&&!Object.values(y.XML_ENTITIES).includes(ot)?(u.entity="",u.state=Xe,u.write(ot)):(u[ut]+=ot,u.entity="",u.state=Xe)}else wt(u.entity.length?_t:St,N)?u.entity+=N:(xe(u,"Invalid character in entity name"),u[ut]+="&"+u.entity+N,u.entity="",u.state=Xe);continue;default:throw new Error(u,"Unknown state: "+u.state)}return u.position>=u.bufferCheckPosition&&re(u),u}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var g=String.fromCharCode,u=Math.floor,M=function(){var N=16384,Ce=[],Ge,Xe,ut=-1,ot=arguments.length;if(!ot)return"";for(var Lt="";++ut<ot;){var Je=Number(arguments[ut]);if(!isFinite(Je)||Je<0||Je>1114111||u(Je)!==Je)throw RangeError("Invalid code point: "+Je);Je<=65535?Ce.push(Je):(Je-=65536,Ge=(Je>>10)+55296,Xe=Je%1024+56320,Ce.push(Ge,Xe)),(ut+1===ot||Ce.length>N)&&(Lt+=g.apply(null,Ce),Ce.length=0)}return Lt};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:M,configurable:!0,writable:!0}):String.fromCodePoint=M}()})(T)}(Pt)),Pt}var Tn=_n();const Dn=null,$n={"http://www.w3.org/2000/svg":{ext:"svg",mime:"image/svg+xml"},"http://www.w3.org/1999/xhtml":{ext:"xhtml",mime:"application/xhtml+xml"},"http://www.opengis.net/kml/2.2":{ext:"kml",mime:"application/vnd.google-earth.kml+xml"},"http://www.opengis.net/gml":{ext:"gml",mime:"application/gml+xml"}},Fn={rss:{ext:"rss",mime:"application/rss+xml"},"score-partwise":{ext:"musicxml",mime:"application/vnd.recordare.musicxml+xml"},svg:{ext:"svg",mime:"image/svg+xml"}};class an{constructor(y){this.options=y??{},this.firstTag=!0,this.onEnd=!1,this.parser=Dn.parser(!0,{xmlns:!0}),this.nesting=0,this.parser.onerror=U=>{U.message.startsWith("Invalid character entity")||(this.fileType=void 0,this.onEnd=!0)},this.parser.onopentag=U=>{++this.nesting,!(!this.firstTag||this.onEnd)&&(this.firstTag=!1,U.uri?this.fileType=$n[U.uri]:U.name&&(this.fileType=Fn[U.name.toLowerCase()]),this.fileType&&!this.options.fullScan&&(this.onEnd=!0))},this.parser.onclosetag=()=>{--this.nesting}}write(y){this.parser.write(y)}close(){this.parser.close(),this.onEnd=!0}isValid(){return this.nesting===0}}function Nn(T){if(typeof T!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof T}\``);if(T=T.trim(),T.length===0)return!1;const y=new an;return y.write(T),y.isValid()&&y.fileType?.ext==="svg"}class jn{constructor(y){Te(this,"_view");Zt(y),this._view=y}get id(){return this._view.id}get name(){return this._view.name}get caption(){return this._view.caption}get emptyTitle(){return this._view.emptyTitle}get emptyCaption(){return this._view.emptyCaption}get getContents(){return this._view.getContents}get hidden(){return this._view.hidden}get icon(){return this._view.icon}set icon(y){this._view.icon=y}get order(){return this._view.order}set order(y){this._view.order=y}get params(){return this._view.params}set params(y){this._view.params=y}get columns(){return this._view.columns}get emptyView(){return this._view.emptyView}get parent(){return this._view.parent}get sticky(){return this._view.sticky}get expanded(){return this._view.expanded}set expanded(y){this._view.expanded=y}get defaultSortKey(){return this._view.defaultSortKey}get loadChildViews(){return this._view.loadChildViews}}const Zt=function(T){if(!T.id||typeof T.id!="string")throw new Error("View id is required and must be a string");if(!T.name||typeof T.name!="string")throw new Error("View name is required and must be a string");if("caption"in T&&typeof T.caption!="string")throw new Error("View caption must be a string");if(!T.getContents||typeof T.getContents!="function")throw new Error("View getContents is required and must be a function");if("hidden"in T&&typeof T.hidden!="boolean")throw new Error("View hidden must be a boolean");if(!T.icon||typeof T.icon!="string"||!Nn(T.icon))throw new Error("View icon is required and must be a valid svg string");if("order"in T&&typeof T.order!="number")throw new Error("View order must be a number");if(T.columns&&T.columns.forEach(y=>{if(!(y instanceof yn))throw new Error("View columns must be an array of Column. Invalid column found")}),T.emptyView&&typeof T.emptyView!="function")throw new Error("View emptyView must be a function");if(T.parent&&typeof T.parent!="string")throw new Error("View parent must be a string");if("sticky"in T&&typeof T.sticky!="boolean")throw new Error("View sticky must be a boolean");if("expanded"in T&&typeof T.expanded!="boolean")throw new Error("View expanded must be a boolean");if(T.defaultSortKey&&typeof T.defaultSortKey!="string")throw new Error("View defaultSortKey must be a string");if(T.loadChildViews&&typeof T.loadChildViews!="function")throw new Error("View loadChildViews must be a function");return!0};var nt=(T=>(T[T.UploadFromDevice=0]="UploadFromDevice",T[T.CreateNew=1]="CreateNew",T[T.Other=2]="Other",T))(nt||{});class Mn{constructor(){Te(this,"_entries",[])}registerEntry(y){this.validateEntry(y),y.category=y.category??1,this._entries.push(y)}unregisterEntry(y){const U=typeof y=="string"?this.getEntryIndex(y):this.getEntryIndex(y.id);if(U===-1){logger.warn("Entry not found, nothing removed",{entry:y,entries:this.getEntries()});return}this._entries.splice(U,1)}getEntries(y){return y?this._entries.filter(U=>typeof U.enabled=="function"?U.enabled(y):!0):this._entries}getEntryIndex(y){return this._entries.findIndex(U=>U.id===y)}validateEntry(y){if(!y.id||!y.displayName||!(y.iconSvgInline||y.iconClass)||!y.handler)throw new Error("Invalid entry");if(typeof y.id!="string"||typeof y.displayName!="string")throw new Error("Invalid id or displayName property");if(y.iconClass&&typeof y.iconClass!="string"||y.iconSvgInline&&typeof y.iconSvgInline!="string")throw new Error("Invalid icon provided");if(y.enabled!==void 0&&typeof y.enabled!="function")throw new Error("Invalid enabled property");if(typeof y.handler!="function")throw new Error("Invalid handler property");if("order"in y&&typeof y.order!="number")throw new Error("Invalid order property");if(this.getEntryIndex(y.id)!==-1)throw new Error("Duplicate entry")}}function un(){return typeof window._nc_newfilemenu>"u"&&(window._nc_newfilemenu=new Mn,logger.debug("NewFileMenu initialized")),window._nc_newfilemenu}function Zn(T){return un().registerEntry(T)}function Jn(T){return un().unregisterEntry(T)}function er(T){return un().getEntries(T).sort((U,H)=>U.order!==void 0&&H.order!==void 0&&U.order!==H.order?U.order-H.order:U.displayName.localeCompare(H.displayName,void 0,{numeric:!0,sensitivity:"base"}))}var An=(T=>(T.ReservedName="reserved name",T.Character="character",T.Extension="extension",T))(An||{});class Ft extends Error{constructor(y){super(`Invalid ${y.reason} '${y.segment}' in filename '${y.filename}'`,{cause:y})}get filename(){return this.cause.filename}get reason(){return this.cause.reason}get segment(){return this.cause.segment}}function In(T){const y=(0,ee.F)().files,U=y.forbidden_filename_characters??window._oc_config?.forbidden_filenames_characters??["/","\\"];for(const W of U)if(T.includes(W))throw new Ft({segment:W,reason:"character",filename:T});if(T=T.toLocaleLowerCase(),(y.forbidden_filenames??[".htaccess"]).includes(T))throw new Ft({filename:T,segment:T,reason:"reserved name"});const re=T.indexOf(".",1),Ie=T.substring(0,re===-1?void 0:re);if((y.forbidden_filename_basenames??[]).includes(Ie))throw new Ft({filename:T,segment:Ie,reason:"reserved name"});const Oe=y.forbidden_filename_extensions??[".part",".filepart"];for(const W of Oe)if(T.length>W.length&&T.endsWith(W))throw new Ft({segment:W,reason:"extension",filename:T})}function tr(T){try{return In(T),!0}catch(y){if(y instanceof Ft)return!1;throw y}}function nr(T,y,U){const H={suffix:ue=>`(${ue})`,ignoreFileExtension:!1,...U};let re=T,Ie=1;for(;y.includes(re);){const ue=H.ignoreFileExtension?"":extname(T);re=`${basename(T,ue)} ${H.suffix(Ie++)}${ue}`}return re}const ln=["B","KB","MB","GB","TB","PB"],cn=["B","KiB","MiB","GiB","TiB","PiB"];function Un(T,y=!1,U=!1,H=!1){U=U&&!H,typeof T=="string"&&(T=Number(T));let re=T>0?Math.floor(Math.log(T)/Math.log(H?1e3:1024)):0;re=Math.min((U?cn.length:ln.length)-1,re);const Ie=U?cn[re]:ln[re];let ue=(T/Math.pow(H?1e3:1024,re)).toFixed(1);return y===!0&&re===0?(ue!=="0.0"?"< 1 ":"0 ")+(U?cn[1]:ln[1]):(re<2?ue=parseFloat(ue).toFixed(0):ue=parseFloat(ue).toLocaleString((0,J.lO)()),ue+" "+Ie)}function rr(T,y=!1){try{T=`${T}`.toLocaleLowerCase().replaceAll(/\s+/g,"").replaceAll(",",".")}catch{return null}const U=T.match(/^([0-9]*(\.[0-9]*)?)([kmgtp]?)(i?)b?$/);if(U===null||U[1]==="."||U[1]==="")return null;const H={"":0,k:1,m:2,g:3,t:4,p:5,e:6},re=`${U[1]}`,Ie=U[4]==="i"||y?1024:1e3;return Math.round(Number.parseFloat(re)*Ie**H[U[3]])}function On(T){return T instanceof Date?T.toISOString():String(T)}function kn(T,y,U){y=y??[Ie=>Ie],U=U??[];const H=y.map((Ie,ue)=>(U[ue]??"asc")==="asc"?1:-1),re=Intl.Collator([(0,J.Z0)(),(0,J.lO)()],{numeric:!0,usage:"sort"});return[...T].sort((Ie,ue)=>{for(const[Oe,W]of y.entries()){const S=re.compare(On(W(Ie)),On(W(ue)));if(S!==0)return S*H[Oe]}return 0})}var Bn=(T=>(T.Name="basename",T.Modified="mtime",T.Size="size",T))(Bn||{});function Vn(T,y={}){const U={sortingMode:"basename",sortingOrder:"asc",...y},H=ue=>ue.lastIndexOf(".")>0?ue.slice(0,ue.lastIndexOf(".")):ue,re=[...U.sortFavoritesFirst?[ue=>ue.attributes?.favorite!==1]:[],...U.sortFoldersFirst?[ue=>ue.type!=="folder"]:[],...U.sortingMode!=="basename"?[ue=>ue[U.sortingMode]??ue.attributes[U.sortingMode]]:[],ue=>H(ue.displayname||ue.attributes?.displayname||ue.basename||""),ue=>ue.basename],Ie=[...U.sortFavoritesFirst?["asc"]:[],...U.sortFoldersFirst?["asc"]:[],...U.sortingMode==="mtime"?[U.sortingOrder==="asc"?"desc":"asc"]:[],...U.sortingMode!=="mtime"&&U.sortingMode!=="basename"?[U.sortingOrder]:[],U.sortingOrder,U.sortingOrder];return kn(T,re,Ie)}},71225:(_e,Ee,se)=>{"use strict";se.d(Ee,{HS:()=>ee,O0:()=>he,P8:()=>ye});function he(J){return J&&J.split("/").map(encodeURIComponent).join("/")}function ye(J){return J.replace(/\\/g,"/").replace(/.*\//,"")}function De(J){return J.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")}function ee(...J){if(arguments.length<1)return"";const L=J.filter(pe=>pe.length>0);if(L.length<1)return"";const j=L[L.length-1],Z=L[0].charAt(0)==="/",K=j.charAt(j.length-1)==="/",ce=L.reduce((pe,oe)=>pe.concat(oe.split("/")),[]);let Q=!Z;const te=ce.reduce((pe,oe)=>oe===""?pe:Q?(Q=!1,pe+oe):pe+"/"+oe,"");return K?te+"/":te}function ne(J,L){const j=(J||"").split("/").filter(K=>K!=="."),Z=(L||"").split("/").filter(K=>K!==".");return J=ee.apply(void 0,j),L=ee.apply(void 0,Z),J===L}},380:(_e,Ee,se)=>{"use strict";se.d(Ee,{m:()=>he});var he=class extends EventTarget{dispatchTypedEvent(ye,De){return super.dispatchEvent(De)}}},44719:(_e,Ee,se)=>{"use strict";var et,at,Dt,je,He,Mt,qt,Ut,xt,zt,En,Ht,lr,kt,Pn,Yn,cr;se.d(Ee,{Gu:()=>br,UU:()=>yr});var he=se(65606);/*! For license information please see index.js.LICENSE.txt */var ye={2:n=>{function e(s,o,f){s instanceof RegExp&&(s=t(s,f)),o instanceof RegExp&&(o=t(o,f));var l=r(s,o,f);return l&&{start:l[0],end:l[1],pre:f.slice(0,l[0]),body:f.slice(l[0]+s.length,l[1]),post:f.slice(l[1]+o.length)}}function t(s,o){var f=o.match(s);return f?f[0]:null}function r(s,o,f){var l,v,h,i,c,a=f.indexOf(s),E=f.indexOf(o,a+1),m=a;if(a>=0&&E>0){for(l=[],h=f.length;m>=0&&!c;)m==a?(l.push(m),a=f.indexOf(s,m+1)):l.length==1?c=[l.pop(),E]:((v=l.pop())<h&&(h=v,i=E),E=f.indexOf(o,m+1)),m=a<E&&a>=0?a:E;l.length&&(c=[h,i])}return c}n.exports=e,e.range=r},101:function(n,e,t){var r;n=t.nmd(n),function(s){var o=(n&&n.exports,typeof global=="object"&&global);o.global!==o&&o.window;var f=function(c){this.message=c};(f.prototype=new Error).name="InvalidCharacterError";var l=function(c){throw new f(c)},v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=/[\t\n\f\r ]/g,i={encode:function(c){c=String(c),/[^\0-\xFF]/.test(c)&&l("The string to be encoded contains characters outside of the Latin1 range.");for(var a,E,m,p,w=c.length%3,O="",d=-1,b=c.length-w;++d<b;)a=c.charCodeAt(d)<<16,E=c.charCodeAt(++d)<<8,m=c.charCodeAt(++d),O+=v.charAt((p=a+E+m)>>18&63)+v.charAt(p>>12&63)+v.charAt(p>>6&63)+v.charAt(63&p);return w==2?(a=c.charCodeAt(d)<<8,E=c.charCodeAt(++d),O+=v.charAt((p=a+E)>>10)+v.charAt(p>>4&63)+v.charAt(p<<2&63)+"="):w==1&&(p=c.charCodeAt(d),O+=v.charAt(p>>2)+v.charAt(p<<4&63)+"=="),O},decode:function(c){var a=(c=String(c).replace(h,"")).length;a%4==0&&(a=(c=c.replace(/==?$/,"")).length),(a%4==1||/[^+a-zA-Z0-9/]/.test(c))&&l("Invalid character: the string to be decoded is not correctly encoded.");for(var E,m,p=0,w="",O=-1;++O<a;)m=v.indexOf(c.charAt(O)),E=p%4?64*E+m:m,p++%4&&(w+=String.fromCharCode(255&E>>(-2*p&6)));return w},version:"1.0.0"};(r=function(){return i}.call(e,t,e,n))===void 0||(n.exports=r)}()},172:(n,e)=>{e.d=function(t){if(!t)return 0;for(var r=(t=t.toString()).length,s=t.length;s--;){var o=t.charCodeAt(s);56320<=o&&o<=57343&&s--,127<o&&o<=2047?r++:2047<o&&o<=65535&&(r+=2)}return r}},526:n=>{var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var r=[],s=0;s<t.length;s++)r.push(255&t.charCodeAt(s));return r},bytesToString:function(t){for(var r=[],s=0;s<t.length;s++)r.push(String.fromCharCode(t[s]));return r.join("")}}};n.exports=e},298:n=>{var e,t;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(r,s){return r<<s|r>>>32-s},rotr:function(r,s){return r<<32-s|r>>>s},endian:function(r){if(r.constructor==Number)return 16711935&t.rotl(r,8)|4278255360&t.rotl(r,24);for(var s=0;s<r.length;s++)r[s]=t.endian(r[s]);return r},randomBytes:function(r){for(var s=[];r>0;r--)s.push(Math.floor(256*Math.random()));return s},bytesToWords:function(r){for(var s=[],o=0,f=0;o<r.length;o++,f+=8)s[f>>>5]|=r[o]<<24-f%32;return s},wordsToBytes:function(r){for(var s=[],o=0;o<32*r.length;o+=8)s.push(r[o>>>5]>>>24-o%32&255);return s},bytesToHex:function(r){for(var s=[],o=0;o<r.length;o++)s.push((r[o]>>>4).toString(16)),s.push((15&r[o]).toString(16));return s.join("")},hexToBytes:function(r){for(var s=[],o=0;o<r.length;o+=2)s.push(parseInt(r.substr(o,2),16));return s},bytesToBase64:function(r){for(var s=[],o=0;o<r.length;o+=3)for(var f=r[o]<<16|r[o+1]<<8|r[o+2],l=0;l<4;l++)8*o+6*l<=8*r.length?s.push(e.charAt(f>>>6*(3-l)&63)):s.push("=");return s.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/gi,"");for(var s=[],o=0,f=0;o<r.length;f=++o%4)f!=0&&s.push((e.indexOf(r.charAt(o-1))&Math.pow(2,-2*f+8)-1)<<2*f|e.indexOf(r.charAt(o))>>>6-2*f);return s}},n.exports=t},635:(n,e,t)=>{const r=t(31),s=t(338),o=t(221);n.exports={XMLParser:s,XMLValidator:r,XMLBuilder:o}},118:n=>{n.exports=function(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(const r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}},705:(n,e)=>{const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+t+"]["+t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",s=new RegExp("^"+r+"$");e.isExist=function(o){return o!==void 0},e.isEmptyObject=function(o){return Object.keys(o).length===0},e.merge=function(o,f,l){if(f){const v=Object.keys(f),h=v.length;for(let i=0;i<h;i++)o[v[i]]=l==="strict"?[f[v[i]]]:f[v[i]]}},e.getValue=function(o){return e.isExist(o)?o:""},e.isName=function(o){return s.exec(o)!=null},e.getAllMatches=function(o,f){const l=[];let v=f.exec(o);for(;v;){const h=[];h.startIndex=f.lastIndex-v[0].length;const i=v.length;for(let c=0;c<i;c++)h.push(v[c]);l.push(h),v=f.exec(o)}return l},e.nameRegexp=r},31:(n,e,t)=>{const r=t(705),s={allowBooleanAttributes:!1,unpairedTags:[]};function o(d){return d===" "||d==="	"||d===`
`||d==="\r"}function f(d,b){const I=b;for(;b<d.length;b++)if(!(d[b]!="?"&&d[b]!=" ")){const P=d.substr(I,b-I);if(b>5&&P==="xml")return m("InvalidXml","XML declaration allowed only at the start of the document.",w(d,b));if(d[b]=="?"&&d[b+1]==">"){b++;break}}return b}function l(d,b){if(d.length>b+5&&d[b+1]==="-"&&d[b+2]==="-"){for(b+=3;b<d.length;b++)if(d[b]==="-"&&d[b+1]==="-"&&d[b+2]===">"){b+=2;break}}else if(d.length>b+8&&d[b+1]==="D"&&d[b+2]==="O"&&d[b+3]==="C"&&d[b+4]==="T"&&d[b+5]==="Y"&&d[b+6]==="P"&&d[b+7]==="E"){let I=1;for(b+=8;b<d.length;b++)if(d[b]==="<")I++;else if(d[b]===">"&&(I--,I===0))break}else if(d.length>b+9&&d[b+1]==="["&&d[b+2]==="C"&&d[b+3]==="D"&&d[b+4]==="A"&&d[b+5]==="T"&&d[b+6]==="A"&&d[b+7]==="["){for(b+=8;b<d.length;b++)if(d[b]==="]"&&d[b+1]==="]"&&d[b+2]===">"){b+=2;break}}return b}e.validate=function(d,b){b=Object.assign({},s,b);const I=[];let P=!1,_=!1;d[0]==="\uFEFF"&&(d=d.substr(1));for(let A=0;A<d.length;A++)if(d[A]==="<"&&d[A+1]==="?"){if(A+=2,A=f(d,A),A.err)return A}else{if(d[A]!=="<"){if(o(d[A]))continue;return m("InvalidChar","char '"+d[A]+"' is not expected.",w(d,A))}{let V=A;if(A++,d[A]==="!"){A=l(d,A);continue}{let z=!1;d[A]==="/"&&(z=!0,A++);let Y="";for(;A<d.length&&d[A]!==">"&&d[A]!==" "&&d[A]!=="	"&&d[A]!==`
`&&d[A]!=="\r";A++)Y+=d[A];if(Y=Y.trim(),Y[Y.length-1]==="/"&&(Y=Y.substring(0,Y.length-1),A--),k=Y,!r.isName(k)){let ge;return ge=Y.trim().length===0?"Invalid space after '<'.":"Tag '"+Y+"' is an invalid name.",m("InvalidTag",ge,w(d,A))}const ae=i(d,A);if(ae===!1)return m("InvalidAttr","Attributes for '"+Y+"' have open quote.",w(d,A));let R=ae.value;if(A=ae.index,R[R.length-1]==="/"){const ge=A-R.length;R=R.substring(0,R.length-1);const de=a(R,b);if(de!==!0)return m(de.err.code,de.err.msg,w(d,ge+de.err.line));P=!0}else if(z){if(!ae.tagClosed)return m("InvalidTag","Closing tag '"+Y+"' doesn't have proper closing.",w(d,A));if(R.trim().length>0)return m("InvalidTag","Closing tag '"+Y+"' can't have attributes or invalid starting.",w(d,V));if(I.length===0)return m("InvalidTag","Closing tag '"+Y+"' has not been opened.",w(d,V));{const ge=I.pop();if(Y!==ge.tagName){let de=w(d,ge.tagStartPos);return m("InvalidTag","Expected closing tag '"+ge.tagName+"' (opened in line "+de.line+", col "+de.col+") instead of closing tag '"+Y+"'.",w(d,V))}I.length==0&&(_=!0)}}else{const ge=a(R,b);if(ge!==!0)return m(ge.err.code,ge.err.msg,w(d,A-R.length+ge.err.line));if(_===!0)return m("InvalidXml","Multiple possible root nodes found.",w(d,A));b.unpairedTags.indexOf(Y)!==-1||I.push({tagName:Y,tagStartPos:V}),P=!0}for(A++;A<d.length;A++)if(d[A]==="<"){if(d[A+1]==="!"){A++,A=l(d,A);continue}if(d[A+1]!=="?")break;if(A=f(d,++A),A.err)return A}else if(d[A]==="&"){const ge=E(d,A);if(ge==-1)return m("InvalidChar","char '&' is not expected.",w(d,A));A=ge}else if(_===!0&&!o(d[A]))return m("InvalidXml","Extra text at the end",w(d,A));d[A]==="<"&&A--}}}var k;return P?I.length==1?m("InvalidTag","Unclosed tag '"+I[0].tagName+"'.",w(d,I[0].tagStartPos)):!(I.length>0)||m("InvalidXml","Invalid '"+JSON.stringify(I.map(A=>A.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):m("InvalidXml","Start tag expected.",1)};const v='"',h="'";function i(d,b){let I="",P="",_=!1;for(;b<d.length;b++){if(d[b]===v||d[b]===h)P===""?P=d[b]:P!==d[b]||(P="");else if(d[b]===">"&&P===""){_=!0;break}I+=d[b]}return P===""&&{value:I,index:b,tagClosed:_}}const c=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function a(d,b){const I=r.getAllMatches(d,c),P={};for(let _=0;_<I.length;_++){if(I[_][1].length===0)return m("InvalidAttr","Attribute '"+I[_][2]+"' has no space in starting.",O(I[_]));if(I[_][3]!==void 0&&I[_][4]===void 0)return m("InvalidAttr","Attribute '"+I[_][2]+"' is without value.",O(I[_]));if(I[_][3]===void 0&&!b.allowBooleanAttributes)return m("InvalidAttr","boolean attribute '"+I[_][2]+"' is not allowed.",O(I[_]));const k=I[_][2];if(!p(k))return m("InvalidAttr","Attribute '"+k+"' is an invalid name.",O(I[_]));if(P.hasOwnProperty(k))return m("InvalidAttr","Attribute '"+k+"' is repeated.",O(I[_]));P[k]=1}return!0}function E(d,b){if(d[++b]===";")return-1;if(d[b]==="#")return function(P,_){let k=/\d/;for(P[_]==="x"&&(_++,k=/[\da-fA-F]/);_<P.length;_++){if(P[_]===";")return _;if(!P[_].match(k))break}return-1}(d,++b);let I=0;for(;b<d.length;b++,I++)if(!(d[b].match(/\w/)&&I<20)){if(d[b]===";")break;return-1}return b}function m(d,b,I){return{err:{code:d,msg:b,line:I.line||I,col:I.col}}}function p(d){return r.isName(d)}function w(d,b){const I=d.substring(0,b).split(/\r?\n/);return{line:I.length,col:I[I.length-1].length+1}}function O(d){return d.startIndex+d[1].length}},221:(n,e,t)=>{const r=t(87),s=t(118),o={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(i,c){return c},attributeValueProcessor:function(i,c){return c},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function f(i){this.options=Object.assign({},o,i),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=s(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=h),this.processTextOrObjNode=l,this.options.format?(this.indentate=v,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function l(i,c,a,E){const m=this.j2x(i,a+1,E.concat(c));return i[this.options.textNodeName]!==void 0&&Object.keys(i).length===1?this.buildTextValNode(i[this.options.textNodeName],c,m.attrStr,a):this.buildObjectNode(m.val,c,m.attrStr,a)}function v(i){return this.options.indentBy.repeat(i)}function h(i){return!(!i.startsWith(this.options.attributeNamePrefix)||i===this.options.textNodeName)&&i.substr(this.attrPrefixLen)}f.prototype.build=function(i){return this.options.preserveOrder?r(i,this.options):(Array.isArray(i)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(i={[this.options.arrayNodeName]:i}),this.j2x(i,0,[]).val)},f.prototype.j2x=function(i,c,a){let E="",m="";const p=a.join(".");for(let w in i)if(Object.prototype.hasOwnProperty.call(i,w))if(i[w]===void 0)this.isAttribute(w)&&(m+="");else if(i[w]===null)this.isAttribute(w)?m+="":w[0]==="?"?m+=this.indentate(c)+"<"+w+"?"+this.tagEndChar:m+=this.indentate(c)+"<"+w+"/"+this.tagEndChar;else if(i[w]instanceof Date)m+=this.buildTextValNode(i[w],w,"",c);else if(typeof i[w]!="object"){const O=this.isAttribute(w);if(O&&!this.ignoreAttributesFn(O,p))E+=this.buildAttrPairStr(O,""+i[w]);else if(!O)if(w===this.options.textNodeName){let d=this.options.tagValueProcessor(w,""+i[w]);m+=this.replaceEntitiesValue(d)}else m+=this.buildTextValNode(i[w],w,"",c)}else if(Array.isArray(i[w])){const O=i[w].length;let d="",b="";for(let I=0;I<O;I++){const P=i[w][I];if(P!==void 0)if(P===null)w[0]==="?"?m+=this.indentate(c)+"<"+w+"?"+this.tagEndChar:m+=this.indentate(c)+"<"+w+"/"+this.tagEndChar;else if(typeof P=="object")if(this.options.oneListGroup){const _=this.j2x(P,c+1,a.concat(w));d+=_.val,this.options.attributesGroupName&&P.hasOwnProperty(this.options.attributesGroupName)&&(b+=_.attrStr)}else d+=this.processTextOrObjNode(P,w,c,a);else if(this.options.oneListGroup){let _=this.options.tagValueProcessor(w,P);_=this.replaceEntitiesValue(_),d+=_}else d+=this.buildTextValNode(P,w,"",c)}this.options.oneListGroup&&(d=this.buildObjectNode(d,w,b,c)),m+=d}else if(this.options.attributesGroupName&&w===this.options.attributesGroupName){const O=Object.keys(i[w]),d=O.length;for(let b=0;b<d;b++)E+=this.buildAttrPairStr(O[b],""+i[w][O[b]])}else m+=this.processTextOrObjNode(i[w],w,c,a);return{attrStr:E,val:m}},f.prototype.buildAttrPairStr=function(i,c){return c=this.options.attributeValueProcessor(i,""+c),c=this.replaceEntitiesValue(c),this.options.suppressBooleanAttributes&&c==="true"?" "+i:" "+i+'="'+c+'"'},f.prototype.buildObjectNode=function(i,c,a,E){if(i==="")return c[0]==="?"?this.indentate(E)+"<"+c+a+"?"+this.tagEndChar:this.indentate(E)+"<"+c+a+this.closeTag(c)+this.tagEndChar;{let m="</"+c+this.tagEndChar,p="";return c[0]==="?"&&(p="?",m=""),!a&&a!==""||i.indexOf("<")!==-1?this.options.commentPropName!==!1&&c===this.options.commentPropName&&p.length===0?this.indentate(E)+`<!--${i}-->`+this.newLine:this.indentate(E)+"<"+c+a+p+this.tagEndChar+i+this.indentate(E)+m:this.indentate(E)+"<"+c+a+p+">"+i+m}},f.prototype.closeTag=function(i){let c="";return this.options.unpairedTags.indexOf(i)!==-1?this.options.suppressUnpairedNode||(c="/"):c=this.options.suppressEmptyNode?"/":`></${i}`,c},f.prototype.buildTextValNode=function(i,c,a,E){if(this.options.cdataPropName!==!1&&c===this.options.cdataPropName)return this.indentate(E)+`<![CDATA[${i}]]>`+this.newLine;if(this.options.commentPropName!==!1&&c===this.options.commentPropName)return this.indentate(E)+`<!--${i}-->`+this.newLine;if(c[0]==="?")return this.indentate(E)+"<"+c+a+"?"+this.tagEndChar;{let m=this.options.tagValueProcessor(c,i);return m=this.replaceEntitiesValue(m),m===""?this.indentate(E)+"<"+c+a+this.closeTag(c)+this.tagEndChar:this.indentate(E)+"<"+c+a+">"+m+"</"+c+this.tagEndChar}},f.prototype.replaceEntitiesValue=function(i){if(i&&i.length>0&&this.options.processEntities)for(let c=0;c<this.options.entities.length;c++){const a=this.options.entities[c];i=i.replace(a.regex,a.val)}return i},n.exports=f},87:n=>{function e(f,l,v,h){let i="",c=!1;for(let a=0;a<f.length;a++){const E=f[a],m=t(E);if(m===void 0)continue;let p="";if(p=v.length===0?m:`${v}.${m}`,m===l.textNodeName){let b=E[m];s(p,l)||(b=l.tagValueProcessor(m,b),b=o(b,l)),c&&(i+=h),i+=b,c=!1;continue}if(m===l.cdataPropName){c&&(i+=h),i+=`<![CDATA[${E[m][0][l.textNodeName]}]]>`,c=!1;continue}if(m===l.commentPropName){i+=h+`<!--${E[m][0][l.textNodeName]}-->`,c=!0;continue}if(m[0]==="?"){const b=r(E[":@"],l),I=m==="?xml"?"":h;let P=E[m][0][l.textNodeName];P=P.length!==0?" "+P:"",i+=I+`<${m}${P}${b}?>`,c=!0;continue}let w=h;w!==""&&(w+=l.indentBy);const O=h+`<${m}${r(E[":@"],l)}`,d=e(E[m],l,p,w);l.unpairedTags.indexOf(m)!==-1?l.suppressUnpairedNode?i+=O+">":i+=O+"/>":d&&d.length!==0||!l.suppressEmptyNode?d&&d.endsWith(">")?i+=O+`>${d}${h}</${m}>`:(i+=O+">",d&&h!==""&&(d.includes("/>")||d.includes("</"))?i+=h+l.indentBy+d+h:i+=d,i+=`</${m}>`):i+=O+"/>",c=!0}return i}function t(f){const l=Object.keys(f);for(let v=0;v<l.length;v++){const h=l[v];if(f.hasOwnProperty(h)&&h!==":@")return h}}function r(f,l){let v="";if(f&&!l.ignoreAttributes)for(let h in f){if(!f.hasOwnProperty(h))continue;let i=l.attributeValueProcessor(h,f[h]);i=o(i,l),i===!0&&l.suppressBooleanAttributes?v+=` ${h.substr(l.attributeNamePrefix.length)}`:v+=` ${h.substr(l.attributeNamePrefix.length)}="${i}"`}return v}function s(f,l){let v=(f=f.substr(0,f.length-l.textNodeName.length-1)).substr(f.lastIndexOf(".")+1);for(let h in l.stopNodes)if(l.stopNodes[h]===f||l.stopNodes[h]==="*."+v)return!0;return!1}function o(f,l){if(f&&f.length>0&&l.processEntities)for(let v=0;v<l.entities.length;v++){const h=l.entities[v];f=f.replace(h.regex,h.val)}return f}n.exports=function(f,l){let v="";return l.format&&l.indentBy.length>0&&(v=`
`),e(f,l,"",v)}},193:(n,e,t)=>{const r=t(705);function s(c,a){let E="";for(;a<c.length&&c[a]!=="'"&&c[a]!=='"';a++)E+=c[a];if(E=E.trim(),E.indexOf(" ")!==-1)throw new Error("External entites are not supported");const m=c[a++];let p="";for(;a<c.length&&c[a]!==m;a++)p+=c[a];return[E,p,a]}function o(c,a){return c[a+1]==="!"&&c[a+2]==="-"&&c[a+3]==="-"}function f(c,a){return c[a+1]==="!"&&c[a+2]==="E"&&c[a+3]==="N"&&c[a+4]==="T"&&c[a+5]==="I"&&c[a+6]==="T"&&c[a+7]==="Y"}function l(c,a){return c[a+1]==="!"&&c[a+2]==="E"&&c[a+3]==="L"&&c[a+4]==="E"&&c[a+5]==="M"&&c[a+6]==="E"&&c[a+7]==="N"&&c[a+8]==="T"}function v(c,a){return c[a+1]==="!"&&c[a+2]==="A"&&c[a+3]==="T"&&c[a+4]==="T"&&c[a+5]==="L"&&c[a+6]==="I"&&c[a+7]==="S"&&c[a+8]==="T"}function h(c,a){return c[a+1]==="!"&&c[a+2]==="N"&&c[a+3]==="O"&&c[a+4]==="T"&&c[a+5]==="A"&&c[a+6]==="T"&&c[a+7]==="I"&&c[a+8]==="O"&&c[a+9]==="N"}function i(c){if(r.isName(c))return c;throw new Error(`Invalid entity name ${c}`)}n.exports=function(c,a){const E={};if(c[a+3]!=="O"||c[a+4]!=="C"||c[a+5]!=="T"||c[a+6]!=="Y"||c[a+7]!=="P"||c[a+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{a+=9;let m=1,p=!1,w=!1,O="";for(;a<c.length;a++)if(c[a]!=="<"||w)if(c[a]===">"){if(w?c[a-1]==="-"&&c[a-2]==="-"&&(w=!1,m--):m--,m===0)break}else c[a]==="["?p=!0:O+=c[a];else{if(p&&f(c,a)){let d,b;a+=7,[d,b,a]=s(c,a+1),b.indexOf("&")===-1&&(E[i(d)]={regx:RegExp(`&${d};`,"g"),val:b})}else if(p&&l(c,a))a+=8;else if(p&&v(c,a))a+=8;else if(p&&h(c,a))a+=9;else{if(!o)throw new Error("Invalid DOCTYPE");w=!0}m++,O=""}if(m!==0)throw new Error("Unclosed DOCTYPE")}return{entities:E,i:a}}},63:(n,e)=>{const t={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(r,s){return s},attributeValueProcessor:function(r,s){return s},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(r,s,o){return r}};e.buildOptions=function(r){return Object.assign({},t,r)},e.defaultOptions=t},299:(n,e,t)=>{const r=t(705),s=t(365),o=t(193),f=t(494),l=t(118);function v(_){const k=Object.keys(_);for(let A=0;A<k.length;A++){const V=k[A];this.lastEntities[V]={regex:new RegExp("&"+V+";","g"),val:_[V]}}}function h(_,k,A,V,z,Y,ae){if(_!==void 0&&(this.options.trimValues&&!V&&(_=_.trim()),_.length>0)){ae||(_=this.replaceEntitiesValue(_));const R=this.options.tagValueProcessor(k,_,A,z,Y);return R==null?_:typeof R!=typeof _||R!==_?R:this.options.trimValues||_.trim()===_?P(_,this.options.parseTagValue,this.options.numberParseOptions):_}}function i(_){if(this.options.removeNSPrefix){const k=_.split(":"),A=_.charAt(0)==="/"?"/":"";if(k[0]==="xmlns")return"";k.length===2&&(_=A+k[1])}return _}const c=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function a(_,k,A){if(this.options.ignoreAttributes!==!0&&typeof _=="string"){const V=r.getAllMatches(_,c),z=V.length,Y={};for(let ae=0;ae<z;ae++){const R=this.resolveNameSpace(V[ae][1]);if(this.ignoreAttributesFn(R,k))continue;let ge=V[ae][4],de=this.options.attributeNamePrefix+R;if(R.length)if(this.options.transformAttributeName&&(de=this.options.transformAttributeName(de)),de==="__proto__"&&(de="#__proto__"),ge!==void 0){this.options.trimValues&&(ge=ge.trim()),ge=this.replaceEntitiesValue(ge);const Le=this.options.attributeValueProcessor(R,ge,k);Y[de]=Le==null?ge:typeof Le!=typeof ge||Le!==ge?Le:P(ge,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(Y[de]=!0)}if(!Object.keys(Y).length)return;if(this.options.attributesGroupName){const ae={};return ae[this.options.attributesGroupName]=Y,ae}return Y}}const E=function(_){_=_.replace(/\r\n?/g,`
`);const k=new s("!xml");let A=k,V="",z="";for(let Y=0;Y<_.length;Y++)if(_[Y]==="<")if(_[Y+1]==="/"){const ae=d(_,">",Y,"Closing Tag is not closed.");let R=_.substring(Y+2,ae).trim();if(this.options.removeNSPrefix){const Le=R.indexOf(":");Le!==-1&&(R=R.substr(Le+1))}this.options.transformTagName&&(R=this.options.transformTagName(R)),A&&(V=this.saveTextToParentTag(V,A,z));const ge=z.substring(z.lastIndexOf(".")+1);if(R&&this.options.unpairedTags.indexOf(R)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${R}>`);let de=0;ge&&this.options.unpairedTags.indexOf(ge)!==-1?(de=z.lastIndexOf(".",z.lastIndexOf(".")-1),this.tagsNodeStack.pop()):de=z.lastIndexOf("."),z=z.substring(0,de),A=this.tagsNodeStack.pop(),V="",Y=ae}else if(_[Y+1]==="?"){let ae=b(_,Y,!1,"?>");if(!ae)throw new Error("Pi Tag is not closed.");if(V=this.saveTextToParentTag(V,A,z),!(this.options.ignoreDeclaration&&ae.tagName==="?xml"||this.options.ignorePiTags)){const R=new s(ae.tagName);R.add(this.options.textNodeName,""),ae.tagName!==ae.tagExp&&ae.attrExpPresent&&(R[":@"]=this.buildAttributesMap(ae.tagExp,z,ae.tagName)),this.addChild(A,R,z)}Y=ae.closeIndex+1}else if(_.substr(Y+1,3)==="!--"){const ae=d(_,"-->",Y+4,"Comment is not closed.");if(this.options.commentPropName){const R=_.substring(Y+4,ae-2);V=this.saveTextToParentTag(V,A,z),A.add(this.options.commentPropName,[{[this.options.textNodeName]:R}])}Y=ae}else if(_.substr(Y+1,2)==="!D"){const ae=o(_,Y);this.docTypeEntities=ae.entities,Y=ae.i}else if(_.substr(Y+1,2)==="!["){const ae=d(_,"]]>",Y,"CDATA is not closed.")-2,R=_.substring(Y+9,ae);V=this.saveTextToParentTag(V,A,z);let ge=this.parseTextData(R,A.tagname,z,!0,!1,!0,!0);ge==null&&(ge=""),this.options.cdataPropName?A.add(this.options.cdataPropName,[{[this.options.textNodeName]:R}]):A.add(this.options.textNodeName,ge),Y=ae+2}else{let ae=b(_,Y,this.options.removeNSPrefix),R=ae.tagName;const ge=ae.rawTagName;let de=ae.tagExp,Le=ae.attrExpPresent,lt=ae.closeIndex;this.options.transformTagName&&(R=this.options.transformTagName(R)),A&&V&&A.tagname!=="!xml"&&(V=this.saveTextToParentTag(V,A,z,!1));const tt=A;if(tt&&this.options.unpairedTags.indexOf(tt.tagname)!==-1&&(A=this.tagsNodeStack.pop(),z=z.substring(0,z.lastIndexOf("."))),R!==k.tagname&&(z+=z?"."+R:R),this.isItStopNode(this.options.stopNodes,z,R)){let Ve="";if(de.length>0&&de.lastIndexOf("/")===de.length-1)R[R.length-1]==="/"?(R=R.substr(0,R.length-1),z=z.substr(0,z.length-1),de=R):de=de.substr(0,de.length-1),Y=ae.closeIndex;else if(this.options.unpairedTags.indexOf(R)!==-1)Y=ae.closeIndex;else{const Ye=this.readStopNodeData(_,ge,lt+1);if(!Ye)throw new Error(`Unexpected end of ${ge}`);Y=Ye.i,Ve=Ye.tagContent}const Nt=new s(R);R!==de&&Le&&(Nt[":@"]=this.buildAttributesMap(de,z,R)),Ve&&(Ve=this.parseTextData(Ve,R,z,!0,Le,!0,!0)),z=z.substr(0,z.lastIndexOf(".")),Nt.add(this.options.textNodeName,Ve),this.addChild(A,Nt,z)}else{if(de.length>0&&de.lastIndexOf("/")===de.length-1){R[R.length-1]==="/"?(R=R.substr(0,R.length-1),z=z.substr(0,z.length-1),de=R):de=de.substr(0,de.length-1),this.options.transformTagName&&(R=this.options.transformTagName(R));const Ve=new s(R);R!==de&&Le&&(Ve[":@"]=this.buildAttributesMap(de,z,R)),this.addChild(A,Ve,z),z=z.substr(0,z.lastIndexOf("."))}else{const Ve=new s(R);this.tagsNodeStack.push(A),R!==de&&Le&&(Ve[":@"]=this.buildAttributesMap(de,z,R)),this.addChild(A,Ve,z),A=Ve}V="",Y=lt}}else V+=_[Y];return k.child};function m(_,k,A){const V=this.options.updateTag(k.tagname,A,k[":@"]);V===!1||(typeof V=="string"&&(k.tagname=V),_.addChild(k))}const p=function(_){if(this.options.processEntities){for(let k in this.docTypeEntities){const A=this.docTypeEntities[k];_=_.replace(A.regx,A.val)}for(let k in this.lastEntities){const A=this.lastEntities[k];_=_.replace(A.regex,A.val)}if(this.options.htmlEntities)for(let k in this.htmlEntities){const A=this.htmlEntities[k];_=_.replace(A.regex,A.val)}_=_.replace(this.ampEntity.regex,this.ampEntity.val)}return _};function w(_,k,A,V){return _&&(V===void 0&&(V=Object.keys(k.child).length===0),(_=this.parseTextData(_,k.tagname,A,!1,!!k[":@"]&&Object.keys(k[":@"]).length!==0,V))!==void 0&&_!==""&&k.add(this.options.textNodeName,_),_=""),_}function O(_,k,A){const V="*."+A;for(const z in _){const Y=_[z];if(V===Y||k===Y)return!0}return!1}function d(_,k,A,V){const z=_.indexOf(k,A);if(z===-1)throw new Error(V);return z+k.length-1}function b(_,k,A){const V=function(Le,lt){let tt,Ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",Nt="";for(let Ye=lt;Ye<Le.length;Ye++){let ct=Le[Ye];if(tt)ct===tt&&(tt="");else if(ct==='"'||ct==="'")tt=ct;else if(ct===Ve[0]){if(!Ve[1])return{data:Nt,index:Ye};if(Le[Ye+1]===Ve[1])return{data:Nt,index:Ye}}else ct==="	"&&(ct=" ");Nt+=ct}}(_,k+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!V)return;let z=V.data;const Y=V.index,ae=z.search(/\s/);let R=z,ge=!0;ae!==-1&&(R=z.substring(0,ae),z=z.substring(ae+1).trimStart());const de=R;if(A){const Le=R.indexOf(":");Le!==-1&&(R=R.substr(Le+1),ge=R!==V.data.substr(Le+1))}return{tagName:R,tagExp:z,closeIndex:Y,attrExpPresent:ge,rawTagName:de}}function I(_,k,A){const V=A;let z=1;for(;A<_.length;A++)if(_[A]==="<")if(_[A+1]==="/"){const Y=d(_,">",A,`${k} is not closed`);if(_.substring(A+2,Y).trim()===k&&(z--,z===0))return{tagContent:_.substring(V,A),i:Y};A=Y}else if(_[A+1]==="?")A=d(_,"?>",A+1,"StopNode is not closed.");else if(_.substr(A+1,3)==="!--")A=d(_,"-->",A+3,"StopNode is not closed.");else if(_.substr(A+1,2)==="![")A=d(_,"]]>",A,"StopNode is not closed.")-2;else{const Y=b(_,A,">");Y&&((Y&&Y.tagName)===k&&Y.tagExp[Y.tagExp.length-1]!=="/"&&z++,A=Y.closeIndex)}}function P(_,k,A){if(k&&typeof _=="string"){const V=_.trim();return V==="true"||V!=="false"&&f(_,A)}return r.isExist(_)?_:""}n.exports=class{constructor(_){this.options=_,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(k,A)=>String.fromCharCode(Number.parseInt(A,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(k,A)=>String.fromCharCode(Number.parseInt(A,16))}},this.addExternalEntities=v,this.parseXml=E,this.parseTextData=h,this.resolveNameSpace=i,this.buildAttributesMap=a,this.isItStopNode=O,this.replaceEntitiesValue=p,this.readStopNodeData=I,this.saveTextToParentTag=w,this.addChild=m,this.ignoreAttributesFn=l(this.options.ignoreAttributes)}}},338:(n,e,t)=>{const{buildOptions:r}=t(63),s=t(299),{prettify:o}=t(728),f=t(31);n.exports=class{constructor(l){this.externalEntities={},this.options=r(l)}parse(l,v){if(typeof l!="string"){if(!l.toString)throw new Error("XML data is accepted in String or Bytes[] form.");l=l.toString()}if(v){v===!0&&(v={});const c=f.validate(l,v);if(c!==!0)throw Error(`${c.err.msg}:${c.err.line}:${c.err.col}`)}const h=new s(this.options);h.addExternalEntities(this.externalEntities);const i=h.parseXml(l);return this.options.preserveOrder||i===void 0?i:o(i,this.options)}addEntity(l,v){if(v.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(l.indexOf("&")!==-1||l.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(v==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[l]=v}}},728:(n,e)=>{function t(f,l,v){let h;const i={};for(let c=0;c<f.length;c++){const a=f[c],E=r(a);let m="";if(m=v===void 0?E:v+"."+E,E===l.textNodeName)h===void 0?h=a[E]:h+=""+a[E];else{if(E===void 0)continue;if(a[E]){let p=t(a[E],l,m);const w=o(p,l);a[":@"]?s(p,a[":@"],m,l):Object.keys(p).length!==1||p[l.textNodeName]===void 0||l.alwaysCreateTextNode?Object.keys(p).length===0&&(l.alwaysCreateTextNode?p[l.textNodeName]="":p=""):p=p[l.textNodeName],i[E]!==void 0&&i.hasOwnProperty(E)?(Array.isArray(i[E])||(i[E]=[i[E]]),i[E].push(p)):l.isArray(E,m,w)?i[E]=[p]:i[E]=p}}}return typeof h=="string"?h.length>0&&(i[l.textNodeName]=h):h!==void 0&&(i[l.textNodeName]=h),i}function r(f){const l=Object.keys(f);for(let v=0;v<l.length;v++){const h=l[v];if(h!==":@")return h}}function s(f,l,v,h){if(l){const i=Object.keys(l),c=i.length;for(let a=0;a<c;a++){const E=i[a];h.isArray(E,v+"."+E,!0,!0)?f[E]=[l[E]]:f[E]=l[E]}}}function o(f,l){const{textNodeName:v}=l,h=Object.keys(f).length;return h===0||!(h!==1||!f[v]&&typeof f[v]!="boolean"&&f[v]!==0)}e.prettify=function(f,l){return t(f,l)}},365:n=>{n.exports=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}},135:n=>{function e(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}n.exports=function(t){return t!=null&&(e(t)||function(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&e(r.slice(0,0))}(t)||!!t._isBuffer)}},542:(n,e,t)=>{(function(){var r=t(298),s=t(526).utf8,o=t(135),f=t(526).bin,l=function(v,h){v.constructor==String?v=h&&h.encoding==="binary"?f.stringToBytes(v):s.stringToBytes(v):o(v)?v=Array.prototype.slice.call(v,0):Array.isArray(v)||v.constructor===Uint8Array||(v=v.toString());for(var i=r.bytesToWords(v),c=8*v.length,a=1732584193,E=-271733879,m=-1732584194,p=271733878,w=0;w<i.length;w++)i[w]=16711935&(i[w]<<8|i[w]>>>24)|4278255360&(i[w]<<24|i[w]>>>8);i[c>>>5]|=128<<c%32,i[14+(c+64>>>9<<4)]=c;var O=l._ff,d=l._gg,b=l._hh,I=l._ii;for(w=0;w<i.length;w+=16){var P=a,_=E,k=m,A=p;a=O(a,E,m,p,i[w+0],7,-680876936),p=O(p,a,E,m,i[w+1],12,-389564586),m=O(m,p,a,E,i[w+2],17,606105819),E=O(E,m,p,a,i[w+3],22,-1044525330),a=O(a,E,m,p,i[w+4],7,-176418897),p=O(p,a,E,m,i[w+5],12,1200080426),m=O(m,p,a,E,i[w+6],17,-1473231341),E=O(E,m,p,a,i[w+7],22,-45705983),a=O(a,E,m,p,i[w+8],7,1770035416),p=O(p,a,E,m,i[w+9],12,-1958414417),m=O(m,p,a,E,i[w+10],17,-42063),E=O(E,m,p,a,i[w+11],22,-1990404162),a=O(a,E,m,p,i[w+12],7,1804603682),p=O(p,a,E,m,i[w+13],12,-40341101),m=O(m,p,a,E,i[w+14],17,-1502002290),a=d(a,E=O(E,m,p,a,i[w+15],22,1236535329),m,p,i[w+1],5,-165796510),p=d(p,a,E,m,i[w+6],9,-1069501632),m=d(m,p,a,E,i[w+11],14,643717713),E=d(E,m,p,a,i[w+0],20,-373897302),a=d(a,E,m,p,i[w+5],5,-701558691),p=d(p,a,E,m,i[w+10],9,38016083),m=d(m,p,a,E,i[w+15],14,-660478335),E=d(E,m,p,a,i[w+4],20,-405537848),a=d(a,E,m,p,i[w+9],5,568446438),p=d(p,a,E,m,i[w+14],9,-1019803690),m=d(m,p,a,E,i[w+3],14,-187363961),E=d(E,m,p,a,i[w+8],20,1163531501),a=d(a,E,m,p,i[w+13],5,-1444681467),p=d(p,a,E,m,i[w+2],9,-51403784),m=d(m,p,a,E,i[w+7],14,1735328473),a=b(a,E=d(E,m,p,a,i[w+12],20,-1926607734),m,p,i[w+5],4,-378558),p=b(p,a,E,m,i[w+8],11,-2022574463),m=b(m,p,a,E,i[w+11],16,1839030562),E=b(E,m,p,a,i[w+14],23,-35309556),a=b(a,E,m,p,i[w+1],4,-1530992060),p=b(p,a,E,m,i[w+4],11,1272893353),m=b(m,p,a,E,i[w+7],16,-155497632),E=b(E,m,p,a,i[w+10],23,-1094730640),a=b(a,E,m,p,i[w+13],4,681279174),p=b(p,a,E,m,i[w+0],11,-358537222),m=b(m,p,a,E,i[w+3],16,-722521979),E=b(E,m,p,a,i[w+6],23,76029189),a=b(a,E,m,p,i[w+9],4,-640364487),p=b(p,a,E,m,i[w+12],11,-421815835),m=b(m,p,a,E,i[w+15],16,530742520),a=I(a,E=b(E,m,p,a,i[w+2],23,-995338651),m,p,i[w+0],6,-198630844),p=I(p,a,E,m,i[w+7],10,1126891415),m=I(m,p,a,E,i[w+14],15,-1416354905),E=I(E,m,p,a,i[w+5],21,-57434055),a=I(a,E,m,p,i[w+12],6,1700485571),p=I(p,a,E,m,i[w+3],10,-1894986606),m=I(m,p,a,E,i[w+10],15,-1051523),E=I(E,m,p,a,i[w+1],21,-2054922799),a=I(a,E,m,p,i[w+8],6,1873313359),p=I(p,a,E,m,i[w+15],10,-30611744),m=I(m,p,a,E,i[w+6],15,-1560198380),E=I(E,m,p,a,i[w+13],21,1309151649),a=I(a,E,m,p,i[w+4],6,-145523070),p=I(p,a,E,m,i[w+11],10,-1120210379),m=I(m,p,a,E,i[w+2],15,718787259),E=I(E,m,p,a,i[w+9],21,-343485551),a=a+P>>>0,E=E+_>>>0,m=m+k>>>0,p=p+A>>>0}return r.endian([a,E,m,p])};l._ff=function(v,h,i,c,a,E,m){var p=v+(h&i|~h&c)+(a>>>0)+m;return(p<<E|p>>>32-E)+h},l._gg=function(v,h,i,c,a,E,m){var p=v+(h&c|i&~c)+(a>>>0)+m;return(p<<E|p>>>32-E)+h},l._hh=function(v,h,i,c,a,E,m){var p=v+(h^i^c)+(a>>>0)+m;return(p<<E|p>>>32-E)+h},l._ii=function(v,h,i,c,a,E,m){var p=v+(i^(h|~c))+(a>>>0)+m;return(p<<E|p>>>32-E)+h},l._blocksize=16,l._digestsize=16,n.exports=function(v,h){if(v==null)throw new Error("Illegal argument "+v);var i=r.wordsToBytes(l(v,h));return h&&h.asBytes?i:h&&h.asString?f.bytesToString(i):r.bytesToHex(i)}})()},285:(n,e,t)=>{var r=t(2);n.exports=function(O){return O?(O.substr(0,2)==="{}"&&(O="\\{\\}"+O.substr(2)),w(function(d){return d.split("\\\\").join(s).split("\\{").join(o).split("\\}").join(f).split("\\,").join(l).split("\\.").join(v)}(O),!0).map(i)):[]};var s="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",f="\0CLOSE"+Math.random()+"\0",l="\0COMMA"+Math.random()+"\0",v="\0PERIOD"+Math.random()+"\0";function h(O){return parseInt(O,10)==O?parseInt(O,10):O.charCodeAt(0)}function i(O){return O.split(s).join("\\").split(o).join("{").split(f).join("}").split(l).join(",").split(v).join(".")}function c(O){if(!O)return[""];var d=[],b=r("{","}",O);if(!b)return O.split(",");var I=b.pre,P=b.body,_=b.post,k=I.split(",");k[k.length-1]+="{"+P+"}";var A=c(_);return _.length&&(k[k.length-1]+=A.shift(),k.push.apply(k,A)),d.push.apply(d,k),d}function a(O){return"{"+O+"}"}function E(O){return/^-?0\d/.test(O)}function m(O,d){return O<=d}function p(O,d){return O>=d}function w(O,d){var b=[],I=r("{","}",O);if(!I)return[O];var P=I.pre,_=I.post.length?w(I.post,!1):[""];if(/\$$/.test(I.pre))for(var k=0;k<_.length;k++){var A=P+"{"+I.body+"}"+_[k];b.push(A)}else{var V,z,Y=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(I.body),ae=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(I.body),R=Y||ae,ge=I.body.indexOf(",")>=0;if(!R&&!ge)return I.post.match(/,.*\}/)?w(O=I.pre+"{"+I.body+f+I.post):[O];if(R)V=I.body.split(/\.\./);else if((V=c(I.body)).length===1&&(V=w(V[0],!1).map(a)).length===1)return _.map(function(_r){return I.pre+V[0]+_r});if(R){var de=h(V[0]),Le=h(V[1]),lt=Math.max(V[0].length,V[1].length),tt=V.length==3?Math.abs(h(V[2])):1,Ve=m;Le<de&&(tt*=-1,Ve=p);var Nt=V.some(E);z=[];for(var Ye=de;Ve(Ye,Le);Ye+=tt){var ct;if(ae)(ct=String.fromCharCode(Ye))==="\\"&&(ct="");else if(ct=String(Ye),Nt){var or=lt-ct.length;if(or>0){var ar=new Array(or+1).join("0");ct=Ye<0?"-"+ar+ct.slice(1):ar+ct}}z.push(ct)}}else{z=[];for(var Yt=0;Yt<V.length;Yt++)z.push.apply(z,w(V[Yt],!1))}for(Yt=0;Yt<z.length;Yt++)for(k=0;k<_.length;k++)A=P+z[Yt]+_[k],(!d||R||A)&&b.push(A)}return b}},829:n=>{function e(h){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},e(h)}function t(h){var i=typeof Map=="function"?new Map:void 0;return t=function(c){if(c===null||(a=c,Function.toString.call(a).indexOf("[native code]")===-1))return c;var a;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(i!==void 0){if(i.has(c))return i.get(c);i.set(c,E)}function E(){return r(c,arguments,o(this).constructor)}return E.prototype=Object.create(c.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),s(E,c)},t(h)}function r(h,i,c){return r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(a,E,m){var p=[null];p.push.apply(p,E);var w=new(Function.bind.apply(a,p));return m&&s(w,m.prototype),w},r.apply(null,arguments)}function s(h,i){return s=Object.setPrototypeOf||function(c,a){return c.__proto__=a,c},s(h,i)}function o(h){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},o(h)}var f=function(h){function i(c){var a;return function(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}(this,i),(a=function(E,m){return!m||e(m)!=="object"&&typeof m!="function"?function(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}(E):m}(this,o(i).call(this,c))).name="ObjectPrototypeMutationError",a}return function(c,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),a&&s(c,a)}(i,h),i}(t(Error));function l(h,i){for(var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},a=i.split("."),E=a.length,m=function(O){var d=a[O];if(!h)return{v:void 0};if(d==="+"){if(Array.isArray(h))return{v:h.map(function(I,P){var _=a.slice(O+1);return _.length>0?l(I,_.join("."),c):c(h,P,a,O)})};var b=a.slice(0,O).join(".");throw new Error("Object at wildcard (".concat(b,") is not an array"))}h=c(h,d,a,O)},p=0;p<E;p++){var w=m(p);if(e(w)==="object")return w.v}return h}function v(h,i){return h.length===i+1}n.exports={set:function(h,i,c){if(e(h)!="object"||h===null||i===void 0)return h;if(typeof i=="number")return h[i]=c,h[i];try{return l(h,i,function(a,E,m,p){if(a===Reflect.getPrototypeOf({}))throw new f("Attempting to mutate Object.prototype");if(!a[E]){var w=Number.isInteger(Number(m[p+1])),O=m[p+1]==="+";a[E]=w||O?[]:{}}return v(m,p)&&(a[E]=c),a[E]})}catch(a){if(a instanceof f)throw a;return h}},get:function(h,i){if(e(h)!="object"||h===null||i===void 0)return h;if(typeof i=="number")return h[i];try{return l(h,i,function(c,a){return c[a]})}catch{return h}},has:function(h,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e(h)!="object"||h===null||i===void 0)return!1;if(typeof i=="number")return i in h;try{var a=!1;return l(h,i,function(E,m,p,w){if(!v(p,w))return E&&E[m];a=c.own?E.hasOwnProperty(m):m in E}),a}catch{return!1}},hasOwn:function(h,i,c){return this.has(h,i,c||{own:!0})},isIn:function(h,i,c){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(e(h)!="object"||h===null||i===void 0)return!1;try{var E=!1,m=!1;return l(h,i,function(p,w,O,d){return E=E||p===c||!!p&&p[w]===c,m=v(O,d)&&e(p)==="object"&&w in p,p&&p[w]}),a.validPath?E&&m:E}catch{return!1}},ObjectPrototypeMutationError:f}},47:(n,e,t)=>{var r=t(410),s=function(h){return typeof h=="string"};function o(h,i){for(var c=[],a=0;a<h.length;a++){var E=h[a];E&&E!=="."&&(E===".."?c.length&&c[c.length-1]!==".."?c.pop():i&&c.push(".."):c.push(E))}return c}var f=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,l={};function v(h){return f.exec(h).slice(1)}l.resolve=function(){for(var h="",i=!1,c=arguments.length-1;c>=-1&&!i;c--){var a=c>=0?arguments[c]:he.cwd();if(!s(a))throw new TypeError("Arguments to path.resolve must be strings");a&&(h=a+"/"+h,i=a.charAt(0)==="/")}return(i?"/":"")+(h=o(h.split("/"),!i).join("/"))||"."},l.normalize=function(h){var i=l.isAbsolute(h),c=h.substr(-1)==="/";return(h=o(h.split("/"),!i).join("/"))||i||(h="."),h&&c&&(h+="/"),(i?"/":"")+h},l.isAbsolute=function(h){return h.charAt(0)==="/"},l.join=function(){for(var h="",i=0;i<arguments.length;i++){var c=arguments[i];if(!s(c))throw new TypeError("Arguments to path.join must be strings");c&&(h+=h?"/"+c:c)}return l.normalize(h)},l.relative=function(h,i){function c(d){for(var b=0;b<d.length&&d[b]==="";b++);for(var I=d.length-1;I>=0&&d[I]==="";I--);return b>I?[]:d.slice(b,I+1)}h=l.resolve(h).substr(1),i=l.resolve(i).substr(1);for(var a=c(h.split("/")),E=c(i.split("/")),m=Math.min(a.length,E.length),p=m,w=0;w<m;w++)if(a[w]!==E[w]){p=w;break}var O=[];for(w=p;w<a.length;w++)O.push("..");return(O=O.concat(E.slice(p))).join("/")},l._makeLong=function(h){return h},l.dirname=function(h){var i=v(h),c=i[0],a=i[1];return c||a?(a&&(a=a.substr(0,a.length-1)),c+a):"."},l.basename=function(h,i){var c=v(h)[2];return i&&c.substr(-1*i.length)===i&&(c=c.substr(0,c.length-i.length)),c},l.extname=function(h){return v(h)[3]},l.format=function(h){if(!r.isObject(h))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof h);var i=h.root||"";if(!s(i))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof h.root);return(h.dir?h.dir+l.sep:"")+(h.base||"")},l.parse=function(h){if(!s(h))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof h);var i=v(h);if(!i||i.length!==4)throw new TypeError("Invalid path '"+h+"'");return i[1]=i[1]||"",i[2]=i[2]||"",i[3]=i[3]||"",{root:i[0],dir:i[0]+i[1].slice(0,i[1].length-1),base:i[2],ext:i[3],name:i[2].slice(0,i[2].length-i[3].length)}},l.sep="/",l.delimiter=":",n.exports=l},647:(n,e)=>{var t=Object.prototype.hasOwnProperty;function r(o){try{return decodeURIComponent(o.replace(/\+/g," "))}catch{return null}}function s(o){try{return encodeURIComponent(o)}catch{return null}}e.stringify=function(o,f){f=f||"";var l,v,h=[];for(v in typeof f!="string"&&(f="?"),o)if(t.call(o,v)){if((l=o[v])||l!=null&&!isNaN(l)||(l=""),v=s(v),l=s(l),v===null||l===null)continue;h.push(v+"="+l)}return h.length?f+h.join("&"):""},e.parse=function(o){for(var f,l=/([^=?#&]+)=?([^&]*)/g,v={};f=l.exec(o);){var h=r(f[1]),i=r(f[2]);h===null||i===null||h in v||(v[h]=i)}return v}},670:n=>{n.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}},494:n=>{const e=/^[-+]?0x[a-fA-F0-9]+$/,t=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};n.exports=function(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(o=Object.assign({},r,o),!s||typeof s!="string")return s;let f=s.trim();if(o.skipLike!==void 0&&o.skipLike.test(f))return s;if(o.hex&&e.test(f))return Number.parseInt(f,16);{const v=t.exec(f);if(v){const h=v[1],i=v[2];let c=((l=v[3])&&l.indexOf(".")!==-1&&((l=l.replace(/0+$/,""))==="."?l="0":l[0]==="."?l="0"+l:l[l.length-1]==="."&&(l=l.substr(0,l.length-1))),l);const a=v[4]||v[6];if(!o.leadingZeros&&i.length>0&&h&&f[2]!=="."||!o.leadingZeros&&i.length>0&&!h&&f[1]!==".")return s;{const E=Number(f),m=""+E;return m.search(/[eE]/)!==-1||a?o.eNotation?E:s:f.indexOf(".")!==-1?m==="0"&&c===""||m===c||h&&m==="-"+c?E:s:i?c===m||h+c===m?E:s:f===m||f===h+m?E:s}}return s}var l}},737:(n,e,t)=>{var r=t(670),s=t(647),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,f=/[\n\r\t]/g,l=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,v=/:\d+$/,h=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,i=/^[a-zA-Z]:/;function c(d){return(d||"").toString().replace(o,"")}var a=[["#","hash"],["?","query"],function(d,b){return p(b.protocol)?d.replace(/\\/g,"/"):d},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],E={hash:1,query:1};function m(d){var b,I=(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{}).location||{},P={},_=typeof(d=d||I);if(d.protocol==="blob:")P=new O(unescape(d.pathname),{});else if(_==="string")for(b in P=new O(d,{}),E)delete P[b];else if(_==="object"){for(b in d)b in E||(P[b]=d[b]);P.slashes===void 0&&(P.slashes=l.test(d.href))}return P}function p(d){return d==="file:"||d==="ftp:"||d==="http:"||d==="https:"||d==="ws:"||d==="wss:"}function w(d,b){d=(d=c(d)).replace(f,""),b=b||{};var I,P=h.exec(d),_=P[1]?P[1].toLowerCase():"",k=!!P[2],A=!!P[3],V=0;return k?A?(I=P[2]+P[3]+P[4],V=P[2].length+P[3].length):(I=P[2]+P[4],V=P[2].length):A?(I=P[3]+P[4],V=P[3].length):I=P[4],_==="file:"?V>=2&&(I=I.slice(2)):p(_)?I=P[4]:_?k&&(I=I.slice(2)):V>=2&&p(b.protocol)&&(I=P[4]),{protocol:_,slashes:k||p(_),slashesCount:V,rest:I}}function O(d,b,I){if(d=(d=c(d)).replace(f,""),!(this instanceof O))return new O(d,b,I);var P,_,k,A,V,z,Y=a.slice(),ae=typeof b,R=this,ge=0;for(ae!=="object"&&ae!=="string"&&(I=b,b=null),I&&typeof I!="function"&&(I=s.parse),P=!(_=w(d||"",b=m(b))).protocol&&!_.slashes,R.slashes=_.slashes||P&&b.slashes,R.protocol=_.protocol||b.protocol||"",d=_.rest,(_.protocol==="file:"&&(_.slashesCount!==2||i.test(d))||!_.slashes&&(_.protocol||_.slashesCount<2||!p(R.protocol)))&&(Y[3]=[/(.*)/,"pathname"]);ge<Y.length;ge++)typeof(A=Y[ge])!="function"?(k=A[0],z=A[1],k!=k?R[z]=d:typeof k=="string"?~(V=k==="@"?d.lastIndexOf(k):d.indexOf(k))&&(typeof A[2]=="number"?(R[z]=d.slice(0,V),d=d.slice(V+A[2])):(R[z]=d.slice(V),d=d.slice(0,V))):(V=k.exec(d))&&(R[z]=V[1],d=d.slice(0,V.index)),R[z]=R[z]||P&&A[3]&&b[z]||"",A[4]&&(R[z]=R[z].toLowerCase())):d=A(d,R);I&&(R.query=I(R.query)),P&&b.slashes&&R.pathname.charAt(0)!=="/"&&(R.pathname!==""||b.pathname!=="")&&(R.pathname=function(de,Le){if(de==="")return Le;for(var lt=(Le||"/").split("/").slice(0,-1).concat(de.split("/")),tt=lt.length,Ve=lt[tt-1],Nt=!1,Ye=0;tt--;)lt[tt]==="."?lt.splice(tt,1):lt[tt]===".."?(lt.splice(tt,1),Ye++):Ye&&(tt===0&&(Nt=!0),lt.splice(tt,1),Ye--);return Nt&&lt.unshift(""),Ve!=="."&&Ve!==".."||lt.push(""),lt.join("/")}(R.pathname,b.pathname)),R.pathname.charAt(0)!=="/"&&p(R.protocol)&&(R.pathname="/"+R.pathname),r(R.port,R.protocol)||(R.host=R.hostname,R.port=""),R.username=R.password="",R.auth&&(~(V=R.auth.indexOf(":"))?(R.username=R.auth.slice(0,V),R.username=encodeURIComponent(decodeURIComponent(R.username)),R.password=R.auth.slice(V+1),R.password=encodeURIComponent(decodeURIComponent(R.password))):R.username=encodeURIComponent(decodeURIComponent(R.auth)),R.auth=R.password?R.username+":"+R.password:R.username),R.origin=R.protocol!=="file:"&&p(R.protocol)&&R.host?R.protocol+"//"+R.host:"null",R.href=R.toString()}O.prototype={set:function(d,b,I){var P=this;switch(d){case"query":typeof b=="string"&&b.length&&(b=(I||s.parse)(b)),P[d]=b;break;case"port":P[d]=b,r(b,P.protocol)?b&&(P.host=P.hostname+":"+b):(P.host=P.hostname,P[d]="");break;case"hostname":P[d]=b,P.port&&(b+=":"+P.port),P.host=b;break;case"host":P[d]=b,v.test(b)?(b=b.split(":"),P.port=b.pop(),P.hostname=b.join(":")):(P.hostname=b,P.port="");break;case"protocol":P.protocol=b.toLowerCase(),P.slashes=!I;break;case"pathname":case"hash":if(b){var _=d==="pathname"?"/":"#";P[d]=b.charAt(0)!==_?_+b:b}else P[d]=b;break;case"username":case"password":P[d]=encodeURIComponent(b);break;case"auth":var k=b.indexOf(":");~k?(P.username=b.slice(0,k),P.username=encodeURIComponent(decodeURIComponent(P.username)),P.password=b.slice(k+1),P.password=encodeURIComponent(decodeURIComponent(P.password))):P.username=encodeURIComponent(decodeURIComponent(b))}for(var A=0;A<a.length;A++){var V=a[A];V[4]&&(P[V[1]]=P[V[1]].toLowerCase())}return P.auth=P.password?P.username+":"+P.password:P.username,P.origin=P.protocol!=="file:"&&p(P.protocol)&&P.host?P.protocol+"//"+P.host:"null",P.href=P.toString(),P},toString:function(d){d&&typeof d=="function"||(d=s.stringify);var b,I=this,P=I.host,_=I.protocol;_&&_.charAt(_.length-1)!==":"&&(_+=":");var k=_+(I.protocol&&I.slashes||p(I.protocol)?"//":"");return I.username?(k+=I.username,I.password&&(k+=":"+I.password),k+="@"):I.password?(k+=":"+I.password,k+="@"):I.protocol!=="file:"&&p(I.protocol)&&!P&&I.pathname!=="/"&&(k+="@"),(P[P.length-1]===":"||v.test(I.hostname)&&!I.port)&&(P+=":"),k+=P+I.pathname,(b=typeof I.query=="object"?d(I.query):I.query)&&(k+=b.charAt(0)!=="?"?"?"+b:b),I.hash&&(k+=I.hash),k}},O.extractProtocol=w,O.location=m,O.trimLeft=c,O.qs=s,n.exports=O},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},De={};function ee(n){var e=De[n];if(e!==void 0)return e.exports;var t=De[n]={id:n,loaded:!1,exports:{}};return ye[n].call(t.exports,t,t.exports,ee),t.loaded=!0,t.exports}ee.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return ee.d(e,{a:e}),e},ee.d=(n,e)=>{for(var t in e)ee.o(e,t)&&!ee.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},ee.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),ee.nmd=n=>(n.paths=[],n.children||(n.children=[]),n);var ne={};ee.d(ne,{hT:()=>$e,O4:()=>Qe,Kd:()=>Vt,YK:()=>Et,UU:()=>wr,Gu:()=>ie,ky:()=>it,h4:()=>St,ch:()=>_t,hq:()=>le,i5:()=>Xt});var J=ee(737),L=ee.n(J);function j(n){if(!Z(n))throw new Error("Parameter was not an error")}function Z(n){return!!n&&typeof n=="object"&&(e=n,Object.prototype.toString.call(e)==="[object Error]")||n instanceof Error;var e}class K extends Error{constructor(e,t){const r=[...arguments],{options:s,shortMessage:o}=function(l){let v,h="";if(l.length===0)v={};else if(Z(l[0]))v={cause:l[0]},h=l.slice(1).join(" ")||"";else if(l[0]&&typeof l[0]=="object")v=Object.assign({},l[0]),h=l.slice(1).join(" ")||"";else{if(typeof l[0]!="string")throw new Error("Invalid arguments passed to Layerr");v={},h=h=l.join(" ")||""}return{options:v,shortMessage:h}}(r);let f=o;if(s.cause&&(f=`${f}: ${s.cause.message}`),super(f),this.message=f,s.name&&typeof s.name=="string"?this.name=s.name:this.name="Layerr",s.cause&&Object.defineProperty(this,"_cause",{value:s.cause}),Object.defineProperty(this,"_info",{value:{}}),s.info&&typeof s.info=="object"&&Object.assign(this._info,s.info),Error.captureStackTrace){const l=s.constructorOpt||this.constructor;Error.captureStackTrace(this,l)}}static cause(e){return j(e),e._cause&&Z(e._cause)?e._cause:null}static fullStack(e){j(e);const t=K.cause(e);return t?`${e.stack}
caused by: ${K.fullStack(t)}`:e.stack??""}static info(e){j(e);const t={},r=K.cause(e);return r&&Object.assign(t,K.info(r)),e._info&&Object.assign(t,e._info),t}toString(){let e=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(e=`${e}: ${this.message}`),e}}var ce=ee(47),Q=ee.n(ce);const te="__PATH_SEPARATOR_POSIX__",pe="__PATH_SEPARATOR_WINDOWS__";function oe(n){try{const e=n.replace(/\//g,te).replace(/\\\\/g,pe);return encodeURIComponent(e).split(pe).join("\\\\").split(te).join("/")}catch(e){throw new K(e,"Failed encoding path")}}function Se(n){return n.startsWith("/")?n:"/"+n}function ve(n){let e=n;return e[0]!=="/"&&(e="/"+e),/^.+\/$/.test(e)&&(e=e.substr(0,e.length-1)),e}function F(n){let e=new(L())(n).pathname;return e.length<=0&&(e="/"),ve(e)}function X(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(){return function(r){var s=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var o=r.shift();r[0]=o+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var f=0;f<r.length;f++){var l=r[f];if(typeof l!="string")throw new TypeError("Url must be a string. Received "+l);l!==""&&(f>0&&(l=l.replace(/^[\/]+/,"")),l=f<r.length-1?l.replace(/[\/]+$/,""):l.replace(/[\/]+$/,"/"),s.push(l))}var v=s.join("/"),h=(v=v.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return h.shift()+(h.length>0?"?":"")+h.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}(e.reduce((r,s,o)=>((o===0||s!=="/"||s==="/"&&r[r.length-1]!=="/")&&r.push(s),r),[]))}var me=ee(542),we=ee.n(me);const Pe="abcdef0123456789";function At(n,e){const t=n.url.replace("//",""),r=t.indexOf("/")==-1?"/":t.slice(t.indexOf("/")),s=n.method?n.method.toUpperCase():"GET",o=!!/(^|,)\s*auth\s*($|,)/.test(e.qop)&&"auth",f=`00000000${e.nc}`.slice(-8),l=function(a,E,m,p,w,O,d){const b=d||we()(`${E}:${m}:${p}`);return a&&a.toLowerCase()==="md5-sess"?we()(`${b}:${w}:${O}`):b}(e.algorithm,e.username,e.realm,e.password,e.nonce,e.cnonce,e.ha1),v=we()(`${s}:${r}`),h=o?we()(`${l}:${e.nonce}:${f}:${e.cnonce}:${o}:${v}`):we()(`${l}:${e.nonce}:${v}`),i={username:e.username,realm:e.realm,nonce:e.nonce,uri:r,qop:o,response:h,nc:f,cnonce:e.cnonce,algorithm:e.algorithm,opaque:e.opaque},c=[];for(const a in i)i[a]&&(a==="qop"||a==="nc"||a==="algorithm"?c.push(`${a}=${i[a]}`):c.push(`${a}="${i[a]}"`));return`Digest ${c.join(", ")}`}function yt(n){return(n.headers&&n.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var Ct=ee(101),Ot=ee.n(Ct);function Fe(n){return Ot().decode(n)}function bt(n,e){var t;return`Basic ${t=`${n}:${e}`,Ot().encode(t)}`}const ft=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,Ke=ft.fetch.bind(ft),Vt=(ft.Headers,ft.Request),Et=ft.Response;let $e=function(n){return n.Auto="auto",n.Digest="digest",n.None="none",n.Password="password",n.Token="token",n}({}),Qe=function(n){return n.DataTypeNoLength="data-type-no-length",n.InvalidAuthType="invalid-auth-type",n.InvalidOutputFormat="invalid-output-format",n.LinkUnsupportedAuthType="link-unsupported-auth",n.InvalidUpdateRange="invalid-update-range",n.NotSupported="not-supported",n}({});function gt(n,e,t,r,s){switch(n.authType){case $e.Auto:e&&t&&(n.headers.Authorization=bt(e,t));break;case $e.Digest:n.digest=function(f,l,v){return{username:f,password:l,ha1:v,nc:0,algorithm:"md5",hasDigestAuth:!1}}(e,t,s);break;case $e.None:break;case $e.Password:n.headers.Authorization=bt(e,t);break;case $e.Token:n.headers.Authorization=`${(o=r).token_type} ${o.access_token}`;break;default:throw new K({info:{code:Qe.InvalidAuthType}},`Invalid auth type: ${n.authType}`)}var o}ee(345),ee(800);const D="@@HOTPATCHER",G=()=>{};function C(n){return{original:n,methods:[n],final:!1}}class ${constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=D}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(e){this.configuration.getEmptyAction=e}control(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!e||e.__type__!==D)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(e.configuration.registry).forEach(r=>{this.configuration.registry.hasOwnProperty(r)?t&&(this.configuration.registry[r]=Object.assign({},e.configuration.registry[r])):this.configuration.registry[r]=Object.assign({},e.configuration.registry[r])}),e._configuration=this.configuration,this}execute(e){const t=this.get(e)||G;for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return t(...s)}get(e){const t=this.configuration.registry[e];if(!t)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error(`Failed handling method request: No method provided for override: ${e}`);default:throw new Error(`Failed handling request which resulted in an empty method: Invalid empty-action specified: ${this.getEmptyAction}`)}return function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];if(s.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var f=arguments.length,l=new Array(f),v=0;v<f;v++)l[v]=arguments[v];let h=l;const i=this;for(;s.length>0;)h=[s.shift().apply(i,h)];return h[0]}}(...t.methods)}isPatched(e){return!!this.configuration.registry[e]}patch(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:s=!1}=r;if(this.configuration.registry[e]&&this.configuration.registry[e].final)throw new Error(`Failed patching '${e}': Method marked as being final`);if(typeof t!="function")throw new Error(`Failed patching '${e}': Provided method is not a function`);if(s)this.configuration.registry[e]?this.configuration.registry[e].methods.push(t):this.configuration.registry[e]=C(t);else if(this.isPatched(e)){const{original:o}=this.configuration.registry[e];this.configuration.registry[e]=Object.assign(C(t),{original:o})}else this.configuration.registry[e]=C(t);return this}patchInline(e,t){this.isPatched(e)||this.patch(e,t);for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];return this.execute(e,...s)}plugin(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return r.forEach(o=>{this.patch(e,o,{chain:!0})}),this}restore(e){if(!this.isPatched(e))throw new Error(`Failed restoring method: No method present for key: ${e}`);if(typeof this.configuration.registry[e].original!="function")throw new Error(`Failed restoring method: Original method not found or of invalid type for key: ${e}`);return this.configuration.registry[e].methods=[this.configuration.registry[e].original],this}setFinal(e){if(!this.configuration.registry.hasOwnProperty(e))throw new Error(`Failed marking '${e}' as final: No method found for key`);return this.configuration.registry[e].final=!0,this}}let B=null;function ie(){return B||(B=new $),B}function Ne(n){return function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(n)?Object.assign({},n):Object.setPrototypeOf(Object.assign({},n),Object.getPrototypeOf(n))}function Ae(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];let r=null,s=[...e];for(;s.length>0;){const o=s.shift();r=r?Me(r,o):Ne(o)}return r}function Me(n,e){const t=Ne(n);return Object.keys(e).forEach(r=>{t.hasOwnProperty(r)?Array.isArray(e[r])?t[r]=Array.isArray(t[r])?[...t[r],...e[r]]:[...e[r]]:typeof e[r]=="object"&&e[r]?t[r]=typeof t[r]=="object"&&t[r]?Me(t[r],e[r]):Ne(e[r]):t[r]=e[r]:t[r]=e[r]}),t}function ht(n){const e={};for(const t of n.keys())e[t]=n.get(t);return e}function Ze(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length===0)return{};const r={};return e.reduce((s,o)=>(Object.keys(o).forEach(f=>{const l=f.toLowerCase();r.hasOwnProperty(l)?s[r[l]]=o[f]:(r[l]=f,s[f]=o[f])}),s),{})}ee(805);const dt=typeof ArrayBuffer=="function",{toString:Gt}=Object.prototype;function wn(n){return dt&&(n instanceof ArrayBuffer||Gt.call(n)==="[object ArrayBuffer]")}function $t(n){return n!=null&&n.constructor!=null&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function rn(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}function Kt(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}const Sn=rn(function(n){const e=n._digest;return delete n._digest,e.hasDigestAuth&&(n=Ae(n,{headers:{Authorization:At(n,e)}})),Kt(sn(n),function(t){let r=!1;return s=function(f){return r?f:t},(o=function(){if(t.status==401)return e.hasDigestAuth=function(f,l){if(!yt(f))return!1;const v=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const h=f.headers&&f.headers.get("www-authenticate")||"",i=v.exec(h);if(!i)break;l[i[1]]=i[2]||i[3]}return l.nc+=1,l.cnonce=function(){let h="";for(let i=0;i<32;++i)h=`${h}${Pe[Math.floor(16*Math.random())]}`;return h}(),!0}(t,e),function(){if(e.hasDigestAuth)return Kt(sn(n=Ae(n,{headers:{Authorization:At(n,e)}})),function(f){return f.status==401?e.hasDigestAuth=!1:e.nc++,r=!0,f})}();e.nc++}())&&o.then?o.then(s):s(o);var s,o})}),Kn=rn(function(n,e){return Kt(sn(n),function(t){return t.ok?(e.authType=$e.Password,t):t.status==401&&yt(t)?(e.authType=$e.Digest,gt(e,e.username,e.password,void 0,void 0),n._digest=e.digest,Sn(n)):t})}),qe=rn(function(n,e){return e.authType===$e.Auto?Kn(n,e):n._digest?Sn(n):sn(n)});function ze(n,e,t){const r=Ne(n);return r.headers=Ze(e.headers,r.headers||{},t.headers||{}),t.data!==void 0&&(r.data=t.data),t.signal&&(r.signal=t.signal),e.httpAgent&&(r.httpAgent=e.httpAgent),e.httpsAgent&&(r.httpsAgent=e.httpsAgent),e.digest&&(r._digest=e.digest),typeof e.withCredentials=="boolean"&&(r.withCredentials=e.withCredentials),r}function sn(n){const e=ie();return e.patchInline("request",t=>e.patchInline("fetch",Ke,t.url,function(r){let s={};const o={method:r.method};if(r.headers&&(s=Ze(s,r.headers)),r.data!==void 0){const[f,l]=function(v){if(typeof v=="string")return[v,{}];if($t(v))return[v,{}];if(wn(v))return[v,{}];if(v&&typeof v=="object")return[JSON.stringify(v),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: "+typeof v)}(r.data);o.body=f,s=Ze(s,l)}return r.signal&&(o.signal=r.signal),r.withCredentials&&(o.credentials="include"),o.headers=s,o}(t)),n)}var Qn=ee(285);const on=n=>{if(typeof n!="string")throw new TypeError("invalid pattern");if(n.length>65536)throw new TypeError("pattern is too long")},Rn={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Qt=n=>n.replace(/[[\]\\-]/g,"\\$&"),yn=n=>n.join(""),Ln=(n,e)=>{const t=e;if(n.charAt(t)!=="[")throw new Error("not in a brace expression");const r=[],s=[];let o=t+1,f=!1,l=!1,v=!1,h=!1,i=t,c="";e:for(;o<n.length;){const p=n.charAt(o);if(p!=="!"&&p!=="^"||o!==t+1){if(p==="]"&&f&&!v){i=o+1;break}if(f=!0,p!=="\\"||v){if(p==="["&&!v){for(const[w,[O,d,b]]of Object.entries(Rn))if(n.startsWith(w,o)){if(c)return["$.",!1,n.length-t,!0];o+=w.length,b?s.push(O):r.push(O),l=l||d;continue e}}v=!1,c?(p>c?r.push(Qt(c)+"-"+Qt(p)):p===c&&r.push(Qt(p)),c="",o++):n.startsWith("-]",o+1)?(r.push(Qt(p+"-")),o+=2):n.startsWith("-",o+1)?(c=p,o+=2):(r.push(Qt(p)),o++)}else v=!0,o++}else h=!0,o++}if(i<o)return["",!1,0,!1];if(!r.length&&!s.length)return["$.",!1,n.length-t,!0];if(s.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!h)return[(a=r[0].length===2?r[0].slice(-1):r[0],a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,i-t,!1];var a;const E="["+(h?"^":"")+yn(r)+"]",m="["+(h?"":"^")+yn(s)+"]";return[r.length&&s.length?"("+E+"|"+m+")":r.length?E:m,l,i-t,!0]},Pt=function(n){let{windowsPathsNoEscape:e=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e?n.replace(/\[([^\/\\])\]/g,"$1"):n.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},bn=new Set(["!","?","+","*","@"]),_n=n=>bn.has(n),Tn="(?!\\.)",Dn=new Set(["[","."]),$n=new Set(["..","."]),Fn=new Set("().*{}+?[]^$\\!"),an="[^/]",Nn=an+"*?",jn=an+"+?",pt=class pt{constructor(e,t){vt(this,Ht);Te(this,"type");vt(this,et);vt(this,at);vt(this,Dt,!1);vt(this,je,[]);vt(this,He);vt(this,Mt);vt(this,qt);vt(this,Ut,!1);vt(this,xt);vt(this,zt);vt(this,En,!1);let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.type=e,e&&We(this,at,!0),We(this,He,t),We(this,et,q(this,He)?q(q(this,He),et):this),We(this,xt,q(this,et)===this?r:q(q(this,et),xt)),We(this,qt,q(this,et)===this?[]:q(q(this,et),qt)),e!=="!"||q(q(this,et),Ut)||q(this,qt).push(this),We(this,Mt,q(this,He)?q(q(this,He),je).length:0)}get hasMagic(){if(q(this,at)!==void 0)return q(this,at);for(const e of q(this,je))if(typeof e!="string"&&(e.type||e.hasMagic))return We(this,at,!0);return q(this,at)}toString(){return q(this,zt)!==void 0?q(this,zt):this.type?We(this,zt,this.type+"("+q(this,je).map(e=>String(e)).join("|")+")"):We(this,zt,q(this,je).map(e=>String(e)).join(""))}push(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const s of t)if(s!==""){if(typeof s!="string"&&!(s instanceof pt&&q(s,He)===this))throw new Error("invalid part: "+s);q(this,je).push(s)}}toJSON(){const e=this.type===null?q(this,je).slice().map(t=>typeof t=="string"?t:t.toJSON()):[this.type,...q(this,je).map(t=>t.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===q(this,et)||q(q(this,et),Ut)&&q(this,He)?.type==="!")&&e.push({}),e}isStart(){if(q(this,et)===this)return!0;if(!q(this,He)?.isStart())return!1;if(q(this,Mt)===0)return!0;const e=q(this,He);for(let t=0;t<q(this,Mt);t++){const r=q(e,je)[t];if(!(r instanceof pt&&r.type==="!"))return!1}return!0}isEnd(){if(q(this,et)===this||q(this,He)?.type==="!")return!0;if(!q(this,He)?.isEnd())return!1;if(!this.type)return q(this,He)?.isEnd();const e=q(this,He)?q(q(this,He),je).length:0;return q(this,Mt)===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){const t=new pt(this.type,e);for(const r of q(this,je))t.copyIn(r);return t}static fromGlob(e){var s;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=new pt(null,void 0,t);return Bt(s=pt,kt,Pn).call(s,e,r,0,t),r}toMMPattern(){if(this!==q(this,et))return q(this,et).toMMPattern();const e=this.toString(),[t,r,s,o]=this.toRegExpSource();if(!(s||q(this,at)||q(this,xt).nocase&&!q(this,xt).nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return r;const f=(q(this,xt).nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${t}$`,f),{_src:t,_glob:e})}get options(){return q(this,xt)}toRegExpSource(e){const t=e??!!q(this,xt).dot;if(q(this,et)===this&&Bt(this,Ht,lr).call(this),!this.type){const v=this.isStart()&&this.isEnd(),h=q(this,je).map(a=>{var O;const[E,m,p,w]=typeof a=="string"?Bt(O=pt,kt,cr).call(O,a,q(this,at),v):a.toRegExpSource(e);return We(this,at,q(this,at)||p),We(this,Dt,q(this,Dt)||w),E}).join("");let i="";if(this.isStart()&&typeof q(this,je)[0]=="string"&&(q(this,je).length!==1||!$n.has(q(this,je)[0]))){const a=Dn,E=t&&a.has(h.charAt(0))||h.startsWith("\\.")&&a.has(h.charAt(2))||h.startsWith("\\.\\.")&&a.has(h.charAt(4)),m=!t&&!e&&a.has(h.charAt(0));i=E?"(?!(?:^|/)\\.\\.?(?:$|/))":m?Tn:""}let c="";return this.isEnd()&&q(q(this,et),Ut)&&q(this,He)?.type==="!"&&(c="(?:$|\\/)"),[i+h+c,Pt(h),We(this,at,!!q(this,at)),q(this,Dt)]}const r=this.type==="*"||this.type==="+",s=this.type==="!"?"(?:(?!(?:":"(?:";let o=Bt(this,Ht,Yn).call(this,t);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){const v=this.toString();return We(this,je,[v]),this.type=null,We(this,at,void 0),[v,Pt(this.toString()),!1,!1]}let f=!r||e||t?"":Bt(this,Ht,Yn).call(this,!0);f===o&&(f=""),f&&(o=`(?:${o})(?:${f})*?`);let l="";return l=this.type==="!"&&q(this,En)?(this.isStart()&&!t?Tn:"")+jn:s+o+(this.type==="!"?"))"+(!this.isStart()||t||e?"":Tn)+Nn+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&f?")":this.type==="*"&&f?")?":`)${this.type}`),[l,Pt(o),We(this,at,!!q(this,at)),q(this,Dt)]}};et=new WeakMap,at=new WeakMap,Dt=new WeakMap,je=new WeakMap,He=new WeakMap,Mt=new WeakMap,qt=new WeakMap,Ut=new WeakMap,xt=new WeakMap,zt=new WeakMap,En=new WeakMap,Ht=new WeakSet,lr=function(){if(this!==q(this,et))throw new Error("should only call on root");if(q(this,Ut))return this;let e;for(this.toString(),We(this,Ut,!0);e=q(this,qt).pop();){if(e.type!=="!")continue;let t=e,r=q(t,He);for(;r;){for(let s=q(t,Mt)+1;!r.type&&s<q(r,je).length;s++)for(const o of q(e,je)){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(q(r,je)[s])}t=r,r=q(t,He)}}return this},kt=new WeakSet,Pn=function(e,t,r,s){var E,m;let o=!1,f=!1,l=-1,v=!1;if(t.type===null){let p=r,w="";for(;p<e.length;){const O=e.charAt(p++);if(o||O==="\\")o=!o,w+=O;else if(f)p===l+1?O!=="^"&&O!=="!"||(v=!0):O!=="]"||p===l+2&&v||(f=!1),w+=O;else if(O!=="[")if(s.noext||!_n(O)||e.charAt(p)!=="(")w+=O;else{t.push(w),w="";const d=new pt(O,t);p=Bt(E=pt,kt,Pn).call(E,e,d,p,s),t.push(d)}else f=!0,l=p,v=!1,w+=O}return t.push(w),p}let h=r+1,i=new pt(null,t);const c=[];let a="";for(;h<e.length;){const p=e.charAt(h++);if(o||p==="\\")o=!o,a+=p;else if(f)h===l+1?p!=="^"&&p!=="!"||(v=!0):p!=="]"||h===l+2&&v||(f=!1),a+=p;else if(p!=="[")if(_n(p)&&e.charAt(h)==="("){i.push(a),a="";const w=new pt(p,i);i.push(w),h=Bt(m=pt,kt,Pn).call(m,e,w,h,s)}else if(p!=="|"){if(p===")")return a===""&&q(t,je).length===0&&We(t,En,!0),i.push(a),a="",t.push(...c,i),h;a+=p}else i.push(a),a="",c.push(i),i=new pt(null,t);else f=!0,l=h,v=!1,a+=p}return t.type=null,We(t,at,void 0),We(t,je,[e.substring(r-1)]),h},Yn=function(e){return q(this,je).map(t=>{if(typeof t=="string")throw new Error("string type in extglob ast??");const[r,s,o,f]=t.toRegExpSource(e);return We(this,Dt,q(this,Dt)||f),r}).filter(t=>!(this.isStart()&&this.isEnd()&&!t)).join("|")},cr=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=!1,o="",f=!1;for(let l=0;l<e.length;l++){const v=e.charAt(l);if(s)s=!1,o+=(Fn.has(v)?"\\":"")+v;else if(v!=="\\"){if(v==="["){const[h,i,c,a]=Ln(e,l);if(c){o+=h,f=f||i,l+=c-1,t=t||a;continue}}v!=="*"?v!=="?"?o+=v.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(o+=an,t=!0):(o+=r&&e==="*"?jn:Nn,t=!0)}else l===e.length-1?o+="\\\\":s=!0}return[o,Pt(e),!!t,f]},vt(pt,kt);let Zt=pt;const nt=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return on(e),!(!t.nocomment&&e.charAt(0)==="#")&&new Oe(e,t).match(n)},Mn=/^\*+([^+@!?\*\[\(]*)$/,un=n=>e=>!e.startsWith(".")&&e.endsWith(n),Zn=n=>e=>e.endsWith(n),Jn=n=>(n=n.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(n)),er=n=>(n=n.toLowerCase(),e=>e.toLowerCase().endsWith(n)),An=/^\*+\.\*+$/,Ft=n=>!n.startsWith(".")&&n.includes("."),In=n=>n!=="."&&n!==".."&&n.includes("."),tr=/^\.\*+$/,nr=n=>n!=="."&&n!==".."&&n.startsWith("."),ln=/^\*+$/,cn=n=>n.length!==0&&!n.startsWith("."),Un=n=>n.length!==0&&n!=="."&&n!=="..",rr=/^\?+([^+@!?\*\[\(]*)?$/,On=n=>{let[e,t=""]=n;const r=T([e]);return t?(t=t.toLowerCase(),s=>r(s)&&s.toLowerCase().endsWith(t)):r},kn=n=>{let[e,t=""]=n;const r=y([e]);return t?(t=t.toLowerCase(),s=>r(s)&&s.toLowerCase().endsWith(t)):r},Bn=n=>{let[e,t=""]=n;const r=y([e]);return t?s=>r(s)&&s.endsWith(t):r},Vn=n=>{let[e,t=""]=n;const r=T([e]);return t?s=>r(s)&&s.endsWith(t):r},T=n=>{let[e]=n;const t=e.length;return r=>r.length===t&&!r.startsWith(".")},y=n=>{let[e]=n;const t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},U=typeof he=="object"&&he?typeof he.env=="object"&&he.env&&he.env.__MINIMATCH_TESTING_PLATFORM__||he.platform:"posix";nt.sep=U==="win32"?"\\":"/";const H=Symbol("globstar **");nt.GLOBSTAR=H,nt.filter=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t=>nt(t,n,e)};const re=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},n,e)};nt.defaults=n=>{if(!n||typeof n!="object"||!Object.keys(n).length)return nt;const e=nt;return Object.assign(function(t,r){return e(t,r,re(n,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends e.Minimatch{constructor(t){super(t,re(n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(t){return e.defaults(re(n,t)).Minimatch}},AST:class extends e.AST{constructor(t,r){super(t,r,re(n,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}static fromGlob(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.AST.fromGlob(t,re(n,r))}},unescape:function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.unescape(t,re(n,r))},escape:function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.escape(t,re(n,r))},filter:function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.filter(t,re(n,r))},defaults:t=>e.defaults(re(n,t)),makeRe:function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.makeRe(t,re(n,r))},braceExpand:function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.braceExpand(t,re(n,r))},match:function(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.match(t,r,re(n,s))},sep:e.sep,GLOBSTAR:H})};const Ie=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return on(n),e.nobrace||!/\{(?:(?!\{).)*\}/.test(n)?[n]:Qn(n)};nt.braceExpand=Ie,nt.makeRe=function(n){return new Oe(n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},nt.match=function(n,e){const t=new Oe(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return n=n.filter(r=>t.match(r)),t.options.nonull&&!n.length&&n.push(e),n};const ue=/[?*]|[+@!]\(.*?\)|\[|\]/;class Oe{constructor(e){Te(this,"options");Te(this,"set");Te(this,"pattern");Te(this,"windowsPathsNoEscape");Te(this,"nonegate");Te(this,"negate");Te(this,"comment");Te(this,"empty");Te(this,"preserveMultipleSlashes");Te(this,"partial");Te(this,"globSet");Te(this,"globParts");Te(this,"nocase");Te(this,"isWindows");Te(this,"platform");Te(this,"windowsNoMagicRoot");Te(this,"regexp");let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};on(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||U,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=t.windowsNoMagicRoot!==void 0?t.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const e of this.set)for(const t of e)if(typeof t!="string")return!0;return!1}debug(){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#")return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const r=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let s=this.globParts.map((o,f,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){const v=!(o[0]!==""||o[1]!==""||o[2]!=="?"&&ue.test(o[2])||ue.test(o[3])),h=/^[a-z]:/i.test(o[0]);if(v)return[...o.slice(0,4),...o.slice(4).map(i=>this.parse(i))];if(h)return[o[0],...o.slice(1).map(i=>this.parse(i))]}return o.map(v=>this.parse(v))});if(this.debug(this.pattern,s),this.set=s.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){const f=this.set[o];f[0]===""&&f[1]===""&&this.globParts[o][2]==="?"&&typeof f[3]=="string"&&/^[a-z]:$/i.test(f[3])&&(f[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let r=0;r<e.length;r++)for(let s=0;s<e[r].length;s++)e[r][s]==="**"&&(e[r][s]="*");const{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=t>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(t=>{let r=-1;for(;(r=t.indexOf("**",r+1))!==-1;){let s=r;for(;t[s+1]==="**";)s++;s!==r&&t.splice(r,s-r)}return t})}levelOneOptimize(e){return e.map(t=>(t=t.reduce((r,s)=>{const o=r[r.length-1];return s==="**"&&o==="**"?r:s===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(r.pop(),r):(r.push(s),r)},[])).length===0?[""]:t)}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let s=1;s<e.length-1;s++){const o=e[s];s===1&&o===""&&e[0]===""||o!=="."&&o!==""||(t=!0,e.splice(s,1),s--)}e[0]!=="."||e.length!==2||e[1]!=="."&&e[1]!==""||(t=!0,e.pop())}let r=0;for(;(r=e.indexOf("..",r+1))!==-1;){const s=e[r-1];s&&s!=="."&&s!==".."&&s!=="**"&&(t=!0,e.splice(r-1,2),r-=2)}}while(t);return e.length===0?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let r of e){let s=-1;for(;(s=r.indexOf("**",s+1))!==-1;){let f=s;for(;r[f+1]==="**";)f++;f>s&&r.splice(s+1,f-s);let l=r[s+1];const v=r[s+2],h=r[s+3];if(l!==".."||!v||v==="."||v===".."||!h||h==="."||h==="..")continue;t=!0,r.splice(s,1);const i=r.slice(0);i[s]="**",e.push(i),s--}if(!this.preserveMultipleSlashes){for(let f=1;f<r.length-1;f++){const l=r[f];f===1&&l===""&&r[0]===""||l!=="."&&l!==""||(t=!0,r.splice(f,1),f--)}r[0]!=="."||r.length!==2||r[1]!=="."&&r[1]!==""||(t=!0,r.pop())}let o=0;for(;(o=r.indexOf("..",o+1))!==-1;){const f=r[o-1];if(f&&f!=="."&&f!==".."&&f!=="**"){t=!0;const l=o===1&&r[o+1]==="**"?["."]:[];r.splice(o-1,2,...l),r.length===0&&r.push(""),o-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let r=t+1;r<e.length;r++){const s=this.partsMatch(e[t],e[r],!this.preserveMultipleSlashes);if(s){e[t]=[],e[r]=s;break}}return e.filter(t=>t.length)}partsMatch(e,t){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=0,o=0,f=[],l="";for(;s<e.length&&o<t.length;)if(e[s]===t[o])f.push(l==="b"?t[o]:e[s]),s++,o++;else if(r&&e[s]==="**"&&t[o]===e[s+1])f.push(e[s]),s++;else if(r&&t[o]==="**"&&e[s]===t[o+1])f.push(t[o]),o++;else if(e[s]!=="*"||!t[o]||!this.options.dot&&t[o].startsWith(".")||t[o]==="**"){if(t[o]!=="*"||!e[s]||!this.options.dot&&e[s].startsWith(".")||e[s]==="**"||l==="a")return!1;l="b",f.push(t[o]),s++,o++}else{if(l==="b")return!1;l="a",f.push(e[s]),s++,o++}return e.length===t.length&&f}parseNegate(){if(this.nonegate)return;const e=this.pattern;let t=!1,r=0;for(let s=0;s<e.length&&e.charAt(s)==="!";s++)t=!t,r++;r&&(this.pattern=e.slice(r)),this.negate=t}matchOne(e,t){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const s=this.options;if(this.isWindows){const p=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),w=!p&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),O=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),d=w?3:p?0:void 0,b=!O&&t[0]===""&&t[1]===""&&t[2]==="?"&&typeof t[3]=="string"&&/^[a-z]:$/i.test(t[3])?3:O?0:void 0;if(typeof d=="number"&&typeof b=="number"){const[I,P]=[e[d],t[b]];I.toLowerCase()===P.toLowerCase()&&(t[b]=I,b>d?t=t.slice(b):d>b&&(e=e.slice(d)))}}const{optimizationLevel:o=1}=this.options;o>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var f=0,l=0,v=e.length,h=t.length;f<v&&l<h;f++,l++){this.debug("matchOne loop");var i=t[l],c=e[f];if(this.debug(t,i,c),i===!1)return!1;if(i===H){this.debug("GLOBSTAR",[t,i,c]);var a=f,E=l+1;if(E===h){for(this.debug("** at the end");f<v;f++)if(e[f]==="."||e[f]===".."||!s.dot&&e[f].charAt(0)===".")return!1;return!0}for(;a<v;){var m=e[a];if(this.debug(`
globstar while`,e,a,t,E,m),this.matchOne(e.slice(a),t.slice(E),r))return this.debug("globstar found match!",a,v,m),!0;if(m==="."||m===".."||!s.dot&&m.charAt(0)==="."){this.debug("dot detected!",e,a,t,E);break}this.debug("globstar swallow a segment, and continue"),a++}return!(!r||(this.debug(`
>>> no match, partial?`,e,a,t,E),a!==v))}let p;if(typeof i=="string"?(p=c===i,this.debug("string match",i,c,p)):(p=i.test(c),this.debug("pattern match",i,c,p)),!p)return!1}if(f===v&&l===h)return!0;if(f===v)return r;if(l===h)return f===v-1&&e[f]==="";throw new Error("wtf?")}braceExpand(){return Ie(this.pattern,this.options)}parse(e){on(e);const t=this.options;if(e==="**")return H;if(e==="")return"";let r,s=null;(r=e.match(ln))?s=t.dot?Un:cn:(r=e.match(Mn))?s=(t.nocase?t.dot?er:Jn:t.dot?Zn:un)(r[1]):(r=e.match(rr))?s=(t.nocase?t.dot?kn:On:t.dot?Bn:Vn)(r):(r=e.match(An))?s=t.dot?In:Ft:(r=e.match(tr))&&(s=nr);const o=Zt.fromGlob(e,this.options).toMMPattern();return s&&typeof o=="object"&&Reflect.defineProperty(o,"test",{value:s}),o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,r=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",s=new Set(t.nocase?["i"]:[]);let o=e.map(v=>{const h=v.map(i=>{if(i instanceof RegExp)for(const c of i.flags.split(""))s.add(c);return typeof i=="string"?i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):i===H?H:i._src});return h.forEach((i,c)=>{const a=h[c+1],E=h[c-1];i===H&&E!==H&&(E===void 0?a!==void 0&&a!==H?h[c+1]="(?:\\/|"+r+"\\/)?"+a:h[c]=r:a===void 0?h[c-1]=E+"(?:\\/|"+r+")?":a!==H&&(h[c-1]=E+"(?:\\/|\\/"+r+"\\/)"+a,h[c+1]=H))}),h.filter(i=>i!==H).join("/")}).join("|");const[f,l]=e.length>1?["(?:",")"]:["",""];o="^"+f+o+l+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...s].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;const r=this.options;this.isWindows&&(e=e.split("\\").join("/"));const s=this.slashSplit(e);this.debug(this.pattern,"split",s);const o=this.set;this.debug(this.pattern,"set",o);let f=s[s.length-1];if(!f)for(let l=s.length-2;!f&&l>=0;l--)f=s[l];for(let l=0;l<o.length;l++){const v=o[l];let h=s;if(r.matchBase&&v.length===1&&(h=[f]),this.matchOne(h,v,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(e){return nt.defaults(e).Minimatch}}function W(n){const e=new Error(`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:""}Invalid response: ${n.status} ${n.statusText}`);return e.status=n.status,e.response=n,e}function S(n,e){const{status:t}=e;if(t===401&&n.digest)return e;if(t>=400)throw W(e);return e}function le(n,e){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:e,headers:n.headers?ht(n.headers):{},status:n.status,statusText:n.statusText}:e}nt.AST=Zt,nt.Minimatch=Oe,nt.escape=function(n){let{windowsPathsNoEscape:e=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e?n.replace(/[?*()[\]]/g,"[$&]"):n.replace(/[?*()[\]\\]/g,"\\$&")},nt.unescape=Pt;const be=(Re=function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=ze({url:X(n.remoteURL,oe(e)),method:"COPY",headers:{Destination:X(n.remoteURL,oe(t)),Overwrite:r.overwrite===!1?"F":"T",Depth:r.shallow?"0":"infinity"}},n,r);return f=function(l){S(n,l)},(o=qe(s,n))&&o.then||(o=Promise.resolve(o)),f?o.then(f):o;var o,f},function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];try{return Promise.resolve(Re.apply(this,n))}catch(t){return Promise.reject(t)}});var Re,Ue=ee(635),fe=ee(829),rt=ee.n(fe),Be=function(n){return n.Array="array",n.Object="object",n.Original="original",n}(Be||{});function mt(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Be.Original;const r=rt().get(n,e);return t==="array"&&Array.isArray(r)===!1?[r]:t==="object"&&Array.isArray(r)?r[0]:r}function St(n){return new Promise(e=>{e(function(t){const{multistatus:r}=t;if(r==="")return{multistatus:{response:[]}};if(!r)throw new Error("Invalid response: No root multistatus found");const s={multistatus:Array.isArray(r)?r[0]:r};return rt().set(s,"multistatus.response",mt(s,"multistatus.response",Be.Array)),rt().set(s,"multistatus.response",rt().get(s,"multistatus.response").map(o=>function(f){const l=Object.assign({},f);return l.status?rt().set(l,"status",mt(l,"status",Be.Object)):(rt().set(l,"propstat",mt(l,"propstat",Be.Object)),rt().set(l,"propstat.prop",mt(l,"propstat.prop",Be.Object))),l}(o))),s}(new Ue.XMLParser({allowBooleanAttributes:!0,attributeNamePrefix:"",textNodeName:"text",ignoreAttributes:!1,removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1},attributeValueProcessor:(t,r,s)=>r==="true"||r==="false"?r==="true":r,tagValueProcessor(t,r,s){if(!s.endsWith("propstat.prop.displayname"))return r}}).parse(n)))})}function _t(n,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:r=null,getcontentlength:s="0",resourcetype:o=null,getcontenttype:f=null,getetag:l=null}=n,v=o&&typeof o=="object"&&o.collection!==void 0?"directory":"file",h={filename:e,basename:Q().basename(e),lastmod:r,size:parseInt(s,10),type:v,etag:typeof l=="string"?l.replace(/"/g,""):null};return v==="file"&&(h.mime=f&&typeof f=="string"?f.split(";")[0]:""),t&&(n.displayname!==void 0&&(n.displayname=String(n.displayname)),h.props=n),h}function it(n,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=null;try{n.multistatus.response[0].propstat&&(r=n.multistatus.response[0])}catch{}if(!r)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:s,status:o}}=r,[f,l,v]=o.split(" ",3),h=parseInt(l,10);if(h>=400){const i=new Error(`Invalid response: ${h} ${v}`);throw i.status=h,i}return _t(s,ve(e),t)}function Xt(n){switch(String(n)){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(String(n),10)}}function fn(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}const wt=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=t,s=ze({url:X(n.remoteURL,oe(e)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},n,t);return fn(qe(s,n),function(o){return S(n,o),fn(o.text(),function(f){return fn(St(f),function(l){const v=it(l,e,r);return le(o,v,r)})})})});function xn(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}const x=hn(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=function(o){if(!o||o==="/")return[];let f=o;const l=[];do l.push(f),f=Q().dirname(f);while(f&&f!=="/");return l}(ve(e));r.sort((o,f)=>o.length>f.length?1:f.length>o.length?-1:0);let s=!1;return function(o,f,l){if(typeof o[jt]=="function"){let p=function(w){try{for(;!(v=c.next()).done;)if((w=f(v.value))&&w.then){if(!dn(w))return void w.then(p,i||(i=st.bind(null,h=new Tt,2)));w=w.v}h?st(h,1,w):h=w}catch(O){st(h||(h=new Tt),2,O)}};var v,h,i,c=o[jt]();if(p(),c.return){var a=function(w){try{v.done||c.return()}catch{}return w};if(h&&h.then)return h.then(a,function(w){throw a(w)});a()}return h}if(!("length"in o))throw new TypeError("Object is not iterable");for(var E=[],m=0;m<o.length;m++)E.push(o[m]);return function(p,w,O){var d,b,I=-1;return function P(_){try{for(;++I<p.length&&(!O||!O());)if((_=w(I))&&_.then){if(!dn(_))return void _.then(P,b||(b=st.bind(null,d=new Tt,2)));_=_.v}d?st(d,1,_):d=_}catch(k){st(d||(d=new Tt),2,k)}}(),d}(E,function(p){return f(E[p])},l)}(r,function(o){return f=function(){return function(v,h){try{var i=xn(wt(n,o),function(c){if(c.type!=="directory")throw new Error(`Path includes a file: ${e}`)})}catch(c){return h(c)}return i&&i.then?i.then(void 0,h):i}(0,function(v){const h=v;return function(){if(h.status===404)return s=!0,ke(xe(n,o,{...t,recursive:!1}));throw v}()})},(l=function(){if(s)return ke(xe(n,o,{...t,recursive:!1}))}())&&l.then?l.then(f):f();var f,l},function(){return!1})});function hn(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}function Wt(){}function ke(n,e){if(!e)return n&&n.then?n.then(Wt):Promise.resolve()}const jt=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function st(n,e,t){if(!n.s){if(t instanceof Tt){if(!t.s)return void(t.o=st.bind(null,n,e));1&e&&(e=t.s),t=t.v}if(t&&t.then)return void t.then(st.bind(null,n,e),st.bind(null,n,2));n.s=e,n.v=t;const r=n.o;r&&r(n)}}const Tt=function(){function n(){}return n.prototype.then=function(e,t){const r=new n,s=this.s;if(s){const o=1&s?e:t;if(o){try{st(r,1,o(this.v))}catch(f){st(r,2,f)}return r}return this}return this.o=function(o){try{const f=o.v;1&o.s?st(r,1,e?e(f):f):t?st(r,1,t(f)):st(r,2,f)}catch(f){st(r,2,f)}},r},n}();function dn(n){return n instanceof Tt&&1&n.s}const xe=hn(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t.recursive===!0)return x(n,e,t);const r=ze({url:X(n.remoteURL,(s=oe(e),s.endsWith("/")?s:s+"/")),method:"MKCOL"},n,t);var s;return xn(qe(r,n),function(o){S(n,o)})});var Gn=ee(388),Jt=ee.n(Gn);const pn=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r={};if(typeof t.range=="object"&&typeof t.range.start=="number"){let l=`bytes=${t.range.start}-`;typeof t.range.end=="number"&&(l=`${l}${t.range.end}`),r.Range=l}const s=ze({url:X(n.remoteURL,oe(e)),method:"GET",headers:r},n,t);return f=function(l){if(S(n,l),r.Range&&l.status!==206){const v=new Error(`Invalid response code for partial request: ${l.status}`);throw v.status=l.status,v}return t.callback&&setTimeout(()=>{t.callback(l)},0),l.body},(o=qe(s,n))&&o.then||(o=Promise.resolve(o)),f?o.then(f):o;var o,f}),Rt=()=>{},gn=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e,t){t.url||(t.url=X(n.remoteURL,oe(e)));const r=ze(t,n,{});return o=function(f){return S(n,f),f},(s=qe(r,n))&&s.then||(s=Promise.resolve(s)),o?s.then(o):s;var s,o}),Xn=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=ze({url:X(n.remoteURL,oe(e)),method:"DELETE"},n,t);return o=function(f){S(n,f)},(s=qe(r,n))&&s.then||(s=Promise.resolve(s)),o?s.then(o):s;var s,o}),Cn=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(r,s){try{var o=(f=wt(n,e,t),l=function(){return!0},v?l?l(f):f:(f&&f.then||(f=Promise.resolve(f)),l?f.then(l):f))}catch(h){return s(h)}var f,l,v;return o&&o.then?o.then(void 0,s):o}(0,function(r){if(r.status===404)return!1;throw r})});function en(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}const Wn=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=ze({url:X(n.remoteURL,oe(e),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:t.deep?"infinity":"1"}},n,t);return en(qe(r,n),function(s){return S(n,s),en(s.text(),function(o){if(!o)throw new Error("Failed parsing directory contents: Empty response");return en(St(o),function(f){const l=Se(e);let v=function(h,i,c){let a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],E=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const m=Q().join(i,"/"),{multistatus:{response:p}}=h,w=p.map(O=>{const d=function(I){try{return I.replace(/^https?:\/\/[^\/]+/,"")}catch(P){throw new K(P,"Failed normalising HREF")}}(O.href),{propstat:{prop:b}}=O;return _t(b,m==="/"?decodeURIComponent(ve(d)):ve(Q().relative(decodeURIComponent(m),decodeURIComponent(d))),a)});return E?w:w.filter(O=>O.basename&&(O.type==="file"||O.filename!==c.replace(/\/$/,"")))}(f,Se(n.remoteBasePath||n.remotePath),l,t.details,t.includeSelf);return t.glob&&(v=function(h,i){return h.filter(c=>nt(c.filename,i,{matchBase:!0}))}(v,t.glob)),le(s,v,t.details)})})})});function g(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}const u=g(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=ze({url:X(n.remoteURL,oe(e)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[Ge]},n,t);return M(qe(r,n),function(s){return S(n,s),M(s.text(),function(o){return le(s,o,t.details)})})});function M(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}const N=g(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=ze({url:X(n.remoteURL,oe(e)),method:"GET"},n,t);return M(qe(r,n),function(s){let o;return S(n,s),function(f,l){var v=f();return v&&v.then?v.then(l):l()}(function(){return M(s.arrayBuffer(),function(f){o=f})},function(){return le(s,o,t.details)})})}),Ce=g(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:r="binary"}=t;if(r!=="binary"&&r!=="text")throw new K({info:{code:Qe.InvalidOutputFormat}},`Invalid output format: ${r}`);return r==="text"?u(n,e,t):N(n,e,t)}),Ge=n=>n;function Xe(n){return new Ue.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(ut({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:n}}},"d"))}function ut(n,e){const t={...n};for(const r in t)t.hasOwnProperty(r)&&(t[r]&&typeof t[r]=="object"&&r.indexOf(":")===-1?(t[`${e}:${r}`]=ut(t[r],e),delete t[r]):/^@_/.test(r)===!1&&(t[`${e}:${r}`]=t[r],delete t[r]));return t}function ot(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}function Lt(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}const Je=Lt(function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=ze({url:X(n.remoteURL,oe(e)),method:"UNLOCK",headers:{"Lock-Token":t}},n,r);return ot(qe(s,n),function(o){if(S(n,o),o.status!==204&&o.status!==200)throw W(o)})}),It=Lt(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:r,timeout:s=qn}=t,o={Accept:"text/plain,application/xml",Timeout:s};r&&(o.If=r);const f=ze({url:X(n.remoteURL,oe(e)),method:"LOCK",headers:o,data:Xe(n.contactHref)},n,t);return ot(qe(f,n),function(l){return S(n,l),ot(l.text(),function(v){const h=(a=v,new Ue.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(a)),i=rt().get(h,"prop.lockdiscovery.activelock.locktoken.href"),c=rt().get(h,"prop.lockdiscovery.activelock.timeout");var a;if(!i)throw W(l,"No lock token received: ");return{token:i,serverTimeout:c}})})}),qn="Infinite, Second-4100000000";function tn(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}const mn=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=e.path||"/",r=ze({url:X(n.remoteURL,t),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},n,e);return tn(qe(r,n),function(s){return S(n,s),tn(s.text(),function(o){return tn(St(o),function(f){const l=function(v){try{const[h]=v.multistatus.response,{propstat:{prop:{"quota-used-bytes":i,"quota-available-bytes":c}}}=h;return i!==void 0&&c!==void 0?{used:parseInt(String(i),10),available:Xt(c)}:null}catch{}return null}(f);return le(s,l,e.details)})})})});function nn(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}const fr=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=t,s=ze({url:X(n.remoteURL,oe(e)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":n.headers["Content-Type"]||"application/xml; charset=utf-8"}},n,t);return nn(qe(s,n),function(o){return S(n,o),nn(o.text(),function(f){return nn(St(f),function(l){const v=function(h,i,c){const a={truncated:!1,results:[]};return a.truncated=h.multistatus.response.some(E=>(E.status||E.propstat?.status).split(" ",3)?.[1]==="507"&&E.href.replace(/\/$/,"").endsWith(oe(i).replace(/\/$/,""))),h.multistatus.response.forEach(E=>{if(E.propstat===void 0)return;const m=E.href.split("/").map(decodeURIComponent).join("/");a.results.push(_t(E.propstat.prop,m,c))}),a}(l,e,r);return le(o,v,r)})})})}),hr=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=ze({url:X(n.remoteURL,oe(e)),method:"MOVE",headers:{Destination:X(n.remoteURL,oe(t)),Overwrite:r.overwrite===!1?"F":"T"}},n,r);return f=function(l){S(n,l)},(o=qe(s,n))&&o.then||(o=Promise.resolve(o)),f?o.then(f):o;var o,f});var dr=ee(172);const pr=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:s=!0,overwrite:o=!0}=r,f={"Content-Type":"application/octet-stream"};s===!1||(f["Content-Length"]=typeof s=="number"?`${s}`:`${function(i){if(wn(i))return i.byteLength;if($t(i))return i.length;if(typeof i=="string")return(0,dr.d)(i);throw new K({info:{code:Qe.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}(t)}`),o||(f["If-None-Match"]="*");const l=ze({url:X(n.remoteURL,oe(e)),method:"PUT",headers:f,data:t},n,r);return h=function(i){try{S(n,i)}catch(c){const a=c;if(a.status!==412||o)throw a;return!1}return!0},(v=qe(l,n))&&v.then||(v=Promise.resolve(v)),h?v.then(h):v;var v,h}),ir=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=ze({url:X(n.remoteURL,oe(e)),method:"OPTIONS"},n,t);return o=function(f){try{S(n,f)}catch(l){throw l}return{compliance:(f.headers.get("DAV")??"").split(",").map(l=>l.trim()),server:f.headers.get("Server")??""}},(s=qe(r,n))&&s.then||(s=Promise.resolve(s)),o?s.then(o):s;var s,o});function vn(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}const gr=zn(function(n,e,t,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(t>r||t<0)throw new K({info:{code:Qe.InvalidUpdateRange}},`Invalid update range ${t} for partial update`);const f={"Content-Type":"application/octet-stream","Content-Length":""+(r-t+1),"Content-Range":`bytes ${t}-${r}/*`},l=ze({url:X(n.remoteURL,oe(e)),method:"PUT",headers:f,data:s},n,o);return vn(qe(l,n),function(v){S(n,v)})});function sr(n,e){var t=n();return t&&t.then?t.then(e):e(t)}const mr=zn(function(n,e,t,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(t>r||t<0)throw new K({info:{code:Qe.InvalidUpdateRange}},`Invalid update range ${t} for partial update`);const f={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":""+(r-t+1),"X-Update-Range":`bytes=${t}-${r}`},l=ze({url:X(n.remoteURL,oe(e)),method:"PATCH",headers:f,data:s},n,o);return vn(qe(l,n),function(v){S(n,v)})});function zn(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}const vr=zn(function(n,e,t,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return vn(ir(n,e,o),function(f){let l=!1;return sr(function(){if(f.compliance.includes("sabredav-partialupdate"))return vn(mr(n,e,t,r,s,o),function(v){return l=!0,v})},function(v){let h=!1;return l?v:sr(function(){if(f.server.includes("Apache")&&f.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return vn(gr(n,e,t,r,s,o),function(i){return h=!0,i})},function(i){if(h)return i;throw new K({info:{code:Qe.NotSupported}},"Not supported")})})})}),Er="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function wr(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:t=null,remoteBasePath:r,contactHref:s=Er,ha1:o,headers:f={},httpAgent:l,httpsAgent:v,password:h,token:i,username:c,withCredentials:a}=e;let E=t;E||(E=c||h?$e.Password:$e.None);const m={authType:E,remoteBasePath:r,contactHref:s,ha1:o,headers:Object.assign({},f),httpAgent:l,httpsAgent:v,password:h,remotePath:F(n),remoteURL:n,token:i,username:c,withCredentials:a};return gt(m,c,h,i,o),{copyFile:(p,w,O)=>be(m,p,w,O),createDirectory:(p,w)=>xe(m,p,w),createReadStream:(p,w)=>function(O,d){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const I=new(Jt()).PassThrough;return pn(O,d,b).then(P=>{P.pipe(I)}).catch(P=>{I.emit("error",P)}),I}(m,p,w),createWriteStream:(p,w,O)=>function(d,b){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Rt;const _=new(Jt()).PassThrough,k={};I.overwrite===!1&&(k["If-None-Match"]="*");const A=ze({url:X(d.remoteURL,oe(b)),method:"PUT",headers:k,data:_,maxRedirects:0},d,I);return qe(A,d).then(V=>S(d,V)).then(V=>{setTimeout(()=>{P(V)},0)}).catch(V=>{_.emit("error",V)}),_}(m,p,w,O),customRequest:(p,w)=>gn(m,p,w),deleteFile:(p,w)=>Xn(m,p,w),exists:(p,w)=>Cn(m,p,w),getDirectoryContents:(p,w)=>Wn(m,p,w),getFileContents:(p,w)=>Ce(m,p,w),getFileDownloadLink:p=>function(w,O){let d=X(w.remoteURL,oe(O));const b=/^https:/i.test(d)?"https":"http";switch(w.authType){case $e.None:break;case $e.Password:{const I=Fe(w.headers.Authorization.replace(/^Basic /i,"").trim());d=d.replace(/^https?:\/\//,`${b}://${I}@`);break}default:throw new K({info:{code:Qe.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${w.authType}`)}return d}(m,p),getFileUploadLink:p=>function(w,O){let d=`${X(w.remoteURL,oe(O))}?Content-Type=application/octet-stream`;const b=/^https:/i.test(d)?"https":"http";switch(w.authType){case $e.None:break;case $e.Password:{const I=Fe(w.headers.Authorization.replace(/^Basic /i,"").trim());d=d.replace(/^https?:\/\//,`${b}://${I}@`);break}default:throw new K({info:{code:Qe.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${w.authType}`)}return d}(m,p),getHeaders:()=>Object.assign({},m.headers),getQuota:p=>mn(m,p),lock:(p,w)=>It(m,p,w),moveFile:(p,w,O)=>hr(m,p,w,O),putFileContents:(p,w,O)=>pr(m,p,w,O),partialUpdateFileContents:(p,w,O,d,b)=>vr(m,p,w,O,d,b),getDAVCompliance:p=>ir(m,p),search:(p,w)=>fr(m,p,w),setHeaders:p=>{m.headers=Object.assign({},p)},stat:(p,w)=>wt(m,p,w),unlock:(p,w,O)=>Je(m,p,w,O)}}var Ar=ne.hT,Ir=ne.O4,Or=ne.Kd,xr=ne.YK,yr=ne.UU,br=ne.Gu,Cr=ne.ky,Pr=ne.h4,Sr=ne.ch,Rr=ne.hq,Lr=ne.i5}}]);})();

//# sourceMappingURL=talk-defaultVendors-node_modules_nextcloud_dialogs_dist_chunks__plugin-vue_export-helper-1tPrXgE0_-e37598.js.map?v=3a28745caaf5b549323f