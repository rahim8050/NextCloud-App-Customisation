{"version":3,"file":"talk-defaultVendors-node_modules_nextcloud_dialogs_dist_chunks_FilePicker-CtWlxGEm_mjs.js?v=c06e9e7135c3dba33352","mappings":"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","sources":["webpack:///talk/node_modules/@nextcloud/sharing/dist/share/ShareType.js","webpack:///talk/node_modules/@nextcloud/sharing/dist/share/index.js","webpack:///talk/node_modules/@nextcloud/dialogs/dist/chunks/FilePicker-CtWlxGEm.mjs"],"sourcesContent":["/*!\n * SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nexport var ShareType;\n(function (ShareType) {\n    ShareType[ShareType[\"User\"] = 0] = \"User\";\n    ShareType[ShareType[\"Group\"] = 1] = \"Group\";\n    ShareType[ShareType[\"Link\"] = 3] = \"Link\";\n    ShareType[ShareType[\"Email\"] = 4] = \"Email\";\n    ShareType[ShareType[\"Remote\"] = 6] = \"Remote\";\n    /**\n     * Was called `Circle` before Nextcloud 29\n     */\n    ShareType[ShareType[\"Team\"] = 7] = \"Team\";\n    ShareType[ShareType[\"Guest\"] = 8] = \"Guest\";\n    ShareType[ShareType[\"RemoteGroup\"] = 9] = \"RemoteGroup\";\n    ShareType[ShareType[\"Room\"] = 10] = \"Room\";\n    ShareType[ShareType[\"Deck\"] = 12] = \"Deck\";\n    /**\n     * @since 26.0.0\n     */\n    ShareType[ShareType[\"FederatedGroup\"] = 14] = \"FederatedGroup\";\n    /**\n     * Third party share types\n     *\n     * @since 25.0.0\n     */\n    ShareType[ShareType[\"ScienceMesh\"] = 15] = \"ScienceMesh\";\n})(ShareType || (ShareType = {}));\n","/*!\n * SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nexport { ShareType } from \"./ShareType.js\";\n","import { createElementBlock, openBlock, mergeProps, createElementVNode, createCommentVNode, toDisplayString, defineComponent, ref, computed, toRef, normalizeClass, normalizeStyle, unref, Fragment, createBlock, createVNode, toHandlers, withModifiers, onMounted, mergeModels, useModel, nextTick, onUnmounted, withCtx, createTextVNode, renderList, useTemplateRef, createSlots, shallowRef, watch } from \"vue\";\nimport { emit } from \"@nextcloud/event-bus\";\nimport NcDialog from \"@nextcloud/vue/components/NcDialog\";\nimport NcEmptyContent from \"@nextcloud/vue/components/NcEmptyContent\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nimport { FileType, Permission, formatFileSize, sortNodes, davGetRecentSearch, davResultToNode, davRootPath, davGetDefaultPropfind, davGetClient, getFavoriteNodes } from \"@nextcloud/files\";\nimport NcButton from \"@nextcloud/vue/components/NcButton\";\nimport NcCheckboxRadioSwitch from \"@nextcloud/vue/components/NcCheckboxRadioSwitch\";\nimport NcDateTime from \"@nextcloud/vue/components/NcDateTime\";\nimport { mdiLock, mdiTag, mdiLink, mdiAccountPlus, mdiGroup, mdiNetwork, mdiFolder, mdiClock, mdiStar } from \"@mdi/js\";\nimport { ShareType } from \"@nextcloud/sharing\";\nimport NcIconSvgWrapper from \"@nextcloud/vue/components/NcIconSvgWrapper\";\nimport { u as usePreviewURL } from \"./preview-BIbJGxXF.mjs\";\nimport { t, l as logger, s as showError } from \"./index-hZPKu-D6.mjs\";\nimport axios from \"@nextcloud/axios\";\nimport { loadState } from \"@nextcloud/initial-state\";\nimport { generateUrl } from \"@nextcloud/router\";\nimport { isPublicShare } from \"@nextcloud/sharing/public\";\nimport { toValue } from \"@vueuse/core\";\nimport NcActionInput from \"@nextcloud/vue/components/NcActionInput\";\nimport NcActions from \"@nextcloud/vue/components/NcActions\";\nimport NcBreadcrumb from \"@nextcloud/vue/components/NcBreadcrumb\";\nimport NcBreadcrumbs from \"@nextcloud/vue/components/NcBreadcrumbs\";\nimport { getCurrentUser } from \"@nextcloud/auth\";\nimport NcSelect from \"@nextcloud/vue/components/NcSelect\";\nimport NcTextField from \"@nextcloud/vue/components/NcTextField\";\nimport { joinPaths } from \"@nextcloud/paths\";\nimport { CancelablePromise } from \"cancelable-promise\";\nconst _sfc_main$e = {\n  name: \"FileIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$c = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$b = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$a = { d: \"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z\" };\nconst _hoisted_4$a = { key: 0 };\nfunction _sfc_render$7(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon file-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$a, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$a, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$b))\n  ], 16, _hoisted_1$c);\n}\nconst IconFile = /* @__PURE__ */ _export_sfc(_sfc_main$e, [[\"render\", _sfc_render$7]]);\nconst _sfc_main$d = {\n  name: \"MenuDownIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$b = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$a = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$9 = { d: \"M7,10L12,15L17,10H7Z\" };\nconst _hoisted_4$9 = { key: 0 };\nfunction _sfc_render$6(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon menu-down-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$9, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$9, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$a))\n  ], 16, _hoisted_1$b);\n}\nconst IconSortDescending = /* @__PURE__ */ _export_sfc(_sfc_main$d, [[\"render\", _sfc_render$6]]);\nconst _sfc_main$c = {\n  name: \"MenuUpIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$a = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$9 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$8 = { d: \"M7,15L12,10L17,15H7Z\" };\nconst _hoisted_4$8 = { key: 0 };\nfunction _sfc_render$5(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon menu-up-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$8, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$8, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$9))\n  ], 16, _hoisted_1$a);\n}\nconst IconSortAscending = /* @__PURE__ */ _export_sfc(_sfc_main$c, [[\"render\", _sfc_render$5]]);\nconst _sfc_main$b = {\n  name: \"FolderIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$9 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$8 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$7 = { d: \"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z\" };\nconst _hoisted_4$7 = { key: 0 };\nfunction _sfc_render$4(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon folder-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$7, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$7, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$8))\n  ], 16, _hoisted_1$9);\n}\nconst IconFolder = /* @__PURE__ */ _export_sfc(_sfc_main$b, [[\"render\", _sfc_render$4]]);\nconst fileListIconStyles = {\n  \"file-picker__file-icon\": \"_file-picker__file-icon_3v9zx_9\",\n  \"file-picker__file-icon--primary\": \"_file-picker__file-icon--primary_3v9zx_21\",\n  \"file-picker__file-icon-overlay\": \"_file-picker__file-icon-overlay_3v9zx_25\"\n};\nconst _sfc_main$a = /* @__PURE__ */ defineComponent({\n  __name: \"FilePreview\",\n  props: {\n    node: {},\n    cropImagePreviews: { type: Boolean }\n  },\n  setup(__props) {\n    const props = __props;\n    const fileListIconStyles$1 = ref(fileListIconStyles);\n    const {\n      previewURL,\n      previewLoaded\n    } = usePreviewURL(toRef(props, \"node\"), computed(() => ({ cropPreview: props.cropImagePreviews })));\n    const isFile = computed(() => props.node.type === FileType.File);\n    const folderDecorationIcon = computed(() => {\n      if (props.node.type !== FileType.Folder) {\n        return null;\n      }\n      if (props.node.attributes?.[\"is-encrypted\"] === 1) {\n        return mdiLock;\n      }\n      if (props.node.attributes?.[\"is-tag\"]) {\n        return mdiTag;\n      }\n      const shareTypes = Object.values(props.node.attributes?.[\"share-types\"] || {}).flat();\n      if (shareTypes.some((type) => type === ShareType.Link || type === ShareType.Email)) {\n        return mdiLink;\n      }\n      if (shareTypes.length > 0) {\n        return mdiAccountPlus;\n      }\n      switch (props.node.attributes?.[\"mount-type\"]) {\n        case \"external\":\n        case \"external-session\":\n          return mdiNetwork;\n        case \"group\":\n          return mdiGroup;\n        case \"shared\":\n          return mdiAccountPlus;\n      }\n      return null;\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        style: normalizeStyle(unref(previewLoaded) ? { backgroundImage: `url(${unref(previewURL)})` } : void 0),\n        class: normalizeClass(fileListIconStyles$1.value[\"file-picker__file-icon\"])\n      }, [\n        !unref(previewLoaded) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n          isFile.value ? (openBlock(), createBlock(IconFile, {\n            key: 0,\n            size: 32\n          })) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n            folderDecorationIcon.value ? (openBlock(), createBlock(unref(NcIconSvgWrapper), {\n              key: 0,\n              class: normalizeClass(fileListIconStyles$1.value[\"file-picker__file-icon-overlay\"]),\n              inline: \"\",\n              path: folderDecorationIcon.value,\n              size: 16\n            }, null, 8, [\"class\", \"path\"])) : createCommentVNode(\"\", true),\n            createVNode(IconFolder, {\n              class: normalizeClass(fileListIconStyles$1.value[\"file-picker__file-icon--primary\"]),\n              size: 32\n            }, null, 8, [\"class\"])\n          ], 64))\n        ], 64)) : createCommentVNode(\"\", true)\n      ], 6);\n    };\n  }\n});\nconst _hoisted_1$8 = [\"tabindex\", \"aria-selected\", \"data-filename\"];\nconst _hoisted_2$7 = { class: \"row-name\" };\nconst _hoisted_3$6 = {\n  class: \"file-picker__name-container\",\n  \"data-testid\": \"row-name\"\n};\nconst _hoisted_4$6 = [\"title\", \"textContent\"];\nconst _hoisted_5$1 = [\"textContent\"];\nconst _hoisted_6$1 = { class: \"row-size\" };\nconst _hoisted_7$1 = { class: \"row-modified\" };\nconst _sfc_main$9 = /* @__PURE__ */ defineComponent({\n  __name: \"FileListRow\",\n  props: {\n    allowPickDirectory: { type: Boolean },\n    selected: { type: Boolean },\n    showCheckbox: { type: Boolean },\n    canPick: { type: Boolean },\n    node: {},\n    cropImagePreviews: { type: Boolean }\n  },\n  emits: [\"update:selected\", \"enterDirectory\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit2 = __emit;\n    const timestamp = computed(() => props.node.mtime ?? 0);\n    const displayName = computed(() => props.node.attributes?.displayName || props.node.basename.slice(0, props.node.extension ? -props.node.extension.length : void 0));\n    const fileExtension = computed(() => props.node.extension);\n    const isDirectory = computed(() => props.node.type === FileType.Folder);\n    const isPickable = computed(() => props.canPick && (props.allowPickDirectory || !isDirectory.value));\n    const isNavigatable = computed(() => (props.node.permissions & Permission.READ) === Permission.READ);\n    function toggleSelected() {\n      if (!isPickable.value) {\n        return;\n      }\n      emit2(\"update:selected\", !props.selected);\n    }\n    function handleClick() {\n      if (isDirectory.value) {\n        if (isNavigatable.value) {\n          emit2(\"enterDirectory\", props.node);\n        }\n      } else {\n        toggleSelected();\n      }\n    }\n    function handleKeyDown(event) {\n      if (event.key === \"Enter\") {\n        handleClick();\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"tr\", mergeProps({\n        tabindex: __props.showCheckbox && !isDirectory.value ? void 0 : 0,\n        \"aria-selected\": !isPickable.value ? void 0 : __props.selected,\n        class: [\"file-picker__row\", [\n          {\n            \"file-picker__row--selected\": __props.selected && !__props.showCheckbox,\n            \"file-picker__row--not-navigatable\": isDirectory.value && !isNavigatable.value,\n            \"file-picker__row--not-pickable\": !isPickable.value\n          }\n        ]],\n        \"data-filename\": __props.node.basename,\n        \"data-testid\": \"file-list-row\"\n      }, toHandlers({\n        click: handleClick,\n        /* same as tabindex -> if we hide the checkbox or this is a directory we need keyboard access to enter the directory or select the node */\n        ...!__props.showCheckbox || isDirectory.value ? { keydown: handleKeyDown } : {}\n      }, true)), [\n        __props.showCheckbox ? (openBlock(), createElementBlock(\"td\", {\n          key: 0,\n          class: \"row-checkbox\",\n          onClick: withModifiers(() => {\n          }, [\"stop\"])\n        }, [\n          createVNode(unref(NcCheckboxRadioSwitch), {\n            \"aria-label\": unref(t)(\"Select the row for {nodename}\", { nodename: displayName.value }),\n            disabled: !isPickable.value,\n            \"data-testid\": \"row-checkbox\",\n            \"model-value\": __props.selected,\n            \"onUpdate:modelValue\": toggleSelected\n          }, null, 8, [\"aria-label\", \"disabled\", \"model-value\"])\n        ])) : createCommentVNode(\"\", true),\n        createElementVNode(\"td\", _hoisted_2$7, [\n          createElementVNode(\"div\", _hoisted_3$6, [\n            createVNode(_sfc_main$a, {\n              node: __props.node,\n              \"crop-image-previews\": __props.cropImagePreviews\n            }, null, 8, [\"node\", \"crop-image-previews\"]),\n            createElementVNode(\"div\", {\n              class: \"file-picker__file-name\",\n              title: displayName.value,\n              textContent: toDisplayString(displayName.value)\n            }, null, 8, _hoisted_4$6),\n            createElementVNode(\"div\", {\n              class: \"file-picker__file-extension\",\n              textContent: toDisplayString(fileExtension.value)\n            }, null, 8, _hoisted_5$1)\n          ])\n        ]),\n        createElementVNode(\"td\", _hoisted_6$1, toDisplayString(unref(formatFileSize)(__props.node.size || 0)), 1),\n        createElementVNode(\"td\", _hoisted_7$1, [\n          createVNode(unref(NcDateTime), {\n            timestamp: timestamp.value,\n            \"ignore-seconds\": \"\"\n          }, null, 8, [\"timestamp\"])\n        ])\n      ], 16, _hoisted_1$8);\n    };\n  }\n});\nconst FileListRow = /* @__PURE__ */ _export_sfc(_sfc_main$9, [[\"__scopeId\", \"data-v-a5daea8d\"]]);\nconst _hoisted_1$7 = {\n  \"aria-hidden\": \"true\",\n  class: \"file-picker__row loading-row\"\n};\nconst _hoisted_2$6 = {\n  key: 0,\n  class: \"row-checkbox\"\n};\nconst _hoisted_3$5 = { class: \"row-name\" };\nconst _hoisted_4$5 = { class: \"row-wrapper\" };\nconst _sfc_main$8 = /* @__PURE__ */ defineComponent({\n  __name: \"LoadingTableRow\",\n  props: {\n    showCheckbox: { type: Boolean }\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"tr\", _hoisted_1$7, [\n        __props.showCheckbox ? (openBlock(), createElementBlock(\"td\", _hoisted_2$6, [..._cache[0] || (_cache[0] = [\n          createElementVNode(\"span\", null, null, -1)\n        ])])) : createCommentVNode(\"\", true),\n        createElementVNode(\"td\", _hoisted_3$5, [\n          createElementVNode(\"div\", _hoisted_4$5, [\n            createElementVNode(\"span\", {\n              class: normalizeClass(unref(fileListIconStyles)[\"file-picker__file-icon\"])\n            }, null, 2),\n            _cache[1] || (_cache[1] = createElementVNode(\"span\", null, null, -1))\n          ])\n        ]),\n        _cache[2] || (_cache[2] = createElementVNode(\"td\", { class: \"row-size\" }, [\n          createElementVNode(\"span\")\n        ], -1)),\n        _cache[3] || (_cache[3] = createElementVNode(\"td\", { class: \"row-modified\" }, [\n          createElementVNode(\"span\")\n        ], -1))\n      ]);\n    };\n  }\n});\nconst LoadingTableRow = /* @__PURE__ */ _export_sfc(_sfc_main$8, [[\"__scopeId\", \"data-v-1f96131b\"]]);\nfunction useFilesSettings() {\n  const filesUserState = loadState(\"files\", \"config\", null);\n  const showHiddenFiles = ref(filesUserState?.show_hidden ?? true);\n  const sortFavoritesFirst = ref(filesUserState?.sort_favorites_first ?? true);\n  const cropImagePreviews = ref(filesUserState?.crop_image_previews ?? true);\n  onMounted(async () => {\n    if (!isPublicShare()) {\n      try {\n        const { data } = await axios.get(generateUrl(\"/apps/files/api/v1/configs\"));\n        showHiddenFiles.value = data?.data?.show_hidden ?? false;\n        sortFavoritesFirst.value = data?.data?.sort_favorites_first ?? true;\n        cropImagePreviews.value = data?.data?.crop_image_previews ?? true;\n      } catch (error) {\n        logger.error(\"Could not load files settings\", error);\n        showError(t(\"Could not load files settings\"));\n      }\n    } else {\n      logger.debug(\"Skip loading files settings - currently on public share\");\n    }\n  });\n  return {\n    showHiddenFiles,\n    sortFavoritesFirst,\n    cropImagePreviews\n  };\n}\nfunction useFilesViews(currentView) {\n  const convertOrder = (order2) => order2 === \"asc\" ? \"ascending\" : order2 === \"desc\" ? \"descending\" : \"none\";\n  const filesViewsState = loadState(\"files\", \"viewConfigs\", null);\n  const filesViewConfig = ref({\n    sortBy: filesViewsState?.files?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.files?.sorting_direction ?? \"asc\")\n  });\n  const recentViewConfig = ref({\n    sortBy: filesViewsState?.recent?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.recent?.sorting_direction ?? \"asc\")\n  });\n  const favoritesViewConfig = ref({\n    sortBy: filesViewsState?.favorites?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.favorites?.sorting_direction ?? \"asc\")\n  });\n  onMounted(async () => {\n    if (!isPublicShare()) {\n      try {\n        const { data } = await axios.get(generateUrl(\"/apps/files/api/v1/views\"));\n        filesViewConfig.value = {\n          sortBy: data?.data?.files?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.files?.sorting_direction)\n        };\n        favoritesViewConfig.value = {\n          sortBy: data?.data?.favorites?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.favorites?.sorting_direction)\n        };\n        recentViewConfig.value = {\n          sortBy: data?.data?.recent?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.recent?.sorting_direction)\n        };\n      } catch (error) {\n        logger.error(\"Could not load files views\", error);\n        showError(t(\"Could not load files views\"));\n      }\n    } else {\n      logger.debug(\"Skip loading files views - currently on public share\");\n    }\n  });\n  const currentConfig = computed(() => toValue(currentView || \"files\") === \"files\" ? filesViewConfig.value : toValue(currentView) === \"recent\" ? recentViewConfig.value : favoritesViewConfig.value);\n  const sortBy = computed(() => currentConfig.value.sortBy);\n  const order = computed(() => currentConfig.value.order);\n  return {\n    filesViewConfig,\n    favoritesViewConfig,\n    recentViewConfig,\n    currentConfig,\n    sortBy,\n    order\n  };\n}\nconst _hoisted_1$6 = {\n  key: 0,\n  class: \"row-checkbox\"\n};\nconst _hoisted_2$5 = { class: \"hidden-visually\" };\nconst _hoisted_3$4 = [\"aria-sort\"];\nconst _hoisted_4$4 = { class: \"header-wrapper\" };\nconst _hoisted_5 = {\n  key: 2,\n  style: { \"width\": \"44px\" }\n};\nconst _hoisted_6 = [\"aria-sort\"];\nconst _hoisted_7 = {\n  key: 2,\n  style: { \"width\": \"44px\" }\n};\nconst _hoisted_8 = [\"aria-sort\"];\nconst _hoisted_9 = {\n  key: 2,\n  style: { \"width\": \"44px\" }\n};\nconst _sfc_main$7 = /* @__PURE__ */ defineComponent({\n  __name: \"FileList\",\n  props: /* @__PURE__ */ mergeModels({\n    currentView: {},\n    multiselect: { type: Boolean },\n    allowPickDirectory: { type: Boolean },\n    loading: { type: Boolean },\n    files: {},\n    canPick: { type: Function }\n  }, {\n    \"path\": { required: true },\n    \"pathModifiers\": {},\n    \"selectedFiles\": { required: true },\n    \"selectedFilesModifiers\": {}\n  }),\n  emits: [\"update:path\", \"update:selectedFiles\"],\n  setup(__props) {\n    const path = useModel(__props, \"path\");\n    const selectedFiles = useModel(__props, \"selectedFiles\");\n    const props = __props;\n    const customSortingConfig = ref();\n    const { currentConfig: filesAppSorting } = useFilesViews(props.currentView);\n    const sortingConfig = computed(() => customSortingConfig.value ?? filesAppSorting.value);\n    const sortByName = computed(() => sortingConfig.value.sortBy === \"basename\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const sortBySize = computed(() => sortingConfig.value.sortBy === \"size\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const sortByModified = computed(() => sortingConfig.value.sortBy === \"mtime\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    function toggleSorting(sortBy) {\n      if (sortingConfig.value.sortBy === sortBy) {\n        if (sortingConfig.value.order === \"ascending\") {\n          customSortingConfig.value = { sortBy: sortingConfig.value.sortBy, order: \"descending\" };\n        } else {\n          customSortingConfig.value = { sortBy: sortingConfig.value.sortBy, order: \"ascending\" };\n        }\n      } else {\n        customSortingConfig.value = { sortBy, order: \"ascending\" };\n      }\n    }\n    const { sortFavoritesFirst, cropImagePreviews } = useFilesSettings();\n    const sortedFiles = computed(() => {\n      return sortNodes(props.files, {\n        sortFoldersFirst: true,\n        sortFavoritesFirst: sortFavoritesFirst.value,\n        sortingOrder: sortingConfig.value.order === \"descending\" ? \"desc\" : \"asc\",\n        sortingMode: sortingConfig.value.sortBy\n      });\n    });\n    const selectableFiles = computed(() => props.files.filter((file) => props.allowPickDirectory || file.type !== FileType.Folder));\n    const allSelected = computed(() => !props.loading && selectedFiles.value.length > 0 && selectedFiles.value.length >= selectableFiles.value.length);\n    function onSelectAll() {\n      if (selectedFiles.value.length < selectableFiles.value.length) {\n        selectedFiles.value = [...selectableFiles.value];\n      } else {\n        selectedFiles.value = [];\n      }\n    }\n    function onNodeSelected(file) {\n      if (selectedFiles.value.includes(file)) {\n        selectedFiles.value = selectedFiles.value.filter((f) => f.path !== file.path);\n      } else {\n        if (props.multiselect) {\n          selectedFiles.value = [...selectedFiles.value, file];\n        } else {\n          selectedFiles.value = [file];\n        }\n      }\n    }\n    function onChangeDirectory(dir) {\n      path.value = dir.path;\n    }\n    const skeletonNumber = ref(4);\n    const fileContainer = ref();\n    {\n      const resize = () => nextTick(() => {\n        const nodes = fileContainer.value?.parentElement?.children || [];\n        let height = fileContainer.value?.parentElement?.clientHeight || 450;\n        for (let index = 0; index < nodes.length; index++) {\n          if (!fileContainer.value?.isSameNode(nodes[index])) {\n            height -= nodes[index].clientHeight;\n          }\n        }\n        skeletonNumber.value = Math.max(1, Math.floor((height - 50) / 50));\n      });\n      onMounted(() => {\n        window.addEventListener(\"resize\", resize);\n        resize();\n      });\n      onUnmounted(() => {\n        window.removeEventListener(\"resize\", resize);\n      });\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"fileContainer\",\n        ref: fileContainer,\n        class: \"file-picker__files\"\n      }, [\n        createElementVNode(\"table\", null, [\n          createElementVNode(\"thead\", null, [\n            createElementVNode(\"tr\", null, [\n              __props.multiselect ? (openBlock(), createElementBlock(\"th\", _hoisted_1$6, [\n                createElementVNode(\"span\", _hoisted_2$5, toDisplayString(unref(t)(\"Select entry\")), 1),\n                __props.multiselect ? (openBlock(), createBlock(unref(NcCheckboxRadioSwitch), {\n                  key: 0,\n                  \"aria-label\": unref(t)(\"Select all entries\"),\n                  \"data-testid\": \"select-all-checkbox\",\n                  \"model-value\": allSelected.value,\n                  \"onUpdate:modelValue\": onSelectAll\n                }, null, 8, [\"aria-label\", \"model-value\"])) : createCommentVNode(\"\", true)\n              ])) : createCommentVNode(\"\", true),\n              createElementVNode(\"th\", {\n                \"aria-sort\": sortByName.value,\n                class: \"row-name\"\n              }, [\n                createElementVNode(\"div\", _hoisted_4$4, [\n                  _cache[3] || (_cache[3] = createElementVNode(\"span\", { class: \"file-picker__header-preview\" }, null, -1)),\n                  createVNode(unref(NcButton), {\n                    \"data-test\": \"file-picker_sort-name\",\n                    variant: \"tertiary\",\n                    wide: \"\",\n                    onClick: _cache[0] || (_cache[0] = ($event) => toggleSorting(\"basename\"))\n                  }, {\n                    icon: withCtx(() => [\n                      sortByName.value === \"ascending\" ? (openBlock(), createBlock(IconSortAscending, {\n                        key: 0,\n                        size: 20\n                      })) : sortByName.value === \"descending\" ? (openBlock(), createBlock(IconSortDescending, {\n                        key: 1,\n                        size: 20\n                      })) : (openBlock(), createElementBlock(\"span\", _hoisted_5))\n                    ]),\n                    default: withCtx(() => [\n                      createTextVNode(\" \" + toDisplayString(unref(t)(\"Name\")), 1)\n                    ]),\n                    _: 1\n                  })\n                ])\n              ], 8, _hoisted_3$4),\n              createElementVNode(\"th\", {\n                \"aria-sort\": sortBySize.value,\n                class: \"row-size\"\n              }, [\n                createVNode(unref(NcButton), {\n                  variant: \"tertiary\",\n                  wide: \"\",\n                  onClick: _cache[1] || (_cache[1] = ($event) => toggleSorting(\"size\"))\n                }, {\n                  icon: withCtx(() => [\n                    sortBySize.value === \"ascending\" ? (openBlock(), createBlock(IconSortAscending, {\n                      key: 0,\n                      size: 20\n                    })) : sortBySize.value === \"descending\" ? (openBlock(), createBlock(IconSortDescending, {\n                      key: 1,\n                      size: 20\n                    })) : (openBlock(), createElementBlock(\"span\", _hoisted_7))\n                  ]),\n                  default: withCtx(() => [\n                    createTextVNode(\" \" + toDisplayString(unref(t)(\"Size\")), 1)\n                  ]),\n                  _: 1\n                })\n              ], 8, _hoisted_6),\n              createElementVNode(\"th\", {\n                \"aria-sort\": sortByModified.value,\n                class: \"row-modified\"\n              }, [\n                createVNode(unref(NcButton), {\n                  variant: \"tertiary\",\n                  wide: \"\",\n                  onClick: _cache[2] || (_cache[2] = ($event) => toggleSorting(\"mtime\"))\n                }, {\n                  icon: withCtx(() => [\n                    sortByModified.value === \"ascending\" ? (openBlock(), createBlock(IconSortAscending, {\n                      key: 0,\n                      size: 20\n                    })) : sortByModified.value === \"descending\" ? (openBlock(), createBlock(IconSortDescending, {\n                      key: 1,\n                      size: 20\n                    })) : (openBlock(), createElementBlock(\"span\", _hoisted_9))\n                  ]),\n                  default: withCtx(() => [\n                    createTextVNode(\" \" + toDisplayString(unref(t)(\"Modified\")), 1)\n                  ]),\n                  _: 1\n                })\n              ], 8, _hoisted_8)\n            ])\n          ]),\n          createElementVNode(\"tbody\", null, [\n            __props.loading ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList(skeletonNumber.value, (index) => {\n              return openBlock(), createBlock(LoadingTableRow, {\n                key: index,\n                \"show-checkbox\": __props.multiselect\n              }, null, 8, [\"show-checkbox\"]);\n            }), 128)) : (openBlock(true), createElementBlock(Fragment, { key: 1 }, renderList(sortedFiles.value, (file) => {\n              return openBlock(), createBlock(FileListRow, {\n                key: file.fileid || file.path,\n                \"allow-pick-directory\": __props.allowPickDirectory,\n                \"show-checkbox\": __props.multiselect,\n                \"can-pick\": (__props.multiselect || selectedFiles.value.length === 0 || selectedFiles.value.includes(file)) && (__props.canPick === void 0 || __props.canPick(file)),\n                selected: selectedFiles.value.includes(file),\n                node: file,\n                \"crop-image-previews\": unref(cropImagePreviews),\n                \"onUpdate:selected\": ($event) => onNodeSelected(file),\n                onEnterDirectory: onChangeDirectory\n              }, null, 8, [\"allow-pick-directory\", \"show-checkbox\", \"can-pick\", \"selected\", \"node\", \"crop-image-previews\", \"onUpdate:selected\"]);\n            }), 128))\n          ])\n        ])\n      ], 512);\n    };\n  }\n});\nconst FileList = /* @__PURE__ */ _export_sfc(_sfc_main$7, [[\"__scopeId\", \"data-v-38620705\"]]);\nconst _sfc_main$6 = {\n  name: \"HomeIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$5 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$4 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$3 = { d: \"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z\" };\nconst _hoisted_4$3 = { key: 0 };\nfunction _sfc_render$3(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon home-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$3, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$3, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$4))\n  ], 16, _hoisted_1$5);\n}\nconst IconHome = /* @__PURE__ */ _export_sfc(_sfc_main$6, [[\"render\", _sfc_render$3]]);\nconst _sfc_main$5 = {\n  name: \"PlusIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$4 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$3 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$2 = { d: \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" };\nconst _hoisted_4$2 = { key: 0 };\nfunction _sfc_render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon plus-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$2, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$2, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$3))\n  ], 16, _hoisted_1$4);\n}\nconst IconPlus = /* @__PURE__ */ _export_sfc(_sfc_main$5, [[\"render\", _sfc_render$2]]);\nconst _sfc_main$4 = /* @__PURE__ */ defineComponent({\n  __name: \"FilePickerBreadcrumbs\",\n  props: {\n    path: {},\n    showMenu: { type: Boolean }\n  },\n  emits: [\"update:path\", \"create-node\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit2 = __emit;\n    const actionsOpen = ref(false);\n    const newNodeName = ref(\"\");\n    const nameInput = useTemplateRef(\"nameInput\");\n    function validateInput() {\n      const name = newNodeName.value.trim();\n      const input = nameInput.value?.$el?.querySelector(\"input\");\n      let validity = \"\";\n      if (name.length === 0) {\n        validity = t(\"Folder name cannot be empty.\");\n      } else if (name.includes(\"/\")) {\n        validity = t('\"/\" is not allowed inside a folder name.');\n      } else if ([\"..\", \".\"].includes(name)) {\n        validity = t('\"{name}\" is an invalid folder name.', { name });\n      } else if (window.OC.config?.blacklist_files_regex && name.match(window.OC.config?.blacklist_files_regex)) {\n        validity = t('\"{name}\" is not an allowed folder name', { name });\n      }\n      if (input) {\n        input.setCustomValidity(validity);\n      }\n      return validity === \"\";\n    }\n    function onSubmit() {\n      const name = newNodeName.value.trim();\n      if (validateInput()) {\n        actionsOpen.value = false;\n        emit2(\"create-node\", name);\n        newNodeName.value = \"\";\n      }\n    }\n    const pathElements = computed(() => props.path.split(\"/\").filter((v) => v !== \"\").map((v, i, elements) => ({\n      name: v,\n      path: \"/\" + elements.slice(0, i + 1).join(\"/\")\n    })));\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(NcBreadcrumbs), { class: \"file-picker__breadcrumbs\" }, createSlots({\n        default: withCtx(() => [\n          createVNode(unref(NcBreadcrumb), {\n            name: unref(t)(\"All files\"),\n            title: unref(t)(\"Home\"),\n            onClick: _cache[0] || (_cache[0] = ($event) => emit2(\"update:path\", \"/\"))\n          }, {\n            icon: withCtx(() => [\n              createVNode(IconHome, { size: 20 })\n            ]),\n            _: 1\n          }, 8, [\"name\", \"title\"]),\n          (openBlock(true), createElementBlock(Fragment, null, renderList(pathElements.value, (dir) => {\n            return openBlock(), createBlock(unref(NcBreadcrumb), {\n              key: dir.path,\n              name: dir.name,\n              title: dir.path,\n              onClick: ($event) => emit2(\"update:path\", dir.path)\n            }, null, 8, [\"name\", \"title\", \"onClick\"]);\n          }), 128))\n        ]),\n        _: 2\n      }, [\n        __props.showMenu ? {\n          name: \"actions\",\n          fn: withCtx(() => [\n            createVNode(unref(NcActions), {\n              open: actionsOpen.value,\n              \"onUpdate:open\": _cache[2] || (_cache[2] = ($event) => actionsOpen.value = $event),\n              \"aria-label\": unref(t)(\"Create directory\"),\n              \"force-menu\": true,\n              \"force-name\": true,\n              \"menu-name\": unref(t)(\"New\"),\n              variant: \"secondary\",\n              onClose: _cache[3] || (_cache[3] = ($event) => newNodeName.value = \"\")\n            }, {\n              icon: withCtx(() => [\n                createVNode(IconPlus, { size: 20 })\n              ]),\n              default: withCtx(() => [\n                createVNode(unref(NcActionInput), {\n                  ref_key: \"nameInput\",\n                  ref: nameInput,\n                  modelValue: newNodeName.value,\n                  \"onUpdate:modelValue\": [\n                    _cache[1] || (_cache[1] = ($event) => newNodeName.value = $event),\n                    validateInput\n                  ],\n                  label: unref(t)(\"New folder\"),\n                  placeholder: unref(t)(\"New folder name\"),\n                  onSubmit\n                }, {\n                  icon: withCtx(() => [\n                    createVNode(IconFolder, { size: 20 })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\", \"label\", \"placeholder\"])\n              ]),\n              _: 1\n            }, 8, [\"open\", \"aria-label\", \"menu-name\"])\n          ]),\n          key: \"0\"\n        } : void 0\n      ]), 1024);\n    };\n  }\n});\nconst FilePickerBreadcrumbs = /* @__PURE__ */ _export_sfc(_sfc_main$4, [[\"__scopeId\", \"data-v-4e6fd4e4\"]]);\nconst _sfc_main$3 = {\n  name: \"CloseIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$3 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$2 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$1 = { d: \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" };\nconst _hoisted_4$1 = { key: 0 };\nfunction _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon close-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$1, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$1, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$2))\n  ], 16, _hoisted_1$3);\n}\nconst IconClose = /* @__PURE__ */ _export_sfc(_sfc_main$3, [[\"render\", _sfc_render$1]]);\nconst _sfc_main$2 = {\n  name: \"MagnifyIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$2 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$1 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3 = { d: \"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z\" };\nconst _hoisted_4 = { key: 0 };\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon magnify-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$1))\n  ], 16, _hoisted_1$2);\n}\nconst IconMagnify = /* @__PURE__ */ _export_sfc(_sfc_main$2, [[\"render\", _sfc_render]]);\nfunction useViews(isAnonymous) {\n  const allViews = [\n    {\n      id: \"files\",\n      label: t(\"All files\"),\n      icon: mdiFolder\n    },\n    {\n      id: \"recent\",\n      label: t(\"Recent\"),\n      icon: mdiClock\n    },\n    {\n      id: \"favorites\",\n      label: t(\"Favorites\"),\n      icon: mdiStar\n    }\n  ];\n  const availableViews = isAnonymous.value ? allViews.filter(({ id }) => id === \"files\") : allViews;\n  return {\n    allViews,\n    availableViews\n  };\n}\nconst _hoisted_1$1 = {\n  key: 0,\n  class: \"file-picker__side\"\n};\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  __name: \"FilePickerNavigation\",\n  props: {\n    currentView: {},\n    filterString: {},\n    isCollapsed: { type: Boolean },\n    disabledNavigation: { type: Boolean }\n  },\n  emits: [\"update:currentView\", \"update:filterString\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit2 = __emit;\n    const { availableViews } = useViews(ref(getCurrentUser() === null));\n    const currentViewObject = computed(() => availableViews.filter((v) => v.id === props.currentView)[0] ?? availableViews[0]);\n    const updateFilterValue = (value) => emit2(\"update:filterString\", value);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createVNode(unref(NcTextField), {\n          class: \"file-picker__filter-input\",\n          label: unref(t)(\"Filter file list\"),\n          \"show-trailing-button\": !!__props.filterString,\n          \"model-value\": __props.filterString,\n          \"onUpdate:modelValue\": updateFilterValue,\n          onTrailingButtonClick: _cache[0] || (_cache[0] = ($event) => updateFilterValue(\"\"))\n        }, {\n          \"trailing-button-icon\": withCtx(() => [\n            createVNode(IconClose, { size: 16 })\n          ]),\n          default: withCtx(() => [\n            createVNode(IconMagnify, { size: 16 })\n          ]),\n          _: 1\n        }, 8, [\"label\", \"show-trailing-button\", \"model-value\"]),\n        unref(availableViews).length > 1 && !__props.disabledNavigation ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n          !__props.isCollapsed ? (openBlock(), createElementBlock(\"ul\", _hoisted_1$1, [\n            (openBlock(true), createElementBlock(Fragment, null, renderList(unref(availableViews), (view) => {\n              return openBlock(), createElementBlock(\"li\", {\n                key: view.id\n              }, [\n                createVNode(unref(NcButton), {\n                  variant: __props.currentView === view.id ? \"primary\" : \"tertiary\",\n                  wide: true,\n                  onClick: ($event) => _ctx.$emit(\"update:currentView\", view.id)\n                }, {\n                  icon: withCtx(() => [\n                    createVNode(unref(NcIconSvgWrapper), {\n                      path: view.icon,\n                      size: 20\n                    }, null, 8, [\"path\"])\n                  ]),\n                  default: withCtx(() => [\n                    createTextVNode(\" \" + toDisplayString(view.label), 1)\n                  ]),\n                  _: 2\n                }, 1032, [\"variant\", \"onClick\"])\n              ]);\n            }), 128))\n          ])) : (openBlock(), createBlock(unref(NcSelect), {\n            key: 1,\n            \"aria-label\": unref(t)(\"Current view selector\"),\n            clearable: false,\n            searchable: false,\n            options: unref(availableViews),\n            \"model-value\": currentViewObject.value,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => emit2(\"update:currentView\", $event.id))\n          }, null, 8, [\"aria-label\", \"options\", \"model-value\"]))\n        ], 64)) : createCommentVNode(\"\", true)\n      ], 64);\n    };\n  }\n});\nconst FilePickerNavigation = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"__scopeId\", \"data-v-86223490\"]]);\nfunction getRecentNodes(client) {\n  const controller = new AbortController();\n  const lastTwoWeek = Math.round(Date.now() / 1e3) - 60 * 60 * 24 * 14;\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const { data } = await client.search(\"/\", {\n        signal: controller.signal,\n        details: true,\n        data: davGetRecentSearch(lastTwoWeek)\n      });\n      const nodes = data.results.map((result) => davResultToNode(result));\n      resolve(nodes);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nfunction getNodes(client, directoryPath) {\n  const controller = new AbortController();\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const results = await client.getDirectoryContents(joinPaths(davRootPath, directoryPath), {\n        signal: controller.signal,\n        details: true,\n        includeSelf: true,\n        data: davGetDefaultPropfind()\n      });\n      const nodes = results.data.map((result) => davResultToNode(result));\n      resolve({\n        contents: nodes.filter(({ path }) => path !== directoryPath),\n        folder: nodes.find(({ path }) => path === directoryPath)\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nasync function getFile(client, path) {\n  const { data } = await client.stat(joinPaths(davRootPath, path), {\n    details: true,\n    data: davGetDefaultPropfind()\n  });\n  return davResultToNode(data);\n}\nfunction useDAVFiles(currentView, currentPath) {\n  const client = davGetClient();\n  const files = shallowRef([]);\n  const folder = shallowRef(null);\n  const isLoading = ref(true);\n  const promise = ref(null);\n  async function createDirectory(name) {\n    const path = joinPaths(currentPath.value, name);\n    await client.createDirectory(joinPaths(davRootPath, path));\n    const directory = await getFile(client, path);\n    files.value = [...files.value, directory];\n    return directory;\n  }\n  async function loadDAVFiles() {\n    if (promise.value) {\n      promise.value.cancel();\n    }\n    isLoading.value = true;\n    if (currentView.value === \"favorites\") {\n      promise.value = getFavoriteNodes(client, currentPath.value);\n    } else if (currentView.value === \"recent\") {\n      promise.value = getRecentNodes(client);\n    } else {\n      promise.value = getNodes(client, currentPath.value);\n    }\n    const content = await promise.value;\n    if (!content) {\n      return;\n    } else if (\"folder\" in content) {\n      folder.value = content.folder;\n      files.value = content.contents;\n    } else {\n      folder.value = null;\n      files.value = content;\n    }\n    promise.value = null;\n    isLoading.value = false;\n  }\n  watch([currentView, currentPath], () => loadDAVFiles());\n  onMounted(() => loadDAVFiles());\n  return {\n    isLoading,\n    files,\n    folder,\n    loadFiles: loadDAVFiles,\n    createDirectory\n  };\n}\nfunction useMimeFilter(allowedMIMETypes) {\n  const splittedTypes = computed(() => allowedMIMETypes.value.map((filter) => filter.split(\"/\")));\n  const isSupportedMimeType = (mime) => {\n    const mimeTypeArray = mime.split(\"/\");\n    return splittedTypes.value.some(([type, subtype]) => (\n      // check mime type matches or is wildcard\n      (mimeTypeArray[0] === type || type === \"*\") && (mimeTypeArray[1] === subtype || subtype === \"*\")\n    ));\n  };\n  return {\n    isSupportedMimeType\n  };\n}\nconst _hoisted_1 = { class: \"file-picker__main\" };\nconst _hoisted_2 = {\n  key: 1,\n  class: \"file-picker__view\"\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"FilePicker\",\n  props: {\n    buttons: {},\n    name: {},\n    allowPickDirectory: { type: Boolean, default: false },\n    disabledNavigation: { type: Boolean, default: false },\n    filterFn: { type: Function, default: void 0 },\n    canPickFn: { type: Function, default: void 0 },\n    mimetypeFilter: { default: () => [] },\n    multiselect: { type: Boolean, default: false },\n    path: { default: void 0 }\n  },\n  emits: [\"close\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit$1 = __emit;\n    const isOpen = ref(true);\n    const currentView = ref(\"files\");\n    const savedPath = ref(window?.sessionStorage.getItem(\"NC.FilePicker.LastPath\") || \"/\");\n    const navigatedPath = ref(\"\");\n    const currentPath = computed({\n      get: () => {\n        return currentView.value === \"files\" ? navigatedPath.value || props.path || savedPath.value : \"/\";\n      },\n      set: (path) => {\n        navigatedPath.value = path;\n      }\n    });\n    const selectedFiles = shallowRef([]);\n    const {\n      files,\n      folder: currentFolder,\n      isLoading,\n      loadFiles,\n      createDirectory\n    } = useDAVFiles(currentView, currentPath);\n    watch([navigatedPath], () => {\n      if (props.path === void 0 && navigatedPath.value) {\n        window.sessionStorage.setItem(\"NC.FilePicker.LastPath\", navigatedPath.value);\n      }\n      selectedFiles.value = [];\n    });\n    let isHandlingCallback = false;\n    const dialogButtons = computed(() => {\n      const nodes = selectedFiles.value.length === 0 && props.allowPickDirectory && currentFolder.value ? [currentFolder.value] : selectedFiles.value;\n      const buttons = typeof props.buttons === \"function\" ? props.buttons(nodes, currentPath.value, currentView.value) : props.buttons;\n      return buttons.map((button) => ({\n        ...button,\n        disabled: button.disabled || isLoading.value,\n        callback: () => {\n          isHandlingCallback = true;\n          handleButtonClick(button.callback, nodes);\n        }\n      }));\n    });\n    async function handleButtonClick(callback, nodes) {\n      await callback(nodes);\n      emit$1(\"close\", nodes);\n      isHandlingCallback = false;\n    }\n    const viewHeadline = computed(() => currentView.value === \"favorites\" ? t(\"Favorites\") : currentView.value === \"recent\" ? t(\"Recent\") : \"\");\n    const filterString = ref(\"\");\n    const { isSupportedMimeType } = useMimeFilter(toRef(props, \"mimetypeFilter\"));\n    onMounted(() => loadFiles());\n    const { showHiddenFiles } = useFilesSettings();\n    const filteredFiles = computed(() => {\n      let filtered = files.value;\n      if (!showHiddenFiles.value) {\n        filtered = filtered.filter((file) => !file.basename.startsWith(\".\"));\n      }\n      if (props.mimetypeFilter.length > 0) {\n        filtered = filtered.filter((file) => file.type === \"folder\" || file.mime && isSupportedMimeType(file.mime));\n      }\n      if (filterString.value) {\n        filtered = filtered.filter((file) => file.basename.toLowerCase().includes(filterString.value.toLowerCase()));\n      }\n      if (props.filterFn) {\n        filtered = filtered.filter((f) => props.filterFn(f));\n      }\n      return filtered;\n    });\n    const noFilesDescription = computed(() => {\n      if (currentView.value === \"files\") {\n        return t(\"Upload some content or sync with your devices!\");\n      } else if (currentView.value === \"recent\") {\n        return t(\"Files and folders you recently modified will show up here.\");\n      } else {\n        return t(\"Files and folders you mark as favorite will show up here.\");\n      }\n    });\n    async function onCreateFolder(name) {\n      try {\n        const folder = await createDirectory(name);\n        navigatedPath.value = folder.path;\n        emit(\"files:node:created\", files.value.filter((file) => file.basename === name)[0]);\n      } catch (error) {\n        logger.warn(\"Could not create new folder\", { name, error });\n        showError(t(\"Could not create the new folder\"));\n      }\n    }\n    function handleClose(open) {\n      if (!open && !isHandlingCallback) {\n        emit$1(\"close\");\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(NcDialog), {\n        open: isOpen.value,\n        \"onUpdate:open\": [\n          _cache[6] || (_cache[6] = ($event) => isOpen.value = $event),\n          handleClose\n        ],\n        buttons: dialogButtons.value,\n        name: __props.name,\n        size: \"large\",\n        \"content-classes\": \"file-picker__content\",\n        \"dialog-classes\": \"file-picker\",\n        \"navigation-classes\": \"file-picker__navigation\"\n      }, {\n        navigation: withCtx(({ isCollapsed }) => [\n          createVNode(FilePickerNavigation, {\n            \"current-view\": currentView.value,\n            \"onUpdate:currentView\": _cache[0] || (_cache[0] = ($event) => currentView.value = $event),\n            \"filter-string\": filterString.value,\n            \"onUpdate:filterString\": _cache[1] || (_cache[1] = ($event) => filterString.value = $event),\n            \"is-collapsed\": isCollapsed,\n            \"disabled-navigation\": __props.disabledNavigation\n          }, null, 8, [\"current-view\", \"filter-string\", \"is-collapsed\", \"disabled-navigation\"])\n        ]),\n        default: withCtx(() => [\n          createElementVNode(\"div\", _hoisted_1, [\n            currentView.value === \"files\" ? (openBlock(), createBlock(FilePickerBreadcrumbs, {\n              key: 0,\n              path: currentPath.value,\n              \"onUpdate:path\": _cache[2] || (_cache[2] = ($event) => currentPath.value = $event),\n              \"show-menu\": __props.allowPickDirectory,\n              onCreateNode: onCreateFolder\n            }, null, 8, [\"path\", \"show-menu\"])) : (openBlock(), createElementBlock(\"div\", _hoisted_2, [\n              createElementVNode(\"h3\", null, toDisplayString(viewHeadline.value), 1)\n            ])),\n            unref(isLoading) || filteredFiles.value.length > 0 ? (openBlock(), createBlock(FileList, {\n              key: 2,\n              path: currentPath.value,\n              \"onUpdate:path\": [\n                _cache[3] || (_cache[3] = ($event) => currentPath.value = $event),\n                _cache[5] || (_cache[5] = ($event) => currentView.value = \"files\")\n              ],\n              \"selected-files\": selectedFiles.value,\n              \"onUpdate:selectedFiles\": _cache[4] || (_cache[4] = ($event) => selectedFiles.value = $event),\n              \"allow-pick-directory\": __props.allowPickDirectory,\n              \"current-view\": currentView.value,\n              files: filteredFiles.value,\n              multiselect: __props.multiselect,\n              loading: unref(isLoading),\n              name: viewHeadline.value,\n              \"can-pick\": __props.canPickFn\n            }, null, 8, [\"path\", \"selected-files\", \"allow-pick-directory\", \"current-view\", \"files\", \"multiselect\", \"loading\", \"name\", \"can-pick\"])) : filterString.value ? (openBlock(), createBlock(unref(NcEmptyContent), {\n              key: 3,\n              name: unref(t)(\"No matching files\"),\n              description: unref(t)(\"No files matching your filter were found.\")\n            }, {\n              icon: withCtx(() => [\n                createVNode(IconFile)\n              ]),\n              _: 1\n            }, 8, [\"name\", \"description\"])) : (openBlock(), createBlock(unref(NcEmptyContent), {\n              key: 4,\n              name: unref(t)(\"No files in here\"),\n              description: noFilesDescription.value\n            }, {\n              icon: withCtx(() => [\n                createVNode(IconFile)\n              ]),\n              _: 1\n            }, 8, [\"name\", \"description\"]))\n          ])\n        ]),\n        _: 1\n      }, 8, [\"open\", \"buttons\", \"name\"]);\n    };\n  }\n});\nconst FilePicker = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-5287035b\"]]);\nexport {\n  FilePicker as default\n};\n//# sourceMappingURL=FilePicker-CtWlxGEm.mjs.map\n"],"names":["ShareType","_sfc_main$e","_hoisted_1$c","_hoisted_2$b","_hoisted_3$a","_hoisted_4$a","_sfc_render$7","_ctx","_cache","$props","$setup","$data","$options","$event","IconFile","_sfc_main$d","_hoisted_1$b","_hoisted_2$a","_hoisted_3$9","_hoisted_4$9","_sfc_render$6","IconSortDescending","_sfc_main$c","_hoisted_1$a","_hoisted_2$9","_hoisted_3$8","_hoisted_4$8","_sfc_render$5","IconSortAscending","_sfc_main$b","_hoisted_1$9","_hoisted_2$8","_hoisted_3$7","_hoisted_4$7","_sfc_render$4","IconFolder","fileListIconStyles","_sfc_main$a","__props","props","fileListIconStyles$1","previewURL","previewLoaded","isFile","folderDecorationIcon","mdi","shareTypes","type","NcIconSvgWrapper","_hoisted_1$8","_hoisted_2$7","_hoisted_3$6","_hoisted_4$6","_hoisted_5$1","_hoisted_6$1","_hoisted_7$1","_sfc_main$9","__emit","emit2","timestamp","displayName","fileExtension","isDirectory","isPickable","isNavigatable","toggleSelected","handleClick","handleKeyDown","event","NcCheckboxRadioSwitch","NcDateTime","FileListRow","_hoisted_1$7","_hoisted_2$6","_hoisted_3$5","_hoisted_4$5","_sfc_main$8","LoadingTableRow","useFilesSettings","filesUserState","showHiddenFiles","sortFavoritesFirst","cropImagePreviews","data","error","useFilesViews","currentView","convertOrder","order2","filesViewsState","filesViewConfig","recentViewConfig","favoritesViewConfig","currentConfig","sortBy","order","_hoisted_1$6","_hoisted_2$5","_hoisted_3$4","_hoisted_4$4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_sfc_main$7","path","selectedFiles","customSortingConfig","filesAppSorting","sortingConfig","sortByName","sortBySize","sortByModified","toggleSorting","sortedFiles","selectableFiles","file","allSelected","onSelectAll","onNodeSelected","f","onChangeDirectory","dir","skeletonNumber","fileContainer","resize","nodes","height","index","NcButton","FileList","_sfc_main$6","_hoisted_1$5","_hoisted_2$4","_hoisted_3$3","_hoisted_4$3","_sfc_render$3","IconHome","_sfc_main$5","_hoisted_1$4","_hoisted_2$3","_hoisted_3$2","_hoisted_4$2","_sfc_render$2","IconPlus","_sfc_main$4","actionsOpen","newNodeName","nameInput","validateInput","name","input","validity","onSubmit","pathElements","v","i","elements","NcActions","NcActionInput","FilePickerBreadcrumbs","_sfc_main$3","_hoisted_1$3","_hoisted_2$2","_hoisted_3$1","_hoisted_4$1","_sfc_render$1","IconClose","_sfc_main$2","_hoisted_1$2","_hoisted_2$1","_hoisted_3","_hoisted_4","_sfc_render","IconMagnify","useViews","isAnonymous","allViews","availableViews","id","_hoisted_1$1","_sfc_main$1","currentViewObject","updateFilterValue","value","NcTextField","NcSelect","view","FilePickerNavigation","getRecentNodes","client","controller","lastTwoWeek","CancelablePromise","resolve","reject","onCancel","result","getNodes","directoryPath","getFile","useDAVFiles","currentPath","files","folder","isLoading","promise","createDirectory","directory","loadDAVFiles","content","useMimeFilter","allowedMIMETypes","splittedTypes","filter","mime","mimeTypeArray","subtype","_hoisted_1","_hoisted_2","_sfc_main","emit$1","isOpen","savedPath","navigatedPath","currentFolder","loadFiles","isHandlingCallback","dialogButtons","button","handleButtonClick","callback","viewHeadline","filterString","isSupportedMimeType","filteredFiles","filtered","noFilesDescription","onCreateFolder","handleClose","open","NcDialog","isCollapsed","NcEmptyContent","FilePicker"],"sourceRoot":""}