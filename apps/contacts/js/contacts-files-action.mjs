import{f as r,_ as y,o as m,g as u,h as i,d as s,t as c,r as h,i as g,j as p,k as w,m as f,e as b,L as A,a as C}from"./LegacyGlobalMixin-fsGrxvTH.chunk.mjs";import{N as _,a as x}from"./index-01gXY4hn.chunk.mjs";import{r as M,F as k,D as N,P as S}from"./index-CuEzb-tB.chunk.mjs";const j={name:"ConfirmationDialog",components:{NcButton:_,NcModal:x},props:{title:{type:String,required:!0},resolve:{type:Function,required:!0},reject:{type:Function,required:!0},confirmText:{type:String,default:r("contacts","Confirm")},disabled:{type:Boolean,default:void 0}},methods:{confirm(){this.resolve()},cancel(){this.reject()}}},B={class:"confirm-modal"},D={class:"confirm-modal__buttons"};function F(a,t,e,n,l,o){const d=f("NcButton"),v=f("NcModal");return m(),u(v,{class:"confirm-modal",onClose:o.cancel},{default:i(()=>[s("div",B,[s("h2",null,c(e.title),1),h(a.$slots,"default",{},void 0,!0),s("div",D,[g(d,{variant:"tertiary",disabled:e.disabled,onClick:o.cancel},{default:i(()=>[p(c(a.t("contacts","Cancel")),1)]),_:1},8,["disabled","onClick"]),e.resolve?(m(),u(d,{key:0,disabled:e.disabled,variant:"primary",onClick:o.confirm},{default:i(()=>[p(c(e.confirmText),1)]),_:1},8,["disabled","onClick"])):w("",!0)])])]),_:3},8,["onClose"])}const V=y(j,[["render",F],["__scopeId","data-v-62296551"]]),q='<svg xmlns="http://www.w3.org/2000/svg" id="mdi-account-multiple" viewBox="0 0 24 24"><path d="M16 17V19H2V17S2 13 9 13 16 17 16 17M12.5 7.5A3.5 3.5 0 1 0 9 11A3.5 3.5 0 0 0 12.5 7.5M15.94 13A5.32 5.32 0 0 1 18 17V19H22V17S22 13.37 15.94 13M15 4A3.39 3.39 0 0 0 13.07 4.59A5 5 0 0 1 13.07 10.41A3.39 3.39 0 0 0 15 11A3.5 3.5 0 0 0 15 4Z" /></svg>',E="text/vcard",I="contacts-import";M(new k({id:I,displayName:()=>r("contacts","Import"),default:N.DEFAULT,enabled:a=>{if(a.length!==1)return!1;const t=a[0];return t.mime===E&&t.permissions&S.READ},iconSvgInline:()=>q,async exec(a){let t;try{const e="confirmation-"+Math.random().toString(16).slice(2),n=document.createElement("div");n.id=e,document.body.appendChild(n),await new Promise((l,o)=>{t=b(V,{title:r("contacts","Are you sure you want to import this contact file?"),resolve:l,reject:o}),t.mixin(A),t.mount(`#${e}`)}),window.location=C(`/apps/contacts/import?file=${a.path}`)}catch{}finally{t?.unmount()}return null}}));
//# sourceMappingURL=contacts-files-action.mjs.map
